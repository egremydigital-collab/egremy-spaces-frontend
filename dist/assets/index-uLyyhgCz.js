function Zy(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Au(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fc={exports:{}},Wa={},Wc={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function ev(){if(If)return Oe;If=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function k(R,D,X){this.props=R,this.context=D,this.refs=S,this.updater=X||w}k.prototype.isReactComponent={},k.prototype.setState=function(R,D){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,D,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=k.prototype;function T(R,D,X){this.props=R,this.context=D,this.refs=S,this.updater=X||w}var P=T.prototype=new C;P.constructor=T,j(P,k.prototype),P.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,z={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function K(R,D,X){var ee,he={},fe=null,ge=null;if(D!=null)for(ee in D.ref!==void 0&&(ge=D.ref),D.key!==void 0&&(fe=""+D.key),D)$.call(D,ee)&&!U.hasOwnProperty(ee)&&(he[ee]=D[ee]);var Re=arguments.length-2;if(Re===1)he.children=X;else if(1<Re){for(var Pe=Array(Re),Ae=0;Ae<Re;Ae++)Pe[Ae]=arguments[Ae+2];he.children=Pe}if(R&&R.defaultProps)for(ee in Re=R.defaultProps,Re)he[ee]===void 0&&(he[ee]=Re[ee]);return{$$typeof:r,type:R,key:fe,ref:ge,props:he,_owner:z.current}}function Z(R,D){return{$$typeof:r,type:R.type,key:D,ref:R.ref,props:R.props,_owner:R._owner}}function xe(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function oe(R){var D={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return D[X]})}var J=/\/+/g;function ce(R,D){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):D.toString(36)}function me(R,D,X,ee,he){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var ge=!1;if(R===null)ge=!0;else switch(fe){case"string":case"number":ge=!0;break;case"object":switch(R.$$typeof){case r:case e:ge=!0}}if(ge)return ge=R,he=he(ge),R=ee===""?"."+ce(ge,0):ee,M(he)?(X="",R!=null&&(X=R.replace(J,"$&/")+"/"),me(he,D,X,"",function(Ae){return Ae})):he!=null&&(xe(he)&&(he=Z(he,X+(!he.key||ge&&ge.key===he.key?"":(""+he.key).replace(J,"$&/")+"/")+R)),D.push(he)),1;if(ge=0,ee=ee===""?".":ee+":",M(R))for(var Re=0;Re<R.length;Re++){fe=R[Re];var Pe=ee+ce(fe,Re);ge+=me(fe,D,X,Pe,he)}else if(Pe=_(R),typeof Pe=="function")for(R=Pe.call(R),Re=0;!(fe=R.next()).done;)fe=fe.value,Pe=ee+ce(fe,Re++),ge+=me(fe,D,X,Pe,he);else if(fe==="object")throw D=String(R),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ge}function ue(R,D,X){if(R==null)return R;var ee=[],he=0;return me(R,ee,"","",function(fe){return D.call(X,fe,he++)}),ee}function ne(R){if(R._status===-1){var D=R._result;D=D(),D.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=D)}if(R._status===1)return R._result.default;throw R._result}var Q={current:null},F={transition:null},B={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:F,ReactCurrentOwner:z};function W(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ue,forEach:function(R,D,X){ue(R,function(){D.apply(this,arguments)},X)},count:function(R){var D=0;return ue(R,function(){D++}),D},toArray:function(R){return ue(R,function(D){return D})||[]},only:function(R){if(!xe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Oe.Component=k,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=T,Oe.StrictMode=a,Oe.Suspense=p,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Oe.act=W,Oe.cloneElement=function(R,D,X){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ee=j({},R.props),he=R.key,fe=R.ref,ge=R._owner;if(D!=null){if(D.ref!==void 0&&(fe=D.ref,ge=z.current),D.key!==void 0&&(he=""+D.key),R.type&&R.type.defaultProps)var Re=R.type.defaultProps;for(Pe in D)$.call(D,Pe)&&!U.hasOwnProperty(Pe)&&(ee[Pe]=D[Pe]===void 0&&Re!==void 0?Re[Pe]:D[Pe])}var Pe=arguments.length-2;if(Pe===1)ee.children=X;else if(1<Pe){Re=Array(Pe);for(var Ae=0;Ae<Pe;Ae++)Re[Ae]=arguments[Ae+2];ee.children=Re}return{$$typeof:r,type:R.type,key:he,ref:fe,props:ee,_owner:ge}},Oe.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Oe.createElement=K,Oe.createFactory=function(R){var D=K.bind(null,R);return D.type=R,D},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(R){return{$$typeof:f,render:R}},Oe.isValidElement=xe,Oe.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:ne}},Oe.memo=function(R,D){return{$$typeof:g,type:R,compare:D===void 0?null:D}},Oe.startTransition=function(R){var D=F.transition;F.transition={};try{R()}finally{F.transition=D}},Oe.unstable_act=W,Oe.useCallback=function(R,D){return Q.current.useCallback(R,D)},Oe.useContext=function(R){return Q.current.useContext(R)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(R){return Q.current.useDeferredValue(R)},Oe.useEffect=function(R,D){return Q.current.useEffect(R,D)},Oe.useId=function(){return Q.current.useId()},Oe.useImperativeHandle=function(R,D,X){return Q.current.useImperativeHandle(R,D,X)},Oe.useInsertionEffect=function(R,D){return Q.current.useInsertionEffect(R,D)},Oe.useLayoutEffect=function(R,D){return Q.current.useLayoutEffect(R,D)},Oe.useMemo=function(R,D){return Q.current.useMemo(R,D)},Oe.useReducer=function(R,D,X){return Q.current.useReducer(R,D,X)},Oe.useRef=function(R){return Q.current.useRef(R)},Oe.useState=function(R){return Q.current.useState(R)},Oe.useSyncExternalStore=function(R,D,X){return Q.current.useSyncExternalStore(R,D,X)},Oe.useTransition=function(){return Q.current.useTransition()},Oe.version="18.3.1",Oe}var Df;function Iu(){return Df||(Df=1,Wc.exports=ev()),Wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function tv(){if(Lf)return Wa;Lf=1;var r=Iu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var y,x={},_=null,w=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(w=p.ref);for(y in p)a.call(p,y)&&!l.hasOwnProperty(y)&&(x[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)x[y]===void 0&&(x[y]=p[y]);return{$$typeof:e,type:f,key:_,ref:w,props:x,_owner:o.current}}return Wa.Fragment=n,Wa.jsx=u,Wa.jsxs=u,Wa}var Mf;function rv(){return Mf||(Mf=1,Fc.exports=tv()),Fc.exports}var h=rv(),b=Iu();const V=Au(b),nv=Zy({__proto__:null,default:V},[b]);var ko={},qc={exports:{}},Gt={},Vc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function sv(){return $f||($f=1,(function(r){function e(F,B){var W=F.length;F.push(B);e:for(;0<W;){var R=W-1>>>1,D=F[R];if(0<o(D,B))F[R]=B,F[W]=D,W=R;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var B=F[0],W=F.pop();if(W!==B){F[0]=W;e:for(var R=0,D=F.length,X=D>>>1;R<X;){var ee=2*(R+1)-1,he=F[ee],fe=ee+1,ge=F[fe];if(0>o(he,W))fe<D&&0>o(ge,he)?(F[R]=ge,F[fe]=W,R=fe):(F[R]=he,F[ee]=W,R=ee);else if(fe<D&&0>o(ge,W))F[R]=ge,F[fe]=W,R=fe;else break e}}return B}function o(F,B){var W=F.sortIndex-B.sortIndex;return W!==0?W:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],g=[],y=1,x=null,_=3,w=!1,j=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(F){for(var B=n(g);B!==null;){if(B.callback===null)a(g);else if(B.startTime<=F)a(g),B.sortIndex=B.expirationTime,e(p,B);else break;B=n(g)}}function M(F){if(S=!1,P(F),!j)if(n(p)!==null)j=!0,ne($);else{var B=n(g);B!==null&&Q(M,B.startTime-F)}}function $(F,B){j=!1,S&&(S=!1,C(K),K=-1),w=!0;var W=_;try{for(P(B),x=n(p);x!==null&&(!(x.expirationTime>B)||F&&!oe());){var R=x.callback;if(typeof R=="function"){x.callback=null,_=x.priorityLevel;var D=R(x.expirationTime<=B);B=r.unstable_now(),typeof D=="function"?x.callback=D:x===n(p)&&a(p),P(B)}else a(p);x=n(p)}if(x!==null)var X=!0;else{var ee=n(g);ee!==null&&Q(M,ee.startTime-B),X=!1}return X}finally{x=null,_=W,w=!1}}var z=!1,U=null,K=-1,Z=5,xe=-1;function oe(){return!(r.unstable_now()-xe<Z)}function J(){if(U!==null){var F=r.unstable_now();xe=F;var B=!0;try{B=U(!0,F)}finally{B?ce():(z=!1,U=null)}}else z=!1}var ce;if(typeof T=="function")ce=function(){T(J)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ue=me.port2;me.port1.onmessage=J,ce=function(){ue.postMessage(null)}}else ce=function(){k(J,0)};function ne(F){U=F,z||(z=!0,ce())}function Q(F,B){K=k(function(){F(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_continueExecution=function(){j||w||(j=!0,ne($))},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(F){switch(_){case 1:case 2:case 3:var B=3;break;default:B=_}var W=_;_=B;try{return F()}finally{_=W}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=_;_=F;try{return B()}finally{_=W}},r.unstable_scheduleCallback=function(F,B,W){var R=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?R+W:R):W=R,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,F={id:y++,callback:B,priorityLevel:F,startTime:W,expirationTime:D,sortIndex:-1},W>R?(F.sortIndex=W,e(g,F),n(p)===null&&F===n(g)&&(S?(C(K),K=-1):S=!0,Q(M,W-R))):(F.sortIndex=D,e(p,F),j||w||(j=!0,ne($))),F},r.unstable_shouldYield=oe,r.unstable_wrapCallback=function(F){var B=_;return function(){var W=_;_=B;try{return F.apply(this,arguments)}finally{_=W}}}})(Hc)),Hc}var zf;function av(){return zf||(zf=1,Vc.exports=sv()),Vc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function iv(){if(Uf)return Gt;Uf=1;var r=Iu(),e=av();function n(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(o[t]=s,t=0;t<s.length;t++)a.add(s[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function _(t){return p.call(x,t)?!0:p.call(y,t)?!1:g.test(t)?x[t]=!0:(y[t]=!0,!1)}function w(t,s,i,c){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,s,i,c){if(s===null||typeof s>"u"||w(t,s,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(t,s,i,c,d,m,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=t,this.type=s,this.sanitizeURL=m,this.removeEmptyString=v}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new S(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];k[s]=new S(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new S(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new S(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new S(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new S(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new S(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new S(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new S(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(C,T);k[s]=new S(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(C,T);k[s]=new S(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(C,T);k[s]=new S(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new S(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new S(t,1,!1,t.toLowerCase(),null,!0,!0)});function P(t,s,i,c){var d=k.hasOwnProperty(s)?k[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,i,d,c)&&(i=null),c||d===null?_(s)&&(i===null?t.removeAttribute(s):t.setAttribute(s,""+i)):d.mustUseProperty?t[d.propertyName]=i===null?d.type===3?!1:"":i:(s=d.attributeName,c=d.attributeNamespace,i===null?t.removeAttribute(s):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,c?t.setAttributeNS(c,s,i):t.setAttribute(s,i))))}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),z=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),oe=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),F=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,R;function D(t){if(R===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+t}var X=!1;function ee(t,s){if(!t||X)return"";X=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(L){var c=L}Reflect.construct(t,[],s)}else{try{s.call()}catch(L){c=L}t.call(s.prototype)}else{try{throw Error()}catch(L){c=L}t()}}catch(L){if(L&&c&&typeof L.stack=="string"){for(var d=L.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,E=m.length-1;1<=v&&0<=E&&d[v]!==m[E];)E--;for(;1<=v&&0<=E;v--,E--)if(d[v]!==m[E]){if(v!==1||E!==1)do if(v--,E--,0>E||d[v]!==m[E]){var N=`
`+d[v].replace(" at new "," at ");return t.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",t.displayName)),N}while(1<=v&&0<=E);break}}}finally{X=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?D(t):""}function he(t){switch(t.tag){case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return t=ee(t.type,!1),t;case 11:return t=ee(t.type.render,!1),t;case 1:return t=ee(t.type,!0),t;default:return""}}function fe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case z:return"Portal";case Z:return"Profiler";case K:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oe:return(t.displayName||"Context")+".Consumer";case xe:return(t._context.displayName||"Context")+".Provider";case J:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ue:return s=t.displayName||null,s!==null?s:fe(t.type)||"Memo";case ne:s=t._payload,t=t._init;try{return fe(t(s))}catch{}}return null}function ge(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(s);case 8:return s===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Re(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pe(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ae(t){var s=Pe(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,m=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Rt(t){t._valueTracker||(t._valueTracker=Ae(t))}function wt(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return t&&(c=Pe(t)?t.checked?"true":"false":t.value),t=c,t!==i?(s.setValue(t),!0):!1}function or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ot(t,s){var i=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function te(t,s){var i=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;i=Re(s.value!=null?s.value:i),t._wrapperState={initialChecked:c,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Se(t,s){s=s.checked,s!=null&&P(t,"checked",s,!1)}function Be(t,s){Se(t,s);var i=Re(s.value),c=s.type;if(i!=null)c==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Pt(t,s.type,i):s.hasOwnProperty("defaultValue")&&Pt(t,s.type,Re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function lt(t,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,i||s===t.value||(t.value=s),t.defaultValue=s}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Pt(t,s,i){(s!=="number"||or(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var st=Array.isArray;function ct(t,s,i,c){if(t=t.options,s){s={};for(var d=0;d<i.length;d++)s["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=s.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&c&&(t[i].defaultSelected=!0)}else{for(i=""+Re(i),s=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function lr(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Et(t,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(n(92));if(st(i)){if(1<i.length)throw Error(n(93));i=i[0]}s=i}s==null&&(s=""),i=s}t._wrapperState={initialValue:Re(i)}}function on(t,s){var i=Re(s.value),c=Re(s.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),s.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),c!=null&&(t.defaultValue=""+c)}function Wr(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Ye(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Ye(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yt,Ar=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,c,d){MSApp.execUnsafeLocalFunction(function(){return t(s,i,c,d)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Yt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Qt(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bn=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(t){Bn.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),At[s]=At[t]})});function ln(t,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||At.hasOwnProperty(t)&&At[t]?(""+s).trim():s+"px"}function yr(t,s){t=t.style;for(var i in s)if(s.hasOwnProperty(i)){var c=i.indexOf("--")===0,d=ln(i,s[i],c);i==="float"&&(i="cssFloat"),c?t.setProperty(i,d):t[i]=d}}var cn=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xt(t,s){if(s){if(cn[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Fn(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hn=null,Ir=null,ze=null;function Ve(t){if(t=Na(t)){if(typeof hn!="function")throw Error(n(280));var s=t.stateNode;s&&(s=Mi(s),hn(t.stateNode,t.type,s))}}function xt(t){Ir?ze?ze.push(t):ze=[t]:Ir=t}function pe(){if(Ir){var t=Ir,s=ze;if(ze=Ir=null,Ve(t),s)for(t=0;t<s.length;t++)Ve(s[t])}}function je(t,s){return t(s)}function Ce(){}var Fe=!1;function at(t,s,i){if(Fe)return t(s,i);Fe=!0;try{return je(t,s,i)}finally{Fe=!1,(Ir!==null||ze!==null)&&(Ce(),pe())}}function De(t,s){var i=t.stateNode;if(i===null)return null;var c=Mi(i);if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(n(231,s,typeof i));return i}var dt=!1;if(f)try{var $e={};Object.defineProperty($e,"passive",{get:function(){dt=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{dt=!1}function ht(t,s,i,c,d,m,v,E,N){var L=Array.prototype.slice.call(arguments,3);try{s.apply(i,L)}catch(H){this.onError(H)}}var vr=!1,Dr=null,Zt=!1,qr=null,ca={onError:function(t){vr=!0,Dr=t}};function og(t,s,i,c,d,m,v,E,N){vr=!1,Dr=null,ht.apply(ca,arguments)}function lg(t,s,i,c,d,m,v,E,N){if(og.apply(this,arguments),vr){if(vr){var L=Dr;vr=!1,Dr=null}else throw Error(n(198));Zt||(Zt=!0,qr=L)}}function Wn(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function rd(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function nd(t){if(Wn(t)!==t)throw Error(n(188))}function cg(t){var s=t.alternate;if(!s){if(s=Wn(t),s===null)throw Error(n(188));return s!==t?null:t}for(var i=t,c=s;;){var d=i.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){i=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===i)return nd(d),t;if(m===c)return nd(d),s;m=m.sibling}throw Error(n(188))}if(i.return!==c.return)i=d,c=m;else{for(var v=!1,E=d.child;E;){if(E===i){v=!0,i=d,c=m;break}if(E===c){v=!0,c=d,i=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===i){v=!0,i=m,c=d;break}if(E===c){v=!0,c=m,i=d;break}E=E.sibling}if(!v)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?t:s}function sd(t){return t=cg(t),t!==null?ad(t):null}function ad(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=ad(t);if(s!==null)return s;t=t.sibling}return null}var id=e.unstable_scheduleCallback,od=e.unstable_cancelCallback,ug=e.unstable_shouldYield,dg=e.unstable_requestPaint,it=e.unstable_now,hg=e.unstable_getCurrentPriorityLevel,ll=e.unstable_ImmediatePriority,ld=e.unstable_UserBlockingPriority,yi=e.unstable_NormalPriority,fg=e.unstable_LowPriority,cd=e.unstable_IdlePriority,vi=null,Lr=null;function pg(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:yg,mg=Math.log,gg=Math.LN2;function yg(t){return t>>>=0,t===0?32:31-(mg(t)/gg|0)|0}var wi=64,xi=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bi(t,s){var i=t.pendingLanes;if(i===0)return 0;var c=0,d=t.suspendedLanes,m=t.pingedLanes,v=i&268435455;if(v!==0){var E=v&~d;E!==0?c=ua(E):(m&=v,m!==0&&(c=ua(m)))}else v=i&~d,v!==0?c=ua(v):m!==0&&(c=ua(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=i&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)i=31-wr(s),d=1<<i,c|=t[i],s&=~d;return c}function vg(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wg(t,s){for(var i=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-wr(m),E=1<<v,N=d[v];N===-1?((E&i)===0||(E&c)!==0)&&(d[v]=vg(E,s)):N<=s&&(t.expiredLanes|=E),m&=~E}}function cl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ud(){var t=wi;return wi<<=1,(wi&4194240)===0&&(wi=64),t}function ul(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function da(t,s,i){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-wr(s),t[s]=i}function xg(t,s){var i=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<i;){var d=31-wr(i),m=1<<d;s[d]=0,c[d]=-1,t[d]=-1,i&=~m}}function dl(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var c=31-wr(i),d=1<<c;d&s|t[c]&s&&(t[c]|=s),i&=~d}}var Me=0;function dd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var hd,hl,fd,pd,md,fl=!1,_i=[],fn=null,pn=null,mn=null,ha=new Map,fa=new Map,gn=[],bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(t,s){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ha.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(s.pointerId)}}function pa(t,s,i,c,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Na(s),s!==null&&hl(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function _g(t,s,i,c,d){switch(s){case"focusin":return fn=pa(fn,t,s,i,c,d),!0;case"dragenter":return pn=pa(pn,t,s,i,c,d),!0;case"mouseover":return mn=pa(mn,t,s,i,c,d),!0;case"pointerover":var m=d.pointerId;return ha.set(m,pa(ha.get(m)||null,t,s,i,c,d)),!0;case"gotpointercapture":return m=d.pointerId,fa.set(m,pa(fa.get(m)||null,t,s,i,c,d)),!0}return!1}function yd(t){var s=qn(t.target);if(s!==null){var i=Wn(s);if(i!==null){if(s=i.tag,s===13){if(s=rd(i),s!==null){t.blockedOn=s,md(t.priority,function(){fd(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ki(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=ml(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);un=c,i.target.dispatchEvent(c),un=null}else return s=Na(i),s!==null&&hl(s),t.blockedOn=i,!1;s.shift()}return!0}function vd(t,s,i){ki(t)&&i.delete(s)}function kg(){fl=!1,fn!==null&&ki(fn)&&(fn=null),pn!==null&&ki(pn)&&(pn=null),mn!==null&&ki(mn)&&(mn=null),ha.forEach(vd),fa.forEach(vd)}function ma(t,s){t.blockedOn===s&&(t.blockedOn=null,fl||(fl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kg)))}function ga(t){function s(d){return ma(d,t)}if(0<_i.length){ma(_i[0],t);for(var i=1;i<_i.length;i++){var c=_i[i];c.blockedOn===t&&(c.blockedOn=null)}}for(fn!==null&&ma(fn,t),pn!==null&&ma(pn,t),mn!==null&&ma(mn,t),ha.forEach(s),fa.forEach(s),i=0;i<gn.length;i++)c=gn[i],c.blockedOn===t&&(c.blockedOn=null);for(;0<gn.length&&(i=gn[0],i.blockedOn===null);)yd(i),i.blockedOn===null&&gn.shift()}var cs=M.ReactCurrentBatchConfig,Si=!0;function Sg(t,s,i,c){var d=Me,m=cs.transition;cs.transition=null;try{Me=1,pl(t,s,i,c)}finally{Me=d,cs.transition=m}}function Eg(t,s,i,c){var d=Me,m=cs.transition;cs.transition=null;try{Me=4,pl(t,s,i,c)}finally{Me=d,cs.transition=m}}function pl(t,s,i,c){if(Si){var d=ml(t,s,i,c);if(d===null)Pl(t,s,c,Ei,i),gd(t,c);else if(_g(d,t,s,i,c))c.stopPropagation();else if(gd(t,c),s&4&&-1<bg.indexOf(t)){for(;d!==null;){var m=Na(d);if(m!==null&&hd(m),m=ml(t,s,i,c),m===null&&Pl(t,s,c,Ei,i),m===d)break;d=m}d!==null&&c.stopPropagation()}else Pl(t,s,c,null,i)}}var Ei=null;function ml(t,s,i,c){if(Ei=null,t=dn(c),t=qn(t),t!==null)if(s=Wn(t),s===null)t=null;else if(i=s.tag,i===13){if(t=rd(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Ei=t,null}function wd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hg()){case ll:return 1;case ld:return 4;case yi:case fg:return 16;case cd:return 536870912;default:return 16}default:return 16}}var yn=null,gl=null,ji=null;function xd(){if(ji)return ji;var t,s=gl,i=s.length,c,d="value"in yn?yn.value:yn.textContent,m=d.length;for(t=0;t<i&&s[t]===d[t];t++);var v=i-t;for(c=1;c<=v&&s[i-c]===d[m-c];c++);return ji=d.slice(t,1<c?1-c:void 0)}function Ci(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function bd(){return!1}function er(t){function s(i,c,d,m,v){this._reactName=i,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ni:bd,this.isPropagationStopped=bd,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),s}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=er(us),ya=W({},us,{view:0,detail:0}),jg=er(ya),vl,wl,va,Ti=W({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==va&&(va&&t.type==="mousemove"?(vl=t.screenX-va.screenX,wl=t.screenY-va.screenY):wl=vl=0,va=t),vl)},movementY:function(t){return"movementY"in t?t.movementY:wl}}),_d=er(Ti),Cg=W({},Ti,{dataTransfer:0}),Ng=er(Cg),Tg=W({},ya,{relatedTarget:0}),xl=er(Tg),Rg=W({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=er(Rg),Pg=W({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ag=er(Pg),Ig=W({},us,{data:0}),kd=er(Ig),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $g(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Mg[t])?!!s[t]:!1}function bl(){return $g}var zg=W({},ya,{key:function(t){if(t.key){var s=Dg[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(t){return t.type==="keypress"?Ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ug=er(zg),Bg=W({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=er(Bg),Fg=W({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),Wg=er(Fg),qg=W({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=er(qg),Hg=W({},Ti,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kg=er(Hg),Gg=[9,13,27,32],_l=f&&"CompositionEvent"in window,wa=null;f&&"documentMode"in document&&(wa=document.documentMode);var Jg=f&&"TextEvent"in window&&!wa,Ed=f&&(!_l||wa&&8<wa&&11>=wa),jd=" ",Cd=!1;function Nd(t,s){switch(t){case"keyup":return Gg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function Yg(t,s){switch(t){case"compositionend":return Td(s);case"keypress":return s.which!==32?null:(Cd=!0,jd);case"textInput":return t=s.data,t===jd&&Cd?null:t;default:return null}}function Qg(t,s){if(ds)return t==="compositionend"||!_l&&Nd(t,s)?(t=xd(),ji=gl=yn=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ed&&s.locale!=="ko"?null:s.data;default:return null}}var Xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Xg[t.type]:s==="textarea"}function Od(t,s,i,c){xt(c),s=Ii(s,"onChange"),0<s.length&&(i=new yl("onChange","change",null,i,c),t.push({event:i,listeners:s}))}var xa=null,ba=null;function Zg(t){Jd(t,0)}function Ri(t){var s=gs(t);if(wt(s))return t}function ey(t,s){if(t==="change")return s}var Pd=!1;if(f){var kl;if(f){var Sl="oninput"in document;if(!Sl){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),Sl=typeof Ad.oninput=="function"}kl=Sl}else kl=!1;Pd=kl&&(!document.documentMode||9<document.documentMode)}function Id(){xa&&(xa.detachEvent("onpropertychange",Dd),ba=xa=null)}function Dd(t){if(t.propertyName==="value"&&Ri(ba)){var s=[];Od(s,ba,t,dn(t)),at(Zg,s)}}function ty(t,s,i){t==="focusin"?(Id(),xa=s,ba=i,xa.attachEvent("onpropertychange",Dd)):t==="focusout"&&Id()}function ry(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ri(ba)}function ny(t,s){if(t==="click")return Ri(s)}function sy(t,s){if(t==="input"||t==="change")return Ri(s)}function ay(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var xr=typeof Object.is=="function"?Object.is:ay;function _a(t,s){if(xr(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var d=i[c];if(!p.call(s,d)||!xr(t[d],s[d]))return!1}return!0}function Ld(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Md(t,s){var i=Ld(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=s&&c>=s)return{node:i,offset:s-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ld(i)}}function $d(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?$d(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function zd(){for(var t=window,s=or();s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=or(t.document)}return s}function El(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function iy(t){var s=zd(),i=t.focusedElem,c=t.selectionRange;if(s!==i&&i&&i.ownerDocument&&$d(i.ownerDocument.documentElement,i)){if(c!==null&&El(i)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(t,i.value.length);else if(t=(s=i.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var d=i.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!t.extend&&m>c&&(d=c,c=m,m=d),d=Md(i,m);var v=Md(i,c);d&&v&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),t.removeAllRanges(),m>c?(t.addRange(s),t.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),t.addRange(s)))}}for(s=[],t=i;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)t=s[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oy=f&&"documentMode"in document&&11>=document.documentMode,hs=null,jl=null,ka=null,Cl=!1;function Ud(t,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Cl||hs==null||hs!==or(c)||(c=hs,"selectionStart"in c&&El(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ka&&_a(ka,c)||(ka=c,c=Ii(jl,"onSelect"),0<c.length&&(s=new yl("onSelect","select",null,s,i),t.push({event:s,listeners:c}),s.target=hs)))}function Oi(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var fs={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionend:Oi("Transition","TransitionEnd")},Nl={},Bd={};f&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Pi(t){if(Nl[t])return Nl[t];if(!fs[t])return t;var s=fs[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in Bd)return Nl[t]=s[i];return t}var Fd=Pi("animationend"),Wd=Pi("animationiteration"),qd=Pi("animationstart"),Vd=Pi("transitionend"),Hd=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(t,s){Hd.set(t,s),l(s,[t])}for(var Tl=0;Tl<Kd.length;Tl++){var Rl=Kd[Tl],ly=Rl.toLowerCase(),cy=Rl[0].toUpperCase()+Rl.slice(1);vn(ly,"on"+cy)}vn(Fd,"onAnimationEnd"),vn(Wd,"onAnimationIteration"),vn(qd,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(Vd,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Gd(t,s,i){var c=t.type||"unknown-event";t.currentTarget=i,lg(c,s,void 0,t),t.currentTarget=null}function Jd(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var v=c.length-1;0<=v;v--){var E=c[v],N=E.instance,L=E.currentTarget;if(E=E.listener,N!==m&&d.isPropagationStopped())break e;Gd(d,E,L),m=N}else for(v=0;v<c.length;v++){if(E=c[v],N=E.instance,L=E.currentTarget,E=E.listener,N!==m&&d.isPropagationStopped())break e;Gd(d,E,L),m=N}}}if(Zt)throw t=qr,Zt=!1,qr=null,t}function He(t,s){var i=s[$l];i===void 0&&(i=s[$l]=new Set);var c=t+"__bubble";i.has(c)||(Yd(s,t,2,!1),i.add(c))}function Ol(t,s,i){var c=0;s&&(c|=4),Yd(i,t,c,s)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function Ea(t){if(!t[Ai]){t[Ai]=!0,a.forEach(function(i){i!=="selectionchange"&&(uy.has(i)||Ol(i,!1,t),Ol(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ai]||(s[Ai]=!0,Ol("selectionchange",!1,s))}}function Yd(t,s,i,c){switch(wd(s)){case 1:var d=Sg;break;case 4:d=Eg;break;default:d=pl}i=d.bind(null,s,i,t),d=void 0,!dt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(s,i,{capture:!0,passive:d}):t.addEventListener(s,i,!0):d!==void 0?t.addEventListener(s,i,{passive:d}):t.addEventListener(s,i,!1)}function Pl(t,s,i,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var E=c.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;v=v.return}for(;E!==null;){if(v=qn(E),v===null)return;if(N=v.tag,N===5||N===6){c=m=v;continue e}E=E.parentNode}}c=c.return}at(function(){var L=m,H=dn(i),G=[];e:{var q=Hd.get(t);if(q!==void 0){var re=yl,ae=t;switch(t){case"keypress":if(Ci(i)===0)break e;case"keydown":case"keyup":re=Ug;break;case"focusin":ae="focus",re=xl;break;case"focusout":ae="blur",re=xl;break;case"beforeblur":case"afterblur":re=xl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Wg;break;case Fd:case Wd:case qd:re=Og;break;case Vd:re=Vg;break;case"scroll":re=jg;break;case"wheel":re=Kg;break;case"copy":case"cut":case"paste":re=Ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Sd}var ie=(s&4)!==0,ot=!ie&&t==="scroll",A=ie?q!==null?q+"Capture":null:q;ie=[];for(var O=L,I;O!==null;){I=O;var Y=I.stateNode;if(I.tag===5&&Y!==null&&(I=Y,A!==null&&(Y=De(O,A),Y!=null&&ie.push(ja(O,Y,I)))),ot)break;O=O.return}0<ie.length&&(q=new re(q,ae,null,i,H),G.push({event:q,listeners:ie}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",q&&i!==un&&(ae=i.relatedTarget||i.fromElement)&&(qn(ae)||ae[Vr]))break e;if((re||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,re?(ae=i.relatedTarget||i.toElement,re=L,ae=ae?qn(ae):null,ae!==null&&(ot=Wn(ae),ae!==ot||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=L),re!==ae)){if(ie=_d,Y="onMouseLeave",A="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ie=Sd,Y="onPointerLeave",A="onPointerEnter",O="pointer"),ot=re==null?q:gs(re),I=ae==null?q:gs(ae),q=new ie(Y,O+"leave",re,i,H),q.target=ot,q.relatedTarget=I,Y=null,qn(H)===L&&(ie=new ie(A,O+"enter",ae,i,H),ie.target=I,ie.relatedTarget=ot,Y=ie),ot=Y,re&&ae)t:{for(ie=re,A=ae,O=0,I=ie;I;I=ps(I))O++;for(I=0,Y=A;Y;Y=ps(Y))I++;for(;0<O-I;)ie=ps(ie),O--;for(;0<I-O;)A=ps(A),I--;for(;O--;){if(ie===A||A!==null&&ie===A.alternate)break t;ie=ps(ie),A=ps(A)}ie=null}else ie=null;re!==null&&Qd(G,q,re,ie,!1),ae!==null&&ot!==null&&Qd(G,ot,ae,ie,!0)}}e:{if(q=L?gs(L):window,re=q.nodeName&&q.nodeName.toLowerCase(),re==="select"||re==="input"&&q.type==="file")var le=ey;else if(Rd(q))if(Pd)le=sy;else{le=ry;var ve=ty}else(re=q.nodeName)&&re.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(le=ny);if(le&&(le=le(t,L))){Od(G,le,i,H);break e}ve&&ve(t,q,L),t==="focusout"&&(ve=q._wrapperState)&&ve.controlled&&q.type==="number"&&Pt(q,"number",q.value)}switch(ve=L?gs(L):window,t){case"focusin":(Rd(ve)||ve.contentEditable==="true")&&(hs=ve,jl=L,ka=null);break;case"focusout":ka=jl=hs=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,Ud(G,i,H);break;case"selectionchange":if(oy)break;case"keydown":case"keyup":Ud(G,i,H)}var we;if(_l)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ds?Nd(t,i)&&(Ee="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ed&&i.locale!=="ko"&&(ds||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ds&&(we=xd()):(yn=H,gl="value"in yn?yn.value:yn.textContent,ds=!0)),ve=Ii(L,Ee),0<ve.length&&(Ee=new kd(Ee,t,null,i,H),G.push({event:Ee,listeners:ve}),we?Ee.data=we:(we=Td(i),we!==null&&(Ee.data=we)))),(we=Jg?Yg(t,i):Qg(t,i))&&(L=Ii(L,"onBeforeInput"),0<L.length&&(H=new kd("onBeforeInput","beforeinput",null,i,H),G.push({event:H,listeners:L}),H.data=we))}Jd(G,s)})}function ja(t,s,i){return{instance:t,listener:s,currentTarget:i}}function Ii(t,s){for(var i=s+"Capture",c=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=De(t,i),m!=null&&c.unshift(ja(t,m,d)),m=De(t,s),m!=null&&c.push(ja(t,m,d))),t=t.return}return c}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qd(t,s,i,c,d){for(var m=s._reactName,v=[];i!==null&&i!==c;){var E=i,N=E.alternate,L=E.stateNode;if(N!==null&&N===c)break;E.tag===5&&L!==null&&(E=L,d?(N=De(i,m),N!=null&&v.unshift(ja(i,N,E))):d||(N=De(i,m),N!=null&&v.push(ja(i,N,E)))),i=i.return}v.length!==0&&t.push({event:s,listeners:v})}var dy=/\r\n?/g,hy=/\u0000|\uFFFD/g;function Xd(t){return(typeof t=="string"?t:""+t).replace(dy,`
`).replace(hy,"")}function Di(t,s,i){if(s=Xd(s),Xd(t)!==s&&i)throw Error(n(425))}function Li(){}var Al=null,Il=null;function Dl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,py=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(t){return Zd.resolve(null).then(t).catch(my)}:Ll;function my(t){setTimeout(function(){throw t})}function Ml(t,s){var i=s,c=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(c===0){t.removeChild(d),ga(s);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=d}while(i);ga(s)}function wn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function eh(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return t;s--}else i==="/$"&&s++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Mr="__reactFiber$"+ms,Ca="__reactProps$"+ms,Vr="__reactContainer$"+ms,$l="__reactEvents$"+ms,gy="__reactListeners$"+ms,yy="__reactHandles$"+ms;function qn(t){var s=t[Mr];if(s)return s;for(var i=t.parentNode;i;){if(s=i[Vr]||i[Mr]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=eh(t);t!==null;){if(i=t[Mr])return i;t=eh(t)}return s}t=i,i=t.parentNode}return null}function Na(t){return t=t[Mr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Mi(t){return t[Ca]||null}var zl=[],ys=-1;function xn(t){return{current:t}}function Ke(t){0>ys||(t.current=zl[ys],zl[ys]=null,ys--)}function We(t,s){ys++,zl[ys]=t.current,t.current=s}var bn={},It=xn(bn),Wt=xn(!1),Vn=bn;function vs(t,s){var i=t.type.contextTypes;if(!i)return bn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in i)d[m]=s[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=d),d}function qt(t){return t=t.childContextTypes,t!=null}function $i(){Ke(Wt),Ke(It)}function th(t,s,i){if(It.current!==bn)throw Error(n(168));We(It,s),We(Wt,i)}function rh(t,s,i){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(n(108,ge(t)||"Unknown",d));return W({},i,c)}function zi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bn,Vn=It.current,We(It,t),We(Wt,Wt.current),!0}function nh(t,s,i){var c=t.stateNode;if(!c)throw Error(n(169));i?(t=rh(t,s,Vn),c.__reactInternalMemoizedMergedChildContext=t,Ke(Wt),Ke(It),We(It,t)):Ke(Wt),We(Wt,i)}var Hr=null,Ui=!1,Ul=!1;function sh(t){Hr===null?Hr=[t]:Hr.push(t)}function vy(t){Ui=!0,sh(t)}function _n(){if(!Ul&&Hr!==null){Ul=!0;var t=0,s=Me;try{var i=Hr;for(Me=1;t<i.length;t++){var c=i[t];do c=c(!0);while(c!==null)}Hr=null,Ui=!1}catch(d){throw Hr!==null&&(Hr=Hr.slice(t+1)),id(ll,_n),d}finally{Me=s,Ul=!1}}return null}var ws=[],xs=0,Bi=null,Fi=0,cr=[],ur=0,Hn=null,Kr=1,Gr="";function Kn(t,s){ws[xs++]=Fi,ws[xs++]=Bi,Bi=t,Fi=s}function ah(t,s,i){cr[ur++]=Kr,cr[ur++]=Gr,cr[ur++]=Hn,Hn=t;var c=Kr;t=Gr;var d=32-wr(c)-1;c&=~(1<<d),i+=1;var m=32-wr(s)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Kr=1<<32-wr(s)+d|i<<d|c,Gr=m+t}else Kr=1<<m|i<<d|c,Gr=t}function Bl(t){t.return!==null&&(Kn(t,1),ah(t,1,0))}function Fl(t){for(;t===Bi;)Bi=ws[--xs],ws[xs]=null,Fi=ws[--xs],ws[xs]=null;for(;t===Hn;)Hn=cr[--ur],cr[ur]=null,Gr=cr[--ur],cr[ur]=null,Kr=cr[--ur],cr[ur]=null}var tr=null,rr=null,Qe=!1,br=null;function ih(t,s){var i=pr(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=t,s=t.deletions,s===null?(t.deletions=[i],t.flags|=16):s.push(i)}function oh(t,s){switch(t.tag){case 5:var i=t.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,tr=t,rr=wn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,tr=t,rr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=Hn!==null?{id:Kr,overflow:Gr}:null,t.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=pr(18,null,null,0),i.stateNode=s,i.return=t,t.child=i,tr=t,rr=null,!0):!1;default:return!1}}function Wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ql(t){if(Qe){var s=rr;if(s){var i=s;if(!oh(t,s)){if(Wl(t))throw Error(n(418));s=wn(i.nextSibling);var c=tr;s&&oh(t,s)?ih(c,i):(t.flags=t.flags&-4097|2,Qe=!1,tr=t)}}else{if(Wl(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,tr=t}}}function lh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function Wi(t){if(t!==tr)return!1;if(!Qe)return lh(t),Qe=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Dl(t.type,t.memoizedProps)),s&&(s=rr)){if(Wl(t))throw ch(),Error(n(418));for(;s;)ih(t,s),s=wn(s.nextSibling)}if(lh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(s===0){rr=wn(t.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}t=t.nextSibling}rr=null}}else rr=tr?wn(t.stateNode.nextSibling):null;return!0}function ch(){for(var t=rr;t;)t=wn(t.nextSibling)}function bs(){rr=tr=null,Qe=!1}function Vl(t){br===null?br=[t]:br.push(t)}var wy=M.ReactCurrentBatchConfig;function Ta(t,s,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,t));var d=c,m=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(v){var E=d.refs;v===null?delete E[m]:E[m]=v},s._stringRef=m,s)}if(typeof t!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,t))}return t}function qi(t,s){throw t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function uh(t){var s=t._init;return s(t._payload)}function dh(t){function s(A,O){if(t){var I=A.deletions;I===null?(A.deletions=[O],A.flags|=16):I.push(O)}}function i(A,O){if(!t)return null;for(;O!==null;)s(A,O),O=O.sibling;return null}function c(A,O){for(A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function d(A,O){return A=Rn(A,O),A.index=0,A.sibling=null,A}function m(A,O,I){return A.index=I,t?(I=A.alternate,I!==null?(I=I.index,I<O?(A.flags|=2,O):I):(A.flags|=2,O)):(A.flags|=1048576,O)}function v(A){return t&&A.alternate===null&&(A.flags|=2),A}function E(A,O,I,Y){return O===null||O.tag!==6?(O=Lc(I,A.mode,Y),O.return=A,O):(O=d(O,I),O.return=A,O)}function N(A,O,I,Y){var le=I.type;return le===U?H(A,O,I.props.children,Y,I.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&uh(le)===O.type)?(Y=d(O,I.props),Y.ref=Ta(A,O,I),Y.return=A,Y):(Y=mo(I.type,I.key,I.props,null,A.mode,Y),Y.ref=Ta(A,O,I),Y.return=A,Y)}function L(A,O,I,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==I.containerInfo||O.stateNode.implementation!==I.implementation?(O=Mc(I,A.mode,Y),O.return=A,O):(O=d(O,I.children||[]),O.return=A,O)}function H(A,O,I,Y,le){return O===null||O.tag!==7?(O=ts(I,A.mode,Y,le),O.return=A,O):(O=d(O,I),O.return=A,O)}function G(A,O,I){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Lc(""+O,A.mode,I),O.return=A,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case $:return I=mo(O.type,O.key,O.props,null,A.mode,I),I.ref=Ta(A,null,O),I.return=A,I;case z:return O=Mc(O,A.mode,I),O.return=A,O;case ne:var Y=O._init;return G(A,Y(O._payload),I)}if(st(O)||B(O))return O=ts(O,A.mode,I,null),O.return=A,O;qi(A,O)}return null}function q(A,O,I,Y){var le=O!==null?O.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return le!==null?null:E(A,O,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return I.key===le?N(A,O,I,Y):null;case z:return I.key===le?L(A,O,I,Y):null;case ne:return le=I._init,q(A,O,le(I._payload),Y)}if(st(I)||B(I))return le!==null?null:H(A,O,I,Y,null);qi(A,I)}return null}function re(A,O,I,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return A=A.get(I)||null,E(O,A,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return A=A.get(Y.key===null?I:Y.key)||null,N(O,A,Y,le);case z:return A=A.get(Y.key===null?I:Y.key)||null,L(O,A,Y,le);case ne:var ve=Y._init;return re(A,O,I,ve(Y._payload),le)}if(st(Y)||B(Y))return A=A.get(I)||null,H(O,A,Y,le,null);qi(O,Y)}return null}function ae(A,O,I,Y){for(var le=null,ve=null,we=O,Ee=O=0,kt=null;we!==null&&Ee<I.length;Ee++){we.index>Ee?(kt=we,we=null):kt=we.sibling;var Le=q(A,we,I[Ee],Y);if(Le===null){we===null&&(we=kt);break}t&&we&&Le.alternate===null&&s(A,we),O=m(Le,O,Ee),ve===null?le=Le:ve.sibling=Le,ve=Le,we=kt}if(Ee===I.length)return i(A,we),Qe&&Kn(A,Ee),le;if(we===null){for(;Ee<I.length;Ee++)we=G(A,I[Ee],Y),we!==null&&(O=m(we,O,Ee),ve===null?le=we:ve.sibling=we,ve=we);return Qe&&Kn(A,Ee),le}for(we=c(A,we);Ee<I.length;Ee++)kt=re(we,A,Ee,I[Ee],Y),kt!==null&&(t&&kt.alternate!==null&&we.delete(kt.key===null?Ee:kt.key),O=m(kt,O,Ee),ve===null?le=kt:ve.sibling=kt,ve=kt);return t&&we.forEach(function(On){return s(A,On)}),Qe&&Kn(A,Ee),le}function ie(A,O,I,Y){var le=B(I);if(typeof le!="function")throw Error(n(150));if(I=le.call(I),I==null)throw Error(n(151));for(var ve=le=null,we=O,Ee=O=0,kt=null,Le=I.next();we!==null&&!Le.done;Ee++,Le=I.next()){we.index>Ee?(kt=we,we=null):kt=we.sibling;var On=q(A,we,Le.value,Y);if(On===null){we===null&&(we=kt);break}t&&we&&On.alternate===null&&s(A,we),O=m(On,O,Ee),ve===null?le=On:ve.sibling=On,ve=On,we=kt}if(Le.done)return i(A,we),Qe&&Kn(A,Ee),le;if(we===null){for(;!Le.done;Ee++,Le=I.next())Le=G(A,Le.value,Y),Le!==null&&(O=m(Le,O,Ee),ve===null?le=Le:ve.sibling=Le,ve=Le);return Qe&&Kn(A,Ee),le}for(we=c(A,we);!Le.done;Ee++,Le=I.next())Le=re(we,A,Ee,Le.value,Y),Le!==null&&(t&&Le.alternate!==null&&we.delete(Le.key===null?Ee:Le.key),O=m(Le,O,Ee),ve===null?le=Le:ve.sibling=Le,ve=Le);return t&&we.forEach(function(Xy){return s(A,Xy)}),Qe&&Kn(A,Ee),le}function ot(A,O,I,Y){if(typeof I=="object"&&I!==null&&I.type===U&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case $:e:{for(var le=I.key,ve=O;ve!==null;){if(ve.key===le){if(le=I.type,le===U){if(ve.tag===7){i(A,ve.sibling),O=d(ve,I.props.children),O.return=A,A=O;break e}}else if(ve.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&uh(le)===ve.type){i(A,ve.sibling),O=d(ve,I.props),O.ref=Ta(A,ve,I),O.return=A,A=O;break e}i(A,ve);break}else s(A,ve);ve=ve.sibling}I.type===U?(O=ts(I.props.children,A.mode,Y,I.key),O.return=A,A=O):(Y=mo(I.type,I.key,I.props,null,A.mode,Y),Y.ref=Ta(A,O,I),Y.return=A,A=Y)}return v(A);case z:e:{for(ve=I.key;O!==null;){if(O.key===ve)if(O.tag===4&&O.stateNode.containerInfo===I.containerInfo&&O.stateNode.implementation===I.implementation){i(A,O.sibling),O=d(O,I.children||[]),O.return=A,A=O;break e}else{i(A,O);break}else s(A,O);O=O.sibling}O=Mc(I,A.mode,Y),O.return=A,A=O}return v(A);case ne:return ve=I._init,ot(A,O,ve(I._payload),Y)}if(st(I))return ae(A,O,I,Y);if(B(I))return ie(A,O,I,Y);qi(A,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,O!==null&&O.tag===6?(i(A,O.sibling),O=d(O,I),O.return=A,A=O):(i(A,O),O=Lc(I,A.mode,Y),O.return=A,A=O),v(A)):i(A,O)}return ot}var _s=dh(!0),hh=dh(!1),Vi=xn(null),Hi=null,ks=null,Hl=null;function Kl(){Hl=ks=Hi=null}function Gl(t){var s=Vi.current;Ke(Vi),t._currentValue=s}function Jl(t,s,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===i)break;t=t.return}}function Ss(t,s){Hi=t,Hl=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(Vt=!0),t.firstContext=null)}function dr(t){var s=t._currentValue;if(Hl!==t)if(t={context:t,memoizedValue:s,next:null},ks===null){if(Hi===null)throw Error(n(308));ks=t,Hi.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return s}var Gn=null;function Yl(t){Gn===null?Gn=[t]:Gn.push(t)}function fh(t,s,i,c){var d=s.interleaved;return d===null?(i.next=i,Yl(s)):(i.next=d.next,d.next=i),s.interleaved=i,Jr(t,c)}function Jr(t,s){t.lanes|=s;var i=t.alternate;for(i!==null&&(i.lanes|=s),i=t,t=t.return;t!==null;)t.childLanes|=s,i=t.alternate,i!==null&&(i.childLanes|=s),i=t,t=t.return;return i.tag===3?i.stateNode:null}var kn=!1;function Ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Sn(t,s,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ie&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Jr(t,i)}return d=c.interleaved,d===null?(s.next=s,Yl(c)):(s.next=d.next,d.next=s),c.interleaved=s,Jr(t,i)}function Ki(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,dl(t,i)}}function mh(t,s){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var d=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?d=m=v:m=m.next=v,i=i.next}while(i!==null);m===null?d=m=s:m=m.next=s}else d=m=s;i={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}function Gi(t,s,i,c){var d=t.updateQueue;kn=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var N=E,L=N.next;N.next=null,v===null?m=L:v.next=L,v=N;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==v&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=N))}if(m!==null){var G=d.baseState;v=0,H=L=N=null,E=m;do{var q=E.lane,re=E.eventTime;if((c&q)===q){H!==null&&(H=H.next={eventTime:re,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ae=t,ie=E;switch(q=s,re=i,ie.tag){case 1:if(ae=ie.payload,typeof ae=="function"){G=ae.call(re,G,q);break e}G=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ie.payload,q=typeof ae=="function"?ae.call(re,G,q):ae,q==null)break e;G=W({},G,q);break e;case 2:kn=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,q=d.effects,q===null?d.effects=[E]:q.push(E))}else re={eventTime:re,lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=re,N=G):H=H.next=re,v|=q;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;q=E,E=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);if(H===null&&(N=G),d.baseState=N,d.firstBaseUpdate=L,d.lastBaseUpdate=H,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);Qn|=v,t.lanes=v,t.memoizedState=G}}function gh(t,s,i){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],d=c.callback;if(d!==null){if(c.callback=null,c=i,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Ra={},$r=xn(Ra),Oa=xn(Ra),Pa=xn(Ra);function Jn(t){if(t===Ra)throw Error(n(174));return t}function Xl(t,s){switch(We(Pa,s),We(Oa,t),We($r,Ra),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ut(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=ut(s,t)}Ke($r),We($r,s)}function Es(){Ke($r),Ke(Oa),Ke(Pa)}function yh(t){Jn(Pa.current);var s=Jn($r.current),i=ut(s,t.type);s!==i&&(We(Oa,t),We($r,i))}function Zl(t){Oa.current===t&&(Ke($r),Ke(Oa))}var Xe=xn(0);function Ji(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ec=[];function tc(){for(var t=0;t<ec.length;t++)ec[t]._workInProgressVersionPrimary=null;ec.length=0}var Yi=M.ReactCurrentDispatcher,rc=M.ReactCurrentBatchConfig,Yn=0,Ze=null,mt=null,bt=null,Qi=!1,Aa=!1,Ia=0,xy=0;function Dt(){throw Error(n(321))}function nc(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!xr(t[i],s[i]))return!1;return!0}function sc(t,s,i,c,d,m){if(Yn=m,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Yi.current=t===null||t.memoizedState===null?Sy:Ey,t=i(c,d),Aa){m=0;do{if(Aa=!1,Ia=0,25<=m)throw Error(n(301));m+=1,bt=mt=null,s.updateQueue=null,Yi.current=jy,t=i(c,d)}while(Aa)}if(Yi.current=eo,s=mt!==null&&mt.next!==null,Yn=0,bt=mt=Ze=null,Qi=!1,s)throw Error(n(300));return t}function ac(){var t=Ia!==0;return Ia=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ze.memoizedState=bt=t:bt=bt.next=t,bt}function hr(){if(mt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var s=bt===null?Ze.memoizedState:bt.next;if(s!==null)bt=s,mt=t;else{if(t===null)throw Error(n(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},bt===null?Ze.memoizedState=bt=t:bt=bt.next=t}return bt}function Da(t,s){return typeof s=="function"?s(t):s}function ic(t){var s=hr(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=t;var c=mt,d=c.baseQueue,m=i.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,i.pending=null}if(d!==null){m=d.next,c=c.baseState;var E=v=null,N=null,L=m;do{var H=L.lane;if((Yn&H)===H)N!==null&&(N=N.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),c=L.hasEagerState?L.eagerState:t(c,L.action);else{var G={lane:H,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};N===null?(E=N=G,v=c):N=N.next=G,Ze.lanes|=H,Qn|=H}L=L.next}while(L!==null&&L!==m);N===null?v=c:N.next=E,xr(c,s.memoizedState)||(Vt=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=N,i.lastRenderedState=c}if(t=i.interleaved,t!==null){d=t;do m=d.lane,Ze.lanes|=m,Qn|=m,d=d.next;while(d!==t)}else d===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function oc(t){var s=hr(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=t;var c=i.dispatch,d=i.pending,m=s.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do m=t(m,v.action),v=v.next;while(v!==d);xr(m,s.memoizedState)||(Vt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),i.lastRenderedState=m}return[m,c]}function vh(){}function wh(t,s){var i=Ze,c=hr(),d=s(),m=!xr(c.memoizedState,d);if(m&&(c.memoizedState=d,Vt=!0),c=c.queue,lc(_h.bind(null,i,c,t),[t]),c.getSnapshot!==s||m||bt!==null&&bt.memoizedState.tag&1){if(i.flags|=2048,La(9,bh.bind(null,i,c,d,s),void 0,null),_t===null)throw Error(n(349));(Yn&30)!==0||xh(i,s,d)}return d}function xh(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function bh(t,s,i,c){s.value=i,s.getSnapshot=c,kh(s)&&Sh(t)}function _h(t,s,i){return i(function(){kh(s)&&Sh(t)})}function kh(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!xr(t,i)}catch{return!0}}function Sh(t){var s=Jr(t,1);s!==null&&Er(s,t,1,-1)}function Eh(t){var s=zr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},s.queue=t,t=t.dispatch=ky.bind(null,Ze,t),[s.memoizedState,t]}function La(t,s,i,c){return t={tag:t,create:s,destroy:i,deps:c,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=t.next=t):(i=s.lastEffect,i===null?s.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,s.lastEffect=t)),t}function jh(){return hr().memoizedState}function Xi(t,s,i,c){var d=zr();Ze.flags|=t,d.memoizedState=La(1|s,i,void 0,c===void 0?null:c)}function Zi(t,s,i,c){var d=hr();c=c===void 0?null:c;var m=void 0;if(mt!==null){var v=mt.memoizedState;if(m=v.destroy,c!==null&&nc(c,v.deps)){d.memoizedState=La(s,i,m,c);return}}Ze.flags|=t,d.memoizedState=La(1|s,i,m,c)}function Ch(t,s){return Xi(8390656,8,t,s)}function lc(t,s){return Zi(2048,8,t,s)}function Nh(t,s){return Zi(4,2,t,s)}function Th(t,s){return Zi(4,4,t,s)}function Rh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Oh(t,s,i){return i=i!=null?i.concat([t]):null,Zi(4,4,Rh.bind(null,s,t),i)}function cc(){}function Ph(t,s){var i=hr();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&nc(s,c[1])?c[0]:(i.memoizedState=[t,s],t)}function Ah(t,s){var i=hr();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&nc(s,c[1])?c[0]:(t=t(),i.memoizedState=[t,s],t)}function Ih(t,s,i){return(Yn&21)===0?(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=i):(xr(i,s)||(i=ud(),Ze.lanes|=i,Qn|=i,t.baseState=!0),s)}function by(t,s){var i=Me;Me=i!==0&&4>i?i:4,t(!0);var c=rc.transition;rc.transition={};try{t(!1),s()}finally{Me=i,rc.transition=c}}function Dh(){return hr().memoizedState}function _y(t,s,i){var c=Nn(t);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},Lh(t))Mh(s,i);else if(i=fh(t,s,i,c),i!==null){var d=Ut();Er(i,t,c,d),$h(i,s,c)}}function ky(t,s,i){var c=Nn(t),d={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(Lh(t))Mh(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,E=m(v,i);if(d.hasEagerState=!0,d.eagerState=E,xr(E,v)){var N=s.interleaved;N===null?(d.next=d,Yl(s)):(d.next=N.next,N.next=d),s.interleaved=d;return}}catch{}finally{}i=fh(t,s,d,c),i!==null&&(d=Ut(),Er(i,t,c,d),$h(i,s,c))}}function Lh(t){var s=t.alternate;return t===Ze||s!==null&&s===Ze}function Mh(t,s){Aa=Qi=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function $h(t,s,i){if((i&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,dl(t,i)}}var eo={readContext:dr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Sy={readContext:dr,useCallback:function(t,s){return zr().memoizedState=[t,s===void 0?null:s],t},useContext:dr,useEffect:Ch,useImperativeHandle:function(t,s,i){return i=i!=null?i.concat([t]):null,Xi(4194308,4,Rh.bind(null,s,t),i)},useLayoutEffect:function(t,s){return Xi(4194308,4,t,s)},useInsertionEffect:function(t,s){return Xi(4,2,t,s)},useMemo:function(t,s){var i=zr();return s=s===void 0?null:s,t=t(),i.memoizedState=[t,s],t},useReducer:function(t,s,i){var c=zr();return s=i!==void 0?i(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=_y.bind(null,Ze,t),[c.memoizedState,t]},useRef:function(t){var s=zr();return t={current:t},s.memoizedState=t},useState:Eh,useDebugValue:cc,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=Eh(!1),s=t[0];return t=by.bind(null,t[1]),zr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,i){var c=Ze,d=zr();if(Qe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=s(),_t===null)throw Error(n(349));(Yn&30)!==0||xh(c,s,i)}d.memoizedState=i;var m={value:i,getSnapshot:s};return d.queue=m,Ch(_h.bind(null,c,m,t),[t]),c.flags|=2048,La(9,bh.bind(null,c,m,i,s),void 0,null),i},useId:function(){var t=zr(),s=_t.identifierPrefix;if(Qe){var i=Gr,c=Kr;i=(c&~(1<<32-wr(c)-1)).toString(32)+i,s=":"+s+"R"+i,i=Ia++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=xy++,s=":"+s+"r"+i.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Ey={readContext:dr,useCallback:Ph,useContext:dr,useEffect:lc,useImperativeHandle:Oh,useInsertionEffect:Nh,useLayoutEffect:Th,useMemo:Ah,useReducer:ic,useRef:jh,useState:function(){return ic(Da)},useDebugValue:cc,useDeferredValue:function(t){var s=hr();return Ih(s,mt.memoizedState,t)},useTransition:function(){var t=ic(Da)[0],s=hr().memoizedState;return[t,s]},useMutableSource:vh,useSyncExternalStore:wh,useId:Dh,unstable_isNewReconciler:!1},jy={readContext:dr,useCallback:Ph,useContext:dr,useEffect:lc,useImperativeHandle:Oh,useInsertionEffect:Nh,useLayoutEffect:Th,useMemo:Ah,useReducer:oc,useRef:jh,useState:function(){return oc(Da)},useDebugValue:cc,useDeferredValue:function(t){var s=hr();return mt===null?s.memoizedState=t:Ih(s,mt.memoizedState,t)},useTransition:function(){var t=oc(Da)[0],s=hr().memoizedState;return[t,s]},useMutableSource:vh,useSyncExternalStore:wh,useId:Dh,unstable_isNewReconciler:!1};function _r(t,s){if(t&&t.defaultProps){s=W({},s),t=t.defaultProps;for(var i in t)s[i]===void 0&&(s[i]=t[i]);return s}return s}function uc(t,s,i,c){s=t.memoizedState,i=i(c,s),i=i==null?s:W({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var to={isMounted:function(t){return(t=t._reactInternals)?Wn(t)===t:!1},enqueueSetState:function(t,s,i){t=t._reactInternals;var c=Ut(),d=Nn(t),m=Yr(c,d);m.payload=s,i!=null&&(m.callback=i),s=Sn(t,m,d),s!==null&&(Er(s,t,d,c),Ki(s,t,d))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var c=Ut(),d=Nn(t),m=Yr(c,d);m.tag=1,m.payload=s,i!=null&&(m.callback=i),s=Sn(t,m,d),s!==null&&(Er(s,t,d,c),Ki(s,t,d))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=Ut(),c=Nn(t),d=Yr(i,c);d.tag=2,s!=null&&(d.callback=s),s=Sn(t,d,c),s!==null&&(Er(s,t,c,i),Ki(s,t,c))}};function zh(t,s,i,c,d,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):s.prototype&&s.prototype.isPureReactComponent?!_a(i,c)||!_a(d,m):!0}function Uh(t,s,i){var c=!1,d=bn,m=s.contextType;return typeof m=="object"&&m!==null?m=dr(m):(d=qt(s)?Vn:It.current,c=s.contextTypes,m=(c=c!=null)?vs(t,d):bn),s=new s(i,m),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=to,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),s}function Bh(t,s,i,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==t&&to.enqueueReplaceState(s,s.state,null)}function dc(t,s,i,c){var d=t.stateNode;d.props=i,d.state=t.memoizedState,d.refs={},Ql(t);var m=s.contextType;typeof m=="object"&&m!==null?d.context=dr(m):(m=qt(s)?Vn:It.current,d.context=vs(t,m)),d.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(uc(t,s,m,i),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&to.enqueueReplaceState(d,d.state,null),Gi(t,i,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function js(t,s){try{var i="",c=s;do i+=he(c),c=c.return;while(c);var d=i}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:s,stack:d,digest:null}}function hc(t,s,i){return{value:t,source:null,stack:i??null,digest:s??null}}function fc(t,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Cy=typeof WeakMap=="function"?WeakMap:Map;function Fh(t,s,i){i=Yr(-1,i),i.tag=3,i.payload={element:null};var c=s.value;return i.callback=function(){lo||(lo=!0,Nc=c),fc(t,s)},i}function Wh(t,s,i){i=Yr(-1,i),i.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;i.payload=function(){return c(d)},i.callback=function(){fc(t,s)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){fc(t,s),typeof c!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),i}function qh(t,s,i){var c=t.pingCache;if(c===null){c=t.pingCache=new Cy;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(i)||(d.add(i),t=By.bind(null,t,s,i),s.then(t,t))}function Vh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Hh(t,s,i,c,d){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=Yr(-1,1),s.tag=2,Sn(i,s,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var Ny=M.ReactCurrentOwner,Vt=!1;function zt(t,s,i,c){s.child=t===null?hh(s,null,i,c):_s(s,t.child,i,c)}function Kh(t,s,i,c,d){i=i.render;var m=s.ref;return Ss(s,d),c=sc(t,s,i,c,m,d),i=ac(),t!==null&&!Vt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~d,Qr(t,s,d)):(Qe&&i&&Bl(s),s.flags|=1,zt(t,s,c,d),s.child)}function Gh(t,s,i,c,d){if(t===null){var m=i.type;return typeof m=="function"&&!Dc(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=m,Jh(t,s,m,c,d)):(t=mo(i.type,null,c,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,(t.lanes&d)===0){var v=m.memoizedProps;if(i=i.compare,i=i!==null?i:_a,i(v,c)&&t.ref===s.ref)return Qr(t,s,d)}return s.flags|=1,t=Rn(m,c),t.ref=s.ref,t.return=s,s.child=t}function Jh(t,s,i,c,d){if(t!==null){var m=t.memoizedProps;if(_a(m,c)&&t.ref===s.ref)if(Vt=!1,s.pendingProps=c=m,(t.lanes&d)!==0)(t.flags&131072)!==0&&(Vt=!0);else return s.lanes=t.lanes,Qr(t,s,d)}return pc(t,s,i,c,d)}function Yh(t,s,i){var c=s.pendingProps,d=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Ns,nr),nr|=i;else{if((i&1073741824)===0)return t=m!==null?m.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,We(Ns,nr),nr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:i,We(Ns,nr),nr|=c}else m!==null?(c=m.baseLanes|i,s.memoizedState=null):c=i,We(Ns,nr),nr|=c;return zt(t,s,d,i),s.child}function Qh(t,s){var i=s.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function pc(t,s,i,c,d){var m=qt(i)?Vn:It.current;return m=vs(s,m),Ss(s,d),i=sc(t,s,i,c,m,d),c=ac(),t!==null&&!Vt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~d,Qr(t,s,d)):(Qe&&c&&Bl(s),s.flags|=1,zt(t,s,i,d),s.child)}function Xh(t,s,i,c,d){if(qt(i)){var m=!0;zi(s)}else m=!1;if(Ss(s,d),s.stateNode===null)no(t,s),Uh(s,i,c),dc(s,i,c,d),c=!0;else if(t===null){var v=s.stateNode,E=s.memoizedProps;v.props=E;var N=v.context,L=i.contextType;typeof L=="object"&&L!==null?L=dr(L):(L=qt(i)?Vn:It.current,L=vs(s,L));var H=i.getDerivedStateFromProps,G=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";G||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==c||N!==L)&&Bh(s,v,c,L),kn=!1;var q=s.memoizedState;v.state=q,Gi(s,c,v,d),N=s.memoizedState,E!==c||q!==N||Wt.current||kn?(typeof H=="function"&&(uc(s,i,H,c),N=s.memoizedState),(E=kn||zh(s,i,E,c,q,N,L))?(G||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=N),v.props=c,v.state=N,v.context=L,c=E):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,ph(t,s),E=s.memoizedProps,L=s.type===s.elementType?E:_r(s.type,E),v.props=L,G=s.pendingProps,q=v.context,N=i.contextType,typeof N=="object"&&N!==null?N=dr(N):(N=qt(i)?Vn:It.current,N=vs(s,N));var re=i.getDerivedStateFromProps;(H=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==G||q!==N)&&Bh(s,v,c,N),kn=!1,q=s.memoizedState,v.state=q,Gi(s,c,v,d);var ae=s.memoizedState;E!==G||q!==ae||Wt.current||kn?(typeof re=="function"&&(uc(s,i,re,c),ae=s.memoizedState),(L=kn||zh(s,i,L,c,q,ae,N)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ae,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ae,N)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),v.props=c,v.state=ae,v.context=N,c=L):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),c=!1)}return mc(t,s,i,c,m,d)}function mc(t,s,i,c,d,m){Qh(t,s);var v=(s.flags&128)!==0;if(!c&&!v)return d&&nh(s,i,!1),Qr(t,s,m);c=s.stateNode,Ny.current=s;var E=v&&typeof i.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&v?(s.child=_s(s,t.child,null,m),s.child=_s(s,null,E,m)):zt(t,s,E,m),s.memoizedState=c.state,d&&nh(s,i,!0),s.child}function Zh(t){var s=t.stateNode;s.pendingContext?th(t,s.pendingContext,s.pendingContext!==s.context):s.context&&th(t,s.context,!1),Xl(t,s.containerInfo)}function ef(t,s,i,c,d){return bs(),Vl(d),s.flags|=256,zt(t,s,i,c),s.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function tf(t,s,i){var c=s.pendingProps,d=Xe.current,m=!1,v=(s.flags&128)!==0,E;if((E=v)||(E=t!==null&&t.memoizedState===null?!1:(d&2)!==0),E?(m=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),We(Xe,d&1),t===null)return ql(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,t=c.fallback,m?(c=s.mode,m=s.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=go(v,c,0,null),t=ts(t,c,i,null),m.return=s,t.return=s,m.sibling=t,s.child=m,s.child.memoizedState=yc(i),s.memoizedState=gc,t):vc(s,v));if(d=t.memoizedState,d!==null&&(E=d.dehydrated,E!==null))return Ty(t,s,v,c,E,d,i);if(m){m=c.fallback,v=s.mode,d=t.child,E=d.sibling;var N={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=N,s.deletions=null):(c=Rn(d,N),c.subtreeFlags=d.subtreeFlags&14680064),E!==null?m=Rn(E,m):(m=ts(m,v,i,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,v=t.child.memoizedState,v=v===null?yc(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~i,s.memoizedState=gc,c}return m=t.child,t=m.sibling,c=Rn(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=i),c.return=s,c.sibling=null,t!==null&&(i=s.deletions,i===null?(s.deletions=[t],s.flags|=16):i.push(t)),s.child=c,s.memoizedState=null,c}function vc(t,s){return s=go({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function ro(t,s,i,c){return c!==null&&Vl(c),_s(s,t.child,null,i),t=vc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ty(t,s,i,c,d,m,v){if(i)return s.flags&256?(s.flags&=-257,c=hc(Error(n(422))),ro(t,s,v,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(m=c.fallback,d=s.mode,c=go({mode:"visible",children:c.children},d,0,null),m=ts(m,d,v,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&_s(s,t.child,null,v),s.child.memoizedState=yc(v),s.memoizedState=gc,m);if((s.mode&1)===0)return ro(t,s,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var E=c.dgst;return c=E,m=Error(n(419)),c=hc(m,c,void 0),ro(t,s,v,c)}if(E=(v&t.childLanes)!==0,Vt||E){if(c=_t,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Jr(t,d),Er(c,t,d,-1))}return Ic(),c=hc(Error(n(421))),ro(t,s,v,c)}return d.data==="$?"?(s.flags|=128,s.child=t.child,s=Fy.bind(null,t),d._reactRetry=s,null):(t=m.treeContext,rr=wn(d.nextSibling),tr=s,Qe=!0,br=null,t!==null&&(cr[ur++]=Kr,cr[ur++]=Gr,cr[ur++]=Hn,Kr=t.id,Gr=t.overflow,Hn=s),s=vc(s,c.children),s.flags|=4096,s)}function rf(t,s,i){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Jl(t.return,s,i)}function wc(t,s,i,c,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=i,m.tailMode=d)}function nf(t,s,i){var c=s.pendingProps,d=c.revealOrder,m=c.tail;if(zt(t,s,c.children,i),c=Xe.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rf(t,i,s);else if(t.tag===19)rf(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(We(Xe,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(i=s.child,d=null;i!==null;)t=i.alternate,t!==null&&Ji(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=s.child,s.child=null):(d=i.sibling,i.sibling=null),wc(s,!1,d,i,m);break;case"backwards":for(i=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Ji(t)===null){s.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}wc(s,!0,i,null,m);break;case"together":wc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function no(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Qr(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),Qn|=s.lanes,(i&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,i=Rn(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=Rn(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function Ry(t,s,i){switch(s.tag){case 3:Zh(s),bs();break;case 5:yh(s);break;case 1:qt(s.type)&&zi(s);break;case 4:Xl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;We(Vi,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(We(Xe,Xe.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?tf(t,s,i):(We(Xe,Xe.current&1),t=Qr(t,s,i),t!==null?t.sibling:null);We(Xe,Xe.current&1);break;case 19:if(c=(i&s.childLanes)!==0,(t.flags&128)!==0){if(c)return nf(t,s,i);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Xe,Xe.current),c)break;return null;case 22:case 23:return s.lanes=0,Yh(t,s,i)}return Qr(t,s,i)}var sf,xc,af,of;sf=function(t,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},xc=function(){},af=function(t,s,i,c){var d=t.memoizedProps;if(d!==c){t=s.stateNode,Jn($r.current);var m=null;switch(i){case"input":d=Ot(t,d),c=Ot(t,c),m=[];break;case"select":d=W({},d,{value:void 0}),c=W({},c,{value:void 0}),m=[];break;case"textarea":d=lr(t,d),c=lr(t,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Li)}Xt(i,c);var v;i=null;for(L in d)if(!c.hasOwnProperty(L)&&d.hasOwnProperty(L)&&d[L]!=null)if(L==="style"){var E=d[L];for(v in E)E.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?m||(m=[]):(m=m||[]).push(L,null));for(L in c){var N=c[L];if(E=d!=null?d[L]:void 0,c.hasOwnProperty(L)&&N!==E&&(N!=null||E!=null))if(L==="style")if(E){for(v in E)!E.hasOwnProperty(v)||N&&N.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in N)N.hasOwnProperty(v)&&E[v]!==N[v]&&(i||(i={}),i[v]=N[v])}else i||(m||(m=[]),m.push(L,i)),i=N;else L==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,E=E?E.__html:void 0,N!=null&&E!==N&&(m=m||[]).push(L,N)):L==="children"?typeof N!="string"&&typeof N!="number"||(m=m||[]).push(L,""+N):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(o.hasOwnProperty(L)?(N!=null&&L==="onScroll"&&He("scroll",t),m||E===N||(m=[])):(m=m||[]).push(L,N))}i&&(m=m||[]).push("style",i);var L=m;(s.updateQueue=L)&&(s.flags|=4)}},of=function(t,s,i,c){i!==c&&(s.flags|=4)};function Ma(t,s){if(!Qe)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Lt(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(s)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=i,s}function Oy(t,s,i){var c=s.pendingProps;switch(Fl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(s),null;case 1:return qt(s.type)&&$i(),Lt(s),null;case 3:return c=s.stateNode,Es(),Ke(Wt),Ke(It),tc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Wi(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,br!==null&&(Oc(br),br=null))),xc(t,s),Lt(s),null;case 5:Zl(s);var d=Jn(Pa.current);if(i=s.type,t!==null&&s.stateNode!=null)af(t,s,i,c,d),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return Lt(s),null}if(t=Jn($r.current),Wi(s)){c=s.stateNode,i=s.type;var m=s.memoizedProps;switch(c[Mr]=s,c[Ca]=m,t=(s.mode&1)!==0,i){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<Sa.length;d++)He(Sa[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":te(c,m),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},He("invalid",c);break;case"textarea":Et(c,m),He("invalid",c)}Xt(i,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var E=m[v];v==="children"?typeof E=="string"?c.textContent!==E&&(m.suppressHydrationWarning!==!0&&Di(c.textContent,E,t),d=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&Di(c.textContent,E,t),d=["children",""+E]):o.hasOwnProperty(v)&&E!=null&&v==="onScroll"&&He("scroll",c)}switch(i){case"input":Rt(c),lt(c,m,!0);break;case"textarea":Rt(c),Wr(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Li)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ye(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(i,{is:c.is}):(t=v.createElement(i),i==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,i),t[Mr]=s,t[Ca]=c,sf(t,s,!1,!1),s.stateNode=t;e:{switch(v=Fn(i,c),i){case"dialog":He("cancel",t),He("close",t),d=c;break;case"iframe":case"object":case"embed":He("load",t),d=c;break;case"video":case"audio":for(d=0;d<Sa.length;d++)He(Sa[d],t);d=c;break;case"source":He("error",t),d=c;break;case"img":case"image":case"link":He("error",t),He("load",t),d=c;break;case"details":He("toggle",t),d=c;break;case"input":te(t,c),d=Ot(t,c),He("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=W({},c,{value:void 0}),He("invalid",t);break;case"textarea":Et(t,c),d=lr(t,c),He("invalid",t);break;default:d=c}Xt(i,d),E=d;for(m in E)if(E.hasOwnProperty(m)){var N=E[m];m==="style"?yr(t,N):m==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ar(t,N)):m==="children"?typeof N=="string"?(i!=="textarea"||N!=="")&&Qt(t,N):typeof N=="number"&&Qt(t,""+N):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?N!=null&&m==="onScroll"&&He("scroll",t):N!=null&&P(t,m,N,v))}switch(i){case"input":Rt(t),lt(t,c,!1);break;case"textarea":Rt(t),Wr(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Re(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?ct(t,!!c.multiple,m,!1):c.defaultValue!=null&&ct(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=Li)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Lt(s),null;case 6:if(t&&s.stateNode!=null)of(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=Jn(Pa.current),Jn($r.current),Wi(s)){if(c=s.stateNode,i=s.memoizedProps,c[Mr]=s,(m=c.nodeValue!==i)&&(t=tr,t!==null))switch(t.tag){case 3:Di(c.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Di(c.nodeValue,i,(t.mode&1)!==0)}m&&(s.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[Mr]=s,s.stateNode=c}return Lt(s),null;case 13:if(Ke(Xe),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&rr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ch(),bs(),s.flags|=98560,m=!1;else if(m=Wi(s),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Mr]=s}else bs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),m=!1}else br!==null&&(Oc(br),br=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Xe.current&1)!==0?gt===0&&(gt=3):Ic())),s.updateQueue!==null&&(s.flags|=4),Lt(s),null);case 4:return Es(),xc(t,s),t===null&&Ea(s.stateNode.containerInfo),Lt(s),null;case 10:return Gl(s.type._context),Lt(s),null;case 17:return qt(s.type)&&$i(),Lt(s),null;case 19:if(Ke(Xe),m=s.memoizedState,m===null)return Lt(s),null;if(c=(s.flags&128)!==0,v=m.rendering,v===null)if(c)Ma(m,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=Ji(t),v!==null){for(s.flags|=128,Ma(m,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=i,i=s.child;i!==null;)m=i,t=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return We(Xe,Xe.current&1|2),s.child}t=t.sibling}m.tail!==null&&it()>Ts&&(s.flags|=128,c=!0,Ma(m,!1),s.lanes=4194304)}else{if(!c)if(t=Ji(v),t!==null){if(s.flags|=128,c=!0,i=t.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Ma(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Qe)return Lt(s),null}else 2*it()-m.renderingStartTime>Ts&&i!==1073741824&&(s.flags|=128,c=!0,Ma(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(i=m.last,i!==null?i.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=it(),s.sibling=null,i=Xe.current,We(Xe,c?i&1|2:i&1),s):(Lt(s),null);case 22:case 23:return Ac(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(nr&1073741824)!==0&&(Lt(s),s.subtreeFlags&6&&(s.flags|=8192)):Lt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Py(t,s){switch(Fl(s),s.tag){case 1:return qt(s.type)&&$i(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Es(),Ke(Wt),Ke(It),tc(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Zl(s),null;case 13:if(Ke(Xe),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));bs()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ke(Xe),null;case 4:return Es(),null;case 10:return Gl(s.type._context),null;case 22:case 23:return Ac(),null;case 24:return null;default:return null}}var so=!1,Mt=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,se=null;function Cs(t,s){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){rt(t,s,c)}else i.current=null}function bc(t,s,i){try{i()}catch(c){rt(t,s,c)}}var lf=!1;function Iy(t,s){if(Al=Si,t=zd(),El(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var v=0,E=-1,N=-1,L=0,H=0,G=t,q=null;t:for(;;){for(var re;G!==i||d!==0&&G.nodeType!==3||(E=v+d),G!==m||c!==0&&G.nodeType!==3||(N=v+c),G.nodeType===3&&(v+=G.nodeValue.length),(re=G.firstChild)!==null;)q=G,G=re;for(;;){if(G===t)break t;if(q===i&&++L===d&&(E=v),q===m&&++H===c&&(N=v),(re=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=re}i=E===-1||N===-1?null:{start:E,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(Il={focusedElem:t,selectionRange:i},Si=!1,se=s;se!==null;)if(s=se,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,se=t;else for(;se!==null;){s=se;try{var ae=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ie=ae.memoizedProps,ot=ae.memoizedState,A=s.stateNode,O=A.getSnapshotBeforeUpdate(s.elementType===s.type?ie:_r(s.type,ie),ot);A.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var I=s.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){rt(s,s.return,Y)}if(t=s.sibling,t!==null){t.return=s.return,se=t;break}se=s.return}return ae=lf,lf=!1,ae}function $a(t,s,i){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&bc(s,i,m)}d=d.next}while(d!==c)}}function ao(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var c=i.create;i.destroy=c()}i=i.next}while(i!==s)}}function _c(t){var s=t.ref;if(s!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof s=="function"?s(t):s.current=t}}function cf(t){var s=t.alternate;s!==null&&(t.alternate=null,cf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Mr],delete s[Ca],delete s[$l],delete s[gy],delete s[yy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uf(t){return t.tag===5||t.tag===3||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kc(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(t,s):i.insertBefore(t,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(t,i)):(s=i,s.appendChild(t)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Li));else if(c!==4&&(t=t.child,t!==null))for(kc(t,s,i),t=t.sibling;t!==null;)kc(t,s,i),t=t.sibling}function Sc(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Sc(t,s,i),t=t.sibling;t!==null;)Sc(t,s,i),t=t.sibling}var jt=null,kr=!1;function En(t,s,i){for(i=i.child;i!==null;)hf(t,s,i),i=i.sibling}function hf(t,s,i){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(vi,i)}catch{}switch(i.tag){case 5:Mt||Cs(i,s);case 6:var c=jt,d=kr;jt=null,En(t,s,i),jt=c,kr=d,jt!==null&&(kr?(t=jt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):jt.removeChild(i.stateNode));break;case 18:jt!==null&&(kr?(t=jt,i=i.stateNode,t.nodeType===8?Ml(t.parentNode,i):t.nodeType===1&&Ml(t,i),ga(t)):Ml(jt,i.stateNode));break;case 4:c=jt,d=kr,jt=i.stateNode.containerInfo,kr=!0,En(t,s,i),jt=c,kr=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&bc(i,s,v),d=d.next}while(d!==c)}En(t,s,i);break;case 1:if(!Mt&&(Cs(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(E){rt(i,s,E)}En(t,s,i);break;case 21:En(t,s,i);break;case 22:i.mode&1?(Mt=(c=Mt)||i.memoizedState!==null,En(t,s,i),Mt=c):En(t,s,i);break;default:En(t,s,i)}}function ff(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Ay),s.forEach(function(c){var d=Wy.bind(null,t,c);i.has(c)||(i.add(c),c.then(d,d))})}}function Sr(t,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];try{var m=t,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 5:jt=E.stateNode,kr=!1;break e;case 3:jt=E.stateNode.containerInfo,kr=!0;break e;case 4:jt=E.stateNode.containerInfo,kr=!0;break e}E=E.return}if(jt===null)throw Error(n(160));hf(m,v,d),jt=null,kr=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(L){rt(d,s,L)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)pf(s,t),s=s.sibling}function pf(t,s){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(s,t),Ur(t),c&4){try{$a(3,t,t.return),ao(3,t)}catch(ie){rt(t,t.return,ie)}try{$a(5,t,t.return)}catch(ie){rt(t,t.return,ie)}}break;case 1:Sr(s,t),Ur(t),c&512&&i!==null&&Cs(i,i.return);break;case 5:if(Sr(s,t),Ur(t),c&512&&i!==null&&Cs(i,i.return),t.flags&32){var d=t.stateNode;try{Qt(d,"")}catch(ie){rt(t,t.return,ie)}}if(c&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,v=i!==null?i.memoizedProps:m,E=t.type,N=t.updateQueue;if(t.updateQueue=null,N!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&Se(d,m),Fn(E,v);var L=Fn(E,m);for(v=0;v<N.length;v+=2){var H=N[v],G=N[v+1];H==="style"?yr(d,G):H==="dangerouslySetInnerHTML"?Ar(d,G):H==="children"?Qt(d,G):P(d,H,G,L)}switch(E){case"input":Be(d,m);break;case"textarea":on(d,m);break;case"select":var q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var re=m.value;re!=null?ct(d,!!m.multiple,re,!1):q!==!!m.multiple&&(m.defaultValue!=null?ct(d,!!m.multiple,m.defaultValue,!0):ct(d,!!m.multiple,m.multiple?[]:"",!1))}d[Ca]=m}catch(ie){rt(t,t.return,ie)}}break;case 6:if(Sr(s,t),Ur(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(ie){rt(t,t.return,ie)}}break;case 3:if(Sr(s,t),Ur(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{ga(s.containerInfo)}catch(ie){rt(t,t.return,ie)}break;case 4:Sr(s,t),Ur(t);break;case 13:Sr(s,t),Ur(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Cc=it())),c&4&&ff(t);break;case 22:if(H=i!==null&&i.memoizedState!==null,t.mode&1?(Mt=(L=Mt)||H,Sr(s,t),Mt=L):Sr(s,t),Ur(t),c&8192){if(L=t.memoizedState!==null,(t.stateNode.isHidden=L)&&!H&&(t.mode&1)!==0)for(se=t,H=t.child;H!==null;){for(G=se=H;se!==null;){switch(q=se,re=q.child,q.tag){case 0:case 11:case 14:case 15:$a(4,q,q.return);break;case 1:Cs(q,q.return);var ae=q.stateNode;if(typeof ae.componentWillUnmount=="function"){c=q,i=q.return;try{s=c,ae.props=s.memoizedProps,ae.state=s.memoizedState,ae.componentWillUnmount()}catch(ie){rt(c,i,ie)}}break;case 5:Cs(q,q.return);break;case 22:if(q.memoizedState!==null){yf(G);continue}}re!==null?(re.return=q,se=re):yf(G)}H=H.sibling}e:for(H=null,G=t;;){if(G.tag===5){if(H===null){H=G;try{d=G.stateNode,L?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=G.stateNode,N=G.memoizedProps.style,v=N!=null&&N.hasOwnProperty("display")?N.display:null,E.style.display=ln("display",v))}catch(ie){rt(t,t.return,ie)}}}else if(G.tag===6){if(H===null)try{G.stateNode.nodeValue=L?"":G.memoizedProps}catch(ie){rt(t,t.return,ie)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;H===G&&(H=null),G=G.return}H===G&&(H=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Sr(s,t),Ur(t),c&4&&ff(t);break;case 21:break;default:Sr(s,t),Ur(t)}}function Ur(t){var s=t.flags;if(s&2){try{e:{for(var i=t.return;i!==null;){if(uf(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Qt(d,""),c.flags&=-33);var m=df(t);Sc(t,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,E=df(t);kc(t,E,v);break;default:throw Error(n(161))}}catch(N){rt(t,t.return,N)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Dy(t,s,i){se=t,mf(t)}function mf(t,s,i){for(var c=(t.mode&1)!==0;se!==null;){var d=se,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||so;if(!v){var E=d.alternate,N=E!==null&&E.memoizedState!==null||Mt;E=so;var L=Mt;if(so=v,(Mt=N)&&!L)for(se=d;se!==null;)v=se,N=v.child,v.tag===22&&v.memoizedState!==null?vf(d):N!==null?(N.return=v,se=N):vf(d);for(;m!==null;)se=m,mf(m),m=m.sibling;se=d,so=E,Mt=L}gf(t)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,se=m):gf(t)}}function gf(t){for(;se!==null;){var s=se;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mt||ao(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Mt)if(i===null)c.componentDidMount();else{var d=s.elementType===s.type?i.memoizedProps:_r(s.type,i.memoizedProps);c.componentDidUpdate(d,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&gh(s,m,c);break;case 3:var v=s.updateQueue;if(v!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}gh(s,v,i)}break;case 5:var E=s.stateNode;if(i===null&&s.flags&4){i=E;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&i.focus();break;case"img":N.src&&(i.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var L=s.alternate;if(L!==null){var H=L.memoizedState;if(H!==null){var G=H.dehydrated;G!==null&&ga(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||s.flags&512&&_c(s)}catch(q){rt(s,s.return,q)}}if(s===t){se=null;break}if(i=s.sibling,i!==null){i.return=s.return,se=i;break}se=s.return}}function yf(t){for(;se!==null;){var s=se;if(s===t){se=null;break}var i=s.sibling;if(i!==null){i.return=s.return,se=i;break}se=s.return}}function vf(t){for(;se!==null;){var s=se;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{ao(4,s)}catch(N){rt(s,i,N)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(N){rt(s,d,N)}}var m=s.return;try{_c(s)}catch(N){rt(s,m,N)}break;case 5:var v=s.return;try{_c(s)}catch(N){rt(s,v,N)}}}catch(N){rt(s,s.return,N)}if(s===t){se=null;break}var E=s.sibling;if(E!==null){E.return=s.return,se=E;break}se=s.return}}var Ly=Math.ceil,io=M.ReactCurrentDispatcher,Ec=M.ReactCurrentOwner,fr=M.ReactCurrentBatchConfig,Ie=0,_t=null,ft=null,Ct=0,nr=0,Ns=xn(0),gt=0,za=null,Qn=0,oo=0,jc=0,Ua=null,Ht=null,Cc=0,Ts=1/0,Xr=null,lo=!1,Nc=null,jn=null,co=!1,Cn=null,uo=0,Ba=0,Tc=null,ho=-1,fo=0;function Ut(){return(Ie&6)!==0?it():ho!==-1?ho:ho=it()}function Nn(t){return(t.mode&1)===0?1:(Ie&2)!==0&&Ct!==0?Ct&-Ct:wy.transition!==null?(fo===0&&(fo=ud()),fo):(t=Me,t!==0||(t=window.event,t=t===void 0?16:wd(t.type)),t)}function Er(t,s,i,c){if(50<Ba)throw Ba=0,Tc=null,Error(n(185));da(t,i,c),((Ie&2)===0||t!==_t)&&(t===_t&&((Ie&2)===0&&(oo|=i),gt===4&&Tn(t,Ct)),Kt(t,c),i===1&&Ie===0&&(s.mode&1)===0&&(Ts=it()+500,Ui&&_n()))}function Kt(t,s){var i=t.callbackNode;wg(t,s);var c=bi(t,t===_t?Ct:0);if(c===0)i!==null&&od(i),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(i!=null&&od(i),s===1)t.tag===0?vy(xf.bind(null,t)):sh(xf.bind(null,t)),py(function(){(Ie&6)===0&&_n()}),i=null;else{switch(dd(c)){case 1:i=ll;break;case 4:i=ld;break;case 16:i=yi;break;case 536870912:i=cd;break;default:i=yi}i=Nf(i,wf.bind(null,t))}t.callbackPriority=s,t.callbackNode=i}}function wf(t,s){if(ho=-1,fo=0,(Ie&6)!==0)throw Error(n(327));var i=t.callbackNode;if(Rs()&&t.callbackNode!==i)return null;var c=bi(t,t===_t?Ct:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=po(t,c);else{s=c;var d=Ie;Ie|=2;var m=_f();(_t!==t||Ct!==s)&&(Xr=null,Ts=it()+500,Zn(t,s));do try{zy();break}catch(E){bf(t,E)}while(!0);Kl(),io.current=m,Ie=d,ft!==null?s=0:(_t=null,Ct=0,s=gt)}if(s!==0){if(s===2&&(d=cl(t),d!==0&&(c=d,s=Rc(t,d))),s===1)throw i=za,Zn(t,0),Tn(t,c),Kt(t,it()),i;if(s===6)Tn(t,c);else{if(d=t.current.alternate,(c&30)===0&&!My(d)&&(s=po(t,c),s===2&&(m=cl(t),m!==0&&(c=m,s=Rc(t,m))),s===1))throw i=za,Zn(t,0),Tn(t,c),Kt(t,it()),i;switch(t.finishedWork=d,t.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:es(t,Ht,Xr);break;case 3:if(Tn(t,c),(c&130023424)===c&&(s=Cc+500-it(),10<s)){if(bi(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){Ut(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Ll(es.bind(null,t,Ht,Xr),s);break}es(t,Ht,Xr);break;case 4:if(Tn(t,c),(c&4194240)===c)break;for(s=t.eventTimes,d=-1;0<c;){var v=31-wr(c);m=1<<v,v=s[v],v>d&&(d=v),c&=~m}if(c=d,c=it()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ly(c/1960))-c,10<c){t.timeoutHandle=Ll(es.bind(null,t,Ht,Xr),c);break}es(t,Ht,Xr);break;case 5:es(t,Ht,Xr);break;default:throw Error(n(329))}}}return Kt(t,it()),t.callbackNode===i?wf.bind(null,t):null}function Rc(t,s){var i=Ua;return t.current.memoizedState.isDehydrated&&(Zn(t,s).flags|=256),t=po(t,s),t!==2&&(s=Ht,Ht=i,s!==null&&Oc(s)),t}function Oc(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function My(t){for(var s=t;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var d=i[c],m=d.getSnapshot;d=d.value;try{if(!xr(m(),d))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Tn(t,s){for(s&=~jc,s&=~oo,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var i=31-wr(s),c=1<<i;t[i]=-1,s&=~c}}function xf(t){if((Ie&6)!==0)throw Error(n(327));Rs();var s=bi(t,0);if((s&1)===0)return Kt(t,it()),null;var i=po(t,s);if(t.tag!==0&&i===2){var c=cl(t);c!==0&&(s=c,i=Rc(t,c))}if(i===1)throw i=za,Zn(t,0),Tn(t,s),Kt(t,it()),i;if(i===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,es(t,Ht,Xr),Kt(t,it()),null}function Pc(t,s){var i=Ie;Ie|=1;try{return t(s)}finally{Ie=i,Ie===0&&(Ts=it()+500,Ui&&_n())}}function Xn(t){Cn!==null&&Cn.tag===0&&(Ie&6)===0&&Rs();var s=Ie;Ie|=1;var i=fr.transition,c=Me;try{if(fr.transition=null,Me=1,t)return t()}finally{Me=c,fr.transition=i,Ie=s,(Ie&6)===0&&_n()}}function Ac(){nr=Ns.current,Ke(Ns)}function Zn(t,s){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,fy(i)),ft!==null)for(i=ft.return;i!==null;){var c=i;switch(Fl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$i();break;case 3:Es(),Ke(Wt),Ke(It),tc();break;case 5:Zl(c);break;case 4:Es();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:Gl(c.type._context);break;case 22:case 23:Ac()}i=i.return}if(_t=t,ft=t=Rn(t.current,null),Ct=nr=s,gt=0,za=null,jc=oo=Qn=0,Ht=Ua=null,Gn!==null){for(s=0;s<Gn.length;s++)if(i=Gn[s],c=i.interleaved,c!==null){i.interleaved=null;var d=c.next,m=i.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}i.pending=c}Gn=null}return t}function bf(t,s){do{var i=ft;try{if(Kl(),Yi.current=eo,Qi){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Qi=!1}if(Yn=0,bt=mt=Ze=null,Aa=!1,Ia=0,Ec.current=null,i===null||i.return===null){gt=1,za=s,ft=null;break}e:{var m=t,v=i.return,E=i,N=s;if(s=Ct,E.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var L=N,H=E,G=H.tag;if((H.mode&1)===0&&(G===0||G===11||G===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var re=Vh(v);if(re!==null){re.flags&=-257,Hh(re,v,E,m,s),re.mode&1&&qh(m,L,s),s=re,N=L;var ae=s.updateQueue;if(ae===null){var ie=new Set;ie.add(N),s.updateQueue=ie}else ae.add(N);break e}else{if((s&1)===0){qh(m,L,s),Ic();break e}N=Error(n(426))}}else if(Qe&&E.mode&1){var ot=Vh(v);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Hh(ot,v,E,m,s),Vl(js(N,E));break e}}m=N=js(N,E),gt!==4&&(gt=2),Ua===null?Ua=[m]:Ua.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var A=Fh(m,N,s);mh(m,A);break e;case 1:E=N;var O=m.type,I=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(jn===null||!jn.has(I)))){m.flags|=65536,s&=-s,m.lanes|=s;var Y=Wh(m,E,s);mh(m,Y);break e}}m=m.return}while(m!==null)}Sf(i)}catch(le){s=le,ft===i&&i!==null&&(ft=i=i.return);continue}break}while(!0)}function _f(){var t=io.current;return io.current=eo,t===null?eo:t}function Ic(){(gt===0||gt===3||gt===2)&&(gt=4),_t===null||(Qn&268435455)===0&&(oo&268435455)===0||Tn(_t,Ct)}function po(t,s){var i=Ie;Ie|=2;var c=_f();(_t!==t||Ct!==s)&&(Xr=null,Zn(t,s));do try{$y();break}catch(d){bf(t,d)}while(!0);if(Kl(),Ie=i,io.current=c,ft!==null)throw Error(n(261));return _t=null,Ct=0,gt}function $y(){for(;ft!==null;)kf(ft)}function zy(){for(;ft!==null&&!ug();)kf(ft)}function kf(t){var s=Cf(t.alternate,t,nr);t.memoizedProps=t.pendingProps,s===null?Sf(t):ft=s,Ec.current=null}function Sf(t){var s=t;do{var i=s.alternate;if(t=s.return,(s.flags&32768)===0){if(i=Oy(i,s,nr),i!==null){ft=i;return}}else{if(i=Py(i,s),i!==null){i.flags&=32767,ft=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ft=null;return}}if(s=s.sibling,s!==null){ft=s;return}ft=s=t}while(s!==null);gt===0&&(gt=5)}function es(t,s,i){var c=Me,d=fr.transition;try{fr.transition=null,Me=1,Uy(t,s,i,c)}finally{fr.transition=d,Me=c}return null}function Uy(t,s,i,c){do Rs();while(Cn!==null);if((Ie&6)!==0)throw Error(n(327));i=t.finishedWork;var d=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=i.lanes|i.childLanes;if(xg(t,m),t===_t&&(ft=_t=null,Ct=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||co||(co=!0,Nf(yi,function(){return Rs(),null})),m=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||m){m=fr.transition,fr.transition=null;var v=Me;Me=1;var E=Ie;Ie|=4,Ec.current=null,Iy(t,i),pf(i,t),iy(Il),Si=!!Al,Il=Al=null,t.current=i,Dy(i),dg(),Ie=E,Me=v,fr.transition=m}else t.current=i;if(co&&(co=!1,Cn=t,uo=d),m=t.pendingLanes,m===0&&(jn=null),pg(i.stateNode),Kt(t,it()),s!==null)for(c=t.onRecoverableError,i=0;i<s.length;i++)d=s[i],c(d.value,{componentStack:d.stack,digest:d.digest});if(lo)throw lo=!1,t=Nc,Nc=null,t;return(uo&1)!==0&&t.tag!==0&&Rs(),m=t.pendingLanes,(m&1)!==0?t===Tc?Ba++:(Ba=0,Tc=t):Ba=0,_n(),null}function Rs(){if(Cn!==null){var t=dd(uo),s=fr.transition,i=Me;try{if(fr.transition=null,Me=16>t?16:t,Cn===null)var c=!1;else{if(t=Cn,Cn=null,uo=0,(Ie&6)!==0)throw Error(n(331));var d=Ie;for(Ie|=4,se=t.current;se!==null;){var m=se,v=m.child;if((se.flags&16)!==0){var E=m.deletions;if(E!==null){for(var N=0;N<E.length;N++){var L=E[N];for(se=L;se!==null;){var H=se;switch(H.tag){case 0:case 11:case 15:$a(8,H,m)}var G=H.child;if(G!==null)G.return=H,se=G;else for(;se!==null;){H=se;var q=H.sibling,re=H.return;if(cf(H),H===L){se=null;break}if(q!==null){q.return=re,se=q;break}se=re}}}var ae=m.alternate;if(ae!==null){var ie=ae.child;if(ie!==null){ae.child=null;do{var ot=ie.sibling;ie.sibling=null,ie=ot}while(ie!==null)}}se=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,se=v;else e:for(;se!==null;){if(m=se,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:$a(9,m,m.return)}var A=m.sibling;if(A!==null){A.return=m.return,se=A;break e}se=m.return}}var O=t.current;for(se=O;se!==null;){v=se;var I=v.child;if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,se=I;else e:for(v=O;se!==null;){if(E=se,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:ao(9,E)}}catch(le){rt(E,E.return,le)}if(E===v){se=null;break e}var Y=E.sibling;if(Y!==null){Y.return=E.return,se=Y;break e}se=E.return}}if(Ie=d,_n(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(vi,t)}catch{}c=!0}return c}finally{Me=i,fr.transition=s}}return!1}function Ef(t,s,i){s=js(i,s),s=Fh(t,s,1),t=Sn(t,s,1),s=Ut(),t!==null&&(da(t,1,s),Kt(t,s))}function rt(t,s,i){if(t.tag===3)Ef(t,t,i);else for(;s!==null;){if(s.tag===3){Ef(s,t,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(jn===null||!jn.has(c))){t=js(i,t),t=Wh(s,t,1),s=Sn(s,t,1),t=Ut(),s!==null&&(da(s,1,t),Kt(s,t));break}}s=s.return}}function By(t,s,i){var c=t.pingCache;c!==null&&c.delete(s),s=Ut(),t.pingedLanes|=t.suspendedLanes&i,_t===t&&(Ct&i)===i&&(gt===4||gt===3&&(Ct&130023424)===Ct&&500>it()-Cc?Zn(t,0):jc|=i),Kt(t,s)}function jf(t,s){s===0&&((t.mode&1)===0?s=1:(s=xi,xi<<=1,(xi&130023424)===0&&(xi=4194304)));var i=Ut();t=Jr(t,s),t!==null&&(da(t,s,i),Kt(t,i))}function Fy(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),jf(t,i)}function Wy(t,s){var i=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),jf(t,i)}var Cf;Cf=function(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps||Wt.current)Vt=!0;else{if((t.lanes&i)===0&&(s.flags&128)===0)return Vt=!1,Ry(t,s,i);Vt=(t.flags&131072)!==0}else Vt=!1,Qe&&(s.flags&1048576)!==0&&ah(s,Fi,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;no(t,s),t=s.pendingProps;var d=vs(s,It.current);Ss(s,i),d=sc(null,s,c,t,d,i);var m=ac();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,qt(c)?(m=!0,zi(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ql(s),d.updater=to,s.stateNode=d,d._reactInternals=s,dc(s,c,t,i),s=mc(null,s,c,!0,m,i)):(s.tag=0,Qe&&m&&Bl(s),zt(null,s,d,i),s=s.child),s;case 16:c=s.elementType;e:{switch(no(t,s),t=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=Vy(c),t=_r(c,t),d){case 0:s=pc(null,s,c,t,i);break e;case 1:s=Xh(null,s,c,t,i);break e;case 11:s=Kh(null,s,c,t,i);break e;case 14:s=Gh(null,s,c,_r(c.type,t),i);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:_r(c,d),pc(t,s,c,d,i);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:_r(c,d),Xh(t,s,c,d,i);case 3:e:{if(Zh(s),t===null)throw Error(n(387));c=s.pendingProps,m=s.memoizedState,d=m.element,ph(t,s),Gi(s,c,null,i);var v=s.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=js(Error(n(423)),s),s=ef(t,s,c,i,d);break e}else if(c!==d){d=js(Error(n(424)),s),s=ef(t,s,c,i,d);break e}else for(rr=wn(s.stateNode.containerInfo.firstChild),tr=s,Qe=!0,br=null,i=hh(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(bs(),c===d){s=Qr(t,s,i);break e}zt(t,s,c,i)}s=s.child}return s;case 5:return yh(s),t===null&&ql(s),c=s.type,d=s.pendingProps,m=t!==null?t.memoizedProps:null,v=d.children,Dl(c,d)?v=null:m!==null&&Dl(c,m)&&(s.flags|=32),Qh(t,s),zt(t,s,v,i),s.child;case 6:return t===null&&ql(s),null;case 13:return tf(t,s,i);case 4:return Xl(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=_s(s,null,c,i):zt(t,s,c,i),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:_r(c,d),Kh(t,s,c,d,i);case 7:return zt(t,s,s.pendingProps,i),s.child;case 8:return zt(t,s,s.pendingProps.children,i),s.child;case 12:return zt(t,s,s.pendingProps.children,i),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,m=s.memoizedProps,v=d.value,We(Vi,c._currentValue),c._currentValue=v,m!==null)if(xr(m.value,v)){if(m.children===d.children&&!Wt.current){s=Qr(t,s,i);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var E=m.dependencies;if(E!==null){v=m.child;for(var N=E.firstContext;N!==null;){if(N.context===c){if(m.tag===1){N=Yr(-1,i&-i),N.tag=2;var L=m.updateQueue;if(L!==null){L=L.shared;var H=L.pending;H===null?N.next=N:(N.next=H.next,H.next=N),L.pending=N}}m.lanes|=i,N=m.alternate,N!==null&&(N.lanes|=i),Jl(m.return,i,s),E.lanes|=i;break}N=N.next}}else if(m.tag===10)v=m.type===s.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=i,E=v.alternate,E!==null&&(E.lanes|=i),Jl(v,i,s),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}zt(t,s,d.children,i),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,Ss(s,i),d=dr(d),c=c(d),s.flags|=1,zt(t,s,c,i),s.child;case 14:return c=s.type,d=_r(c,s.pendingProps),d=_r(c.type,d),Gh(t,s,c,d,i);case 15:return Jh(t,s,s.type,s.pendingProps,i);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:_r(c,d),no(t,s),s.tag=1,qt(c)?(t=!0,zi(s)):t=!1,Ss(s,i),Uh(s,c,d),dc(s,c,d,i),mc(null,s,c,!0,t,i);case 19:return nf(t,s,i);case 22:return Yh(t,s,i)}throw Error(n(156,s.tag))};function Nf(t,s){return id(t,s)}function qy(t,s,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,s,i,c){return new qy(t,s,i,c)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vy(t){if(typeof t=="function")return Dc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J)return 11;if(t===ue)return 14}return 2}function Rn(t,s){var i=t.alternate;return i===null?(i=pr(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function mo(t,s,i,c,d,m){var v=2;if(c=t,typeof t=="function")Dc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case U:return ts(i.children,d,m,s);case K:v=8,d|=8;break;case Z:return t=pr(12,i,s,d|2),t.elementType=Z,t.lanes=m,t;case ce:return t=pr(13,i,s,d),t.elementType=ce,t.lanes=m,t;case me:return t=pr(19,i,s,d),t.elementType=me,t.lanes=m,t;case Q:return go(i,d,m,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xe:v=10;break e;case oe:v=9;break e;case J:v=11;break e;case ue:v=14;break e;case ne:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return s=pr(v,i,s,d),s.elementType=t,s.type=c,s.lanes=m,s}function ts(t,s,i,c){return t=pr(7,t,c,s),t.lanes=i,t}function go(t,s,i,c){return t=pr(22,t,c,s),t.elementType=Q,t.lanes=i,t.stateNode={isHidden:!1},t}function Lc(t,s,i){return t=pr(6,t,null,s),t.lanes=i,t}function Mc(t,s,i){return s=pr(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Hy(t,s,i,c,d){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function $c(t,s,i,c,d,m,v,E,N){return t=new Hy(t,s,i,E,N),s===1?(s=1,m===!0&&(s|=8)):s=0,m=pr(3,null,null,s),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ql(m),t}function Ky(t,s,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:c==null?null:""+c,children:t,containerInfo:s,implementation:i}}function Tf(t){if(!t)return bn;t=t._reactInternals;e:{if(Wn(t)!==t||t.tag!==1)throw Error(n(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(qt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(t.tag===1){var i=t.type;if(qt(i))return rh(t,i,s)}return s}function Rf(t,s,i,c,d,m,v,E,N){return t=$c(i,c,!0,t,d,m,v,E,N),t.context=Tf(null),i=t.current,c=Ut(),d=Nn(i),m=Yr(c,d),m.callback=s??null,Sn(i,m,d),t.current.lanes=d,da(t,d,c),Kt(t,c),t}function yo(t,s,i,c){var d=s.current,m=Ut(),v=Nn(d);return i=Tf(i),s.context===null?s.context=i:s.pendingContext=i,s=Yr(m,v),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=Sn(d,s,v),t!==null&&(Er(t,d,v,m),Ki(t,d,v)),v}function vo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Of(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function zc(t,s){Of(t,s),(t=t.alternate)&&Of(t,s)}function Gy(){return null}var Pf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uc(t){this._internalRoot=t}wo.prototype.render=Uc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));yo(t,s,null,null)},wo.prototype.unmount=Uc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Xn(function(){yo(null,t,null,null)}),s[Vr]=null}};function wo(t){this._internalRoot=t}wo.prototype.unstable_scheduleHydration=function(t){if(t){var s=pd();t={blockedOn:null,target:t,priority:s};for(var i=0;i<gn.length&&s!==0&&s<gn[i].priority;i++);gn.splice(i,0,t),i===0&&yd(t)}};function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Af(){}function Jy(t,s,i,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var L=vo(v);m.call(L)}}var v=Rf(s,c,t,0,null,!1,!1,"",Af);return t._reactRootContainer=v,t[Vr]=v.current,Ea(t.nodeType===8?t.parentNode:t),Xn(),v}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var E=c;c=function(){var L=vo(N);E.call(L)}}var N=$c(t,0,!1,null,null,!1,!1,"",Af);return t._reactRootContainer=N,t[Vr]=N.current,Ea(t.nodeType===8?t.parentNode:t),Xn(function(){yo(s,N,i,c)}),N}function bo(t,s,i,c,d){var m=i._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var E=d;d=function(){var N=vo(v);E.call(N)}}yo(s,v,t,d)}else v=Jy(i,s,t,d,c);return vo(v)}hd=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var i=ua(s.pendingLanes);i!==0&&(dl(s,i|1),Kt(s,it()),(Ie&6)===0&&(Ts=it()+500,_n()))}break;case 13:Xn(function(){var c=Jr(t,1);if(c!==null){var d=Ut();Er(c,t,1,d)}}),zc(t,1)}},hl=function(t){if(t.tag===13){var s=Jr(t,134217728);if(s!==null){var i=Ut();Er(s,t,134217728,i)}zc(t,134217728)}},fd=function(t){if(t.tag===13){var s=Nn(t),i=Jr(t,s);if(i!==null){var c=Ut();Er(i,t,s,c)}zc(t,s)}},pd=function(){return Me},md=function(t,s){var i=Me;try{return Me=t,s()}finally{Me=i}},hn=function(t,s,i){switch(s){case"input":if(Be(t,i),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==t&&c.form===t.form){var d=Mi(c);if(!d)throw Error(n(90));wt(c),Be(c,d)}}}break;case"textarea":on(t,i);break;case"select":s=i.value,s!=null&&ct(t,!!i.multiple,s,!1)}},je=Pc,Ce=Xn;var Yy={usingClientEntryPoint:!1,Events:[Na,gs,Mi,xt,pe,Pc]},Fa={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qy={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sd(t),t===null?null:t.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||Gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{vi=_o.inject(Qy),Lr=_o}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy,Gt.createPortal=function(t,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(s))throw Error(n(200));return Ky(t,s,null,i)},Gt.createRoot=function(t,s){if(!Bc(t))throw Error(n(299));var i=!1,c="",d=Pf;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=$c(t,1,!1,null,null,i,!1,c,d),t[Vr]=s.current,Ea(t.nodeType===8?t.parentNode:t),new Uc(s)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=sd(s),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Xn(t)},Gt.hydrate=function(t,s,i){if(!xo(s))throw Error(n(200));return bo(null,t,s,!0,i)},Gt.hydrateRoot=function(t,s,i){if(!Bc(t))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,d=!1,m="",v=Pf;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),s=Rf(s,null,t,1,i??null,d,!1,m,v),t[Vr]=s.current,Ea(t),c)for(t=0;t<c.length;t++)i=c[t],d=i._getVersion,d=d(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,d]:s.mutableSourceEagerHydrationData.push(i,d);return new wo(s)},Gt.render=function(t,s,i){if(!xo(s))throw Error(n(200));return bo(null,t,s,!1,i)},Gt.unmountComponentAtNode=function(t){if(!xo(t))throw Error(n(40));return t._reactRootContainer?(Xn(function(){bo(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1},Gt.unstable_batchedUpdates=Pc,Gt.unstable_renderSubtreeIntoContainer=function(t,s,i,c){if(!xo(i))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return bo(t,s,i,!1,c)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Bf;function Jp(){if(Bf)return qc.exports;Bf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qc.exports=iv(),qc.exports}var Ff;function ov(){if(Ff)return ko;Ff=1;var r=Jp();return ko.createRoot=r.createRoot,ko.hydrateRoot=r.hydrateRoot,ko}var lv=ov();const cv=Au(lv);var Fs=Jp();const uv=Au(Fs);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Za.apply(this,arguments)}var Mn;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Mn||(Mn={}));const Wf="popstate";function dv(r){r===void 0&&(r={});function e(a,o){let{pathname:l,search:u,hash:f}=a.location;return du("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Io(o)}return fv(e,n,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Du(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hv(){return Math.random().toString(36).substr(2,8)}function qf(r,e){return{usr:r.state,key:r.key,idx:e}}function du(r,e,n,a){return n===void 0&&(n=null),Za({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:n,key:e&&e.key||a||hv()})}function Io(r){let{pathname:e="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function ta(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substr(a),r=r.substr(0,a)),r&&(e.pathname=r)}return e}function fv(r,e,n,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,f=Mn.Pop,p=null,g=y();g==null&&(g=0,u.replaceState(Za({},u.state,{idx:g}),""));function y(){return(u.state||{idx:null}).idx}function x(){f=Mn.Pop;let k=y(),C=k==null?null:k-g;g=k,p&&p({action:f,location:S.location,delta:C})}function _(k,C){f=Mn.Push;let T=du(S.location,k,C);g=y()+1;let P=qf(T,g),M=S.createHref(T);try{u.pushState(P,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(M)}l&&p&&p({action:f,location:S.location,delta:1})}function w(k,C){f=Mn.Replace;let T=du(S.location,k,C);g=y();let P=qf(T,g),M=S.createHref(T);u.replaceState(P,"",M),l&&p&&p({action:f,location:S.location,delta:0})}function j(k){let C=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof k=="string"?k:Io(k);return T=T.replace(/ $/,"%20"),tt(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let S={get action(){return f},get location(){return r(o,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wf,x),p=k,()=>{o.removeEventListener(Wf,x),p=null}},createHref(k){return e(o,k)},createURL:j,encodeLocation(k){let C=j(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:w,go(k){return u.go(k)}};return S}var Vf;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Vf||(Vf={}));function pv(r,e,n){return n===void 0&&(n="/"),mv(r,e,n)}function mv(r,e,n,a){let o=typeof e=="string"?ta(e):e,l=Js(o.pathname||"/",n);if(l==null)return null;let u=Yp(r);gv(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=Cv(l);f=Ev(u[p],g)}return f}function Yp(r,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let o=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(a),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(a.length));let g=$n([a,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Yp(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:kv(g,l.index),routesMeta:y})};return r.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let p of Qp(l.path))o(l,u,p)}),e}function Qp(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=Qp(a.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...u),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function gv(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Sv(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const yv=/^:[\w-]+$/,vv=3,wv=2,xv=1,bv=10,_v=-2,Hf=r=>r==="*";function kv(r,e){let n=r.split("/"),a=n.length;return n.some(Hf)&&(a+=_v),e&&(a+=wv),n.filter(o=>!Hf(o)).reduce((o,l)=>o+(yv.test(l)?vv:l===""?xv:bv),a)}function Sv(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function Ev(r,e,n){let{routesMeta:a}=r,o={},l="/",u=[];for(let f=0;f<a.length;++f){let p=a[f],g=f===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",x=hu({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),_=p.route;if(!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:$n([l,x.pathname]),pathnameBase:Pv($n([l,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(l=$n([l,x.pathnameBase]))}return u}function hu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=jv(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((g,y,x)=>{let{paramName:_,isOptional:w}=y;if(_==="*"){let S=f[x]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const j=f[x];return w&&!j?g[_]=void 0:g[_]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:r}}function jv(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Du(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Cv(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Du(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Js(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}const Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tv=r=>Nv.test(r);function Rv(r,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?ta(r):r,l;if(n)if(Tv(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Du(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?l=Kf(n.substring(1),"/"):l=Kf(n,e)}else l=e;return{pathname:l,search:Av(a),hash:Iv(o)}}function Kf(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kc(r,e,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ov(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lu(r,e){let n=Ov(r);return e?n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Mu(r,e,n,a){a===void 0&&(a=!1);let o;typeof r=="string"?o=ta(r):(o=Za({},r),tt(!o.pathname||!o.pathname.includes("?"),Kc("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Kc("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Kc("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let x=e.length-1;if(!a&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),x-=1;o.pathname=_.join("/")}f=x>=0?e[x]:"/"}let p=Rv(o,f),g=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}const $n=r=>r.join("/").replace(/\/\/+/g,"/"),Pv=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Av=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Iv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Dv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Xp=["post","put","patch","delete"];new Set(Xp);const Lv=["get",...Xp];new Set(Lv);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ei.apply(this,arguments)}const Yo=b.createContext(null),Zp=b.createContext(null),nn=b.createContext(null),Qo=b.createContext(null),Br=b.createContext({outlet:null,matches:[],isDataRoute:!1}),em=b.createContext(null);function Mv(r,e){let{relative:n}=e===void 0?{}:e;ra()||tt(!1);let{basename:a,navigator:o}=b.useContext(nn),{hash:l,pathname:u,search:f}=Xo(r,{relative:n}),p=u;return a!=="/"&&(p=u==="/"?a:$n([a,u])),o.createHref({pathname:p,search:f,hash:l})}function ra(){return b.useContext(Qo)!=null}function gr(){return ra()||tt(!1),b.useContext(Qo).location}function tm(r){b.useContext(nn).static||b.useLayoutEffect(r)}function na(){let{isDataRoute:r}=b.useContext(Br);return r?Xv():$v()}function $v(){ra()||tt(!1);let r=b.useContext(Yo),{basename:e,future:n,navigator:a}=b.useContext(nn),{matches:o}=b.useContext(Br),{pathname:l}=gr(),u=JSON.stringify(Lu(o,n.v7_relativeSplatPath)),f=b.useRef(!1);return tm(()=>{f.current=!0}),b.useCallback(function(g,y){if(y===void 0&&(y={}),!f.current)return;if(typeof g=="number"){a.go(g);return}let x=Mu(g,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:$n([e,x.pathname])),(y.replace?a.replace:a.push)(x,y.state,y)},[e,a,u,l,r])}const zv=b.createContext(null);function Uv(r){let e=b.useContext(Br).outlet;return e&&b.createElement(zv.Provider,{value:r},e)}function rm(){let{matches:r}=b.useContext(Br),e=r[r.length-1];return e?e.params:{}}function Xo(r,e){let{relative:n}=e===void 0?{}:e,{future:a}=b.useContext(nn),{matches:o}=b.useContext(Br),{pathname:l}=gr(),u=JSON.stringify(Lu(o,a.v7_relativeSplatPath));return b.useMemo(()=>Mu(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function Bv(r,e){return Fv(r,e)}function Fv(r,e,n,a){ra()||tt(!1);let{navigator:o}=b.useContext(nn),{matches:l}=b.useContext(Br),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let g=gr(),y;if(e){var x;let k=typeof e=="string"?ta(e):e;p==="/"||(x=k.pathname)!=null&&x.startsWith(p)||tt(!1),y=k}else y=g;let _=y.pathname||"/",w=_;if(p!=="/"){let k=p.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=pv(r,{pathname:w}),S=Kv(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:$n([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:$n([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,a);return e&&S?b.createElement(Qo.Provider,{value:{location:ei({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Mn.Pop}},S):S}function Wv(){let r=Qv(),e=Dv(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:o},n):null,null)}const qv=b.createElement(Wv,null);class Vv extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Br.Provider,{value:this.props.routeContext},b.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hv(r){let{routeContext:e,match:n,children:a}=r,o=b.useContext(Yo);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Br.Provider,{value:e},a)}function Kv(r,e,n,a){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var l;if(!n)return null;if(n.errors)r=n.matches;else if((l=a)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=(o=n)==null?void 0:o.errors;if(f!=null){let y=u.findIndex(x=>x.route.id&&(f==null?void 0:f[x.route.id])!==void 0);y>=0||tt(!1),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(n&&a&&a.v7_partialHydration)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=y),x.route.id){let{loaderData:_,errors:w}=n,j=x.route.loader&&_[x.route.id]===void 0&&(!w||w[x.route.id]===void 0);if(x.route.lazy||j){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,x,_)=>{let w,j=!1,S=null,k=null;n&&(w=f&&x.route.id?f[x.route.id]:void 0,S=x.route.errorElement||qv,p&&(g<0&&_===0?(Zv("route-fallback"),j=!0,k=null):g===_&&(j=!0,k=x.route.hydrateFallbackElement||null)));let C=e.concat(u.slice(0,_+1)),T=()=>{let P;return w?P=S:j?P=k:x.route.Component?P=b.createElement(x.route.Component,null):x.route.element?P=x.route.element:P=y,b.createElement(Hv,{match:x,routeContext:{outlet:y,matches:C,isDataRoute:n!=null},children:P})};return n&&(x.route.ErrorBoundary||x.route.errorElement||_===0)?b.createElement(Vv,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var nm=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(nm||{}),sm=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(sm||{});function Gv(r){let e=b.useContext(Yo);return e||tt(!1),e}function Jv(r){let e=b.useContext(Zp);return e||tt(!1),e}function Yv(r){let e=b.useContext(Br);return e||tt(!1),e}function am(r){let e=Yv(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function Qv(){var r;let e=b.useContext(em),n=Jv(),a=am();return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function Xv(){let{router:r}=Gv(nm.UseNavigateStable),e=am(sm.UseNavigateStable),n=b.useRef(!1);return tm(()=>{n.current=!0}),b.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,ei({fromRouteId:e},l)))},[r,e])}const Gf={};function Zv(r,e,n){Gf[r]||(Gf[r]=!0)}function e0(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Do(r){let{to:e,replace:n,state:a,relative:o}=r;ra()||tt(!1);let{future:l,static:u}=b.useContext(nn),{matches:f}=b.useContext(Br),{pathname:p}=gr(),g=na(),y=Mu(e,Lu(f,l.v7_relativeSplatPath),p,o==="path"),x=JSON.stringify(y);return b.useEffect(()=>g(JSON.parse(x),{replace:n,state:a,relative:o}),[g,x,o,n,a]),null}function t0(r){return Uv(r.context)}function Cr(r){tt(!1)}function r0(r){let{basename:e="/",children:n=null,location:a,navigationType:o=Mn.Pop,navigator:l,static:u=!1,future:f}=r;ra()&&tt(!1);let p=e.replace(/^\/*/,"/"),g=b.useMemo(()=>({basename:p,navigator:l,static:u,future:ei({v7_relativeSplatPath:!1},f)}),[p,f,l,u]);typeof a=="string"&&(a=ta(a));let{pathname:y="/",search:x="",hash:_="",state:w=null,key:j="default"}=a,S=b.useMemo(()=>{let k=Js(y,p);return k==null?null:{location:{pathname:k,search:x,hash:_,state:w,key:j},navigationType:o}},[p,y,x,_,w,j,o]);return S==null?null:b.createElement(nn.Provider,{value:g},b.createElement(Qo.Provider,{children:n,value:S}))}function n0(r){let{children:e,location:n}=r;return Bv(fu(e),n)}new Promise(()=>{});function fu(r,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(r,(a,o)=>{if(!b.isValidElement(a))return;let l=[...e,o];if(a.type===b.Fragment){n.push.apply(n,fu(a.props.children,l));return}a.type!==Cr&&tt(!1),!a.props.index||!a.props.children||tt(!1);let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=fu(a.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Lo.apply(this,arguments)}function im(r,e){if(r==null)return{};var n={},a=Object.keys(r),o,l;for(l=0;l<a.length;l++)o=a[l],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function s0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function a0(r,e){return r.button===0&&(!e||e==="_self")&&!s0(r)}function pu(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let a=r[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function i0(r,e){let n=pu(r);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}const o0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],c0="6";try{window.__reactRouterVersion=c0}catch{}const u0=b.createContext({isTransitioning:!1}),d0="startTransition",Jf=nv[d0];function h0(r){let{basename:e,children:n,future:a,window:o}=r,l=b.useRef();l.current==null&&(l.current=dv({window:o,v5Compat:!0}));let u=l.current,[f,p]=b.useState({action:u.action,location:u.location}),{v7_startTransition:g}=a||{},y=b.useCallback(x=>{g&&Jf?Jf(()=>p(x)):p(x)},[p,g]);return b.useLayoutEffect(()=>u.listen(y),[u,y]),b.useEffect(()=>e0(a),[a]),b.createElement(r0,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:u,future:a})}const f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mo=b.forwardRef(function(e,n){let{onClick:a,relative:o,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:y,viewTransition:x}=e,_=im(e,o0),{basename:w}=b.useContext(nn),j,S=!1;if(typeof g=="string"&&p0.test(g)&&(j=g,f0))try{let P=new URL(window.location.href),M=g.startsWith("//")?new URL(P.protocol+g):new URL(g),$=Js(M.pathname,w);M.origin===P.origin&&$!=null?g=$+M.search+M.hash:S=!0}catch{}let k=Mv(g,{relative:o}),C=g0(g,{replace:u,state:f,target:p,preventScrollReset:y,relative:o,viewTransition:x});function T(P){a&&a(P),P.defaultPrevented||C(P)}return b.createElement("a",Lo({},_,{href:j||k,onClick:S||l?a:T,ref:n,target:p}))}),Yf=b.forwardRef(function(e,n){let{"aria-current":a="page",caseSensitive:o=!1,className:l="",end:u=!1,style:f,to:p,viewTransition:g,children:y}=e,x=im(e,l0),_=Xo(p,{relative:x.relative}),w=gr(),j=b.useContext(Zp),{navigator:S,basename:k}=b.useContext(nn),C=j!=null&&v0(_)&&g===!0,T=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,P=w.pathname,M=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;o||(P=P.toLowerCase(),M=M?M.toLowerCase():null,T=T.toLowerCase()),M&&k&&(M=Js(M,k)||M);const $=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=P===T||!u&&P.startsWith(T)&&P.charAt($)==="/",U=M!=null&&(M===T||!u&&M.startsWith(T)&&M.charAt(T.length)==="/"),K={isActive:z,isPending:U,isTransitioning:C},Z=z?a:void 0,xe;typeof l=="function"?xe=l(K):xe=[l,z?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let oe=typeof f=="function"?f(K):f;return b.createElement(Mo,Lo({},x,{"aria-current":Z,className:xe,ref:n,style:oe,to:p,viewTransition:g}),typeof y=="function"?y(K):y)});var mu;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(mu||(mu={}));var Qf;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Qf||(Qf={}));function m0(r){let e=b.useContext(Yo);return e||tt(!1),e}function g0(r,e){let{target:n,replace:a,state:o,preventScrollReset:l,relative:u,viewTransition:f}=e===void 0?{}:e,p=na(),g=gr(),y=Xo(r,{relative:u});return b.useCallback(x=>{if(a0(x,n)){x.preventDefault();let _=a!==void 0?a:Io(g)===Io(y);p(r,{replace:_,state:o,preventScrollReset:l,relative:u,viewTransition:f})}},[g,p,y,a,o,n,r,l,u,f])}function y0(r){let e=b.useRef(pu(r)),n=b.useRef(!1),a=gr(),o=b.useMemo(()=>i0(a.search,n.current?null:e.current),[a.search]),l=na(),u=b.useCallback((f,p)=>{const g=pu(typeof f=="function"?f(o):f);n.current=!0,l("?"+g,p)},[l,o]);return[o,u]}function v0(r,e){e===void 0&&(e={});let n=b.useContext(u0);n==null&&tt(!1);let{basename:a}=m0(mu.useViewTransitionState),o=Xo(r,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Js(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Js(n.nextLocation.pathname,a)||n.nextLocation.pathname;return hu(o.pathname,u)!=null||hu(o.pathname,l)!=null}var w0=r=>{switch(r){case"success":return _0;case"info":return S0;case"warning":return k0;case"error":return E0;default:return null}},x0=Array(12).fill(0),b0=({visible:r,className:e})=>V.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},V.createElement("div",{className:"sonner-spinner"},x0.map((n,a)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),_0=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k0=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S0=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),E0=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j0=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),C0=()=>{let[r,e]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),r},gu=1,N0=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;let{message:n,...a}=r,o=typeof(r==null?void 0:r.id)=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:gu++,l=this.toasts.find(f=>f.id===o),u=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...r,id:o,title:n}),{...f,...r,id:o,dismissible:u,title:n}):f):this.addToast({title:n,...a,dismissible:u,id:o}),o},this.dismiss=r=>(this.dismissedToasts.add(r),r||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:r,dismiss:!0})),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let a=r instanceof Promise?r:r(),o=n!==void 0,l,u=a.then(async p=>{if(l=["resolve",p],V.isValidElement(p))o=!1,this.create({id:n,type:"default",message:p});else if(R0(p)&&!p.ok){o=!1;let g=typeof e.error=="function"?await e.error(`HTTP error! status: ${p.status}`):e.error,y=typeof e.description=="function"?await e.description(`HTTP error! status: ${p.status}`):e.description;this.create({id:n,type:"error",message:g,description:y})}else if(e.success!==void 0){o=!1;let g=typeof e.success=="function"?await e.success(p):e.success,y=typeof e.description=="function"?await e.description(p):e.description;this.create({id:n,type:"success",message:g,description:y})}}).catch(async p=>{if(l=["reject",p],e.error!==void 0){o=!1;let g=typeof e.error=="function"?await e.error(p):e.error,y=typeof e.description=="function"?await e.description(p):e.description;this.create({id:n,type:"error",message:g,description:y})}}).finally(()=>{var p;o&&(this.dismiss(n),n=void 0),(p=e.finally)==null||p.call(e)}),f=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(r,e)=>{let n=(e==null?void 0:e.id)||gu++;return this.create({jsx:r(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jt=new N0,T0=(r,e)=>{let n=(e==null?void 0:e.id)||gu++;return Jt.addToast({title:r,...e,id:n}),n},R0=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",O0=T0,P0=()=>Jt.toasts,A0=()=>Jt.getActiveToasts(),Os=Object.assign(O0,{success:Jt.success,info:Jt.info,warning:Jt.warning,error:Jt.error,custom:Jt.custom,message:Jt.message,promise:Jt.promise,dismiss:Jt.dismiss,loading:Jt.loading},{getHistory:P0,getToasts:A0});function I0(r,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}I0(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function So(r){return r.label!==void 0}var D0=3,L0="32px",M0="16px",Xf=4e3,$0=356,z0=14,U0=20,B0=200;function jr(...r){return r.filter(Boolean).join(" ")}function F0(r){let[e,n]=r.split("-"),a=[];return e&&a.push(e),n&&a.push(n),a}var W0=r=>{var e,n,a,o,l,u,f,p,g,y,x;let{invert:_,toast:w,unstyled:j,interacting:S,setHeights:k,visibleToasts:C,heights:T,index:P,toasts:M,expanded:$,removeToast:z,defaultRichColors:U,closeButton:K,style:Z,cancelButtonStyle:xe,actionButtonStyle:oe,className:J="",descriptionClassName:ce="",duration:me,position:ue,gap:ne,loadingIcon:Q,expandByDefault:F,classNames:B,icons:W,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:D}=r,[X,ee]=V.useState(null),[he,fe]=V.useState(null),[ge,Re]=V.useState(!1),[Pe,Ae]=V.useState(!1),[Rt,wt]=V.useState(!1),[or,Ot]=V.useState(!1),[te,Se]=V.useState(!1),[Be,lt]=V.useState(0),[Pt,st]=V.useState(0),ct=V.useRef(w.duration||me||Xf),lr=V.useRef(null),Et=V.useRef(null),on=P===0,Wr=P+1<=C,Ye=w.type,ut=w.dismissible!==!1,Yt=w.className||"",Ar=w.descriptionClassName||"",Qt=V.useMemo(()=>T.findIndex(pe=>pe.toastId===w.id)||0,[T,w.id]),At=V.useMemo(()=>{var pe;return(pe=w.closeButton)!=null?pe:K},[w.closeButton,K]),Bn=V.useMemo(()=>w.duration||me||Xf,[w.duration,me]),ln=V.useRef(0),yr=V.useRef(0),cn=V.useRef(0),Xt=V.useRef(null),[Fn,un]=ue.split("-"),dn=V.useMemo(()=>T.reduce((pe,je,Ce)=>Ce>=Qt?pe:pe+je.height,0),[T,Qt]),hn=C0(),Ir=w.invert||_,ze=Ye==="loading";yr.current=V.useMemo(()=>Qt*ne+dn,[Qt,dn]),V.useEffect(()=>{ct.current=Bn},[Bn]),V.useEffect(()=>{Re(!0)},[]),V.useEffect(()=>{let pe=Et.current;if(pe){let je=pe.getBoundingClientRect().height;return st(je),k(Ce=>[{toastId:w.id,height:je,position:w.position},...Ce]),()=>k(Ce=>Ce.filter(Fe=>Fe.toastId!==w.id))}},[k,w.id]),V.useLayoutEffect(()=>{if(!ge)return;let pe=Et.current,je=pe.style.height;pe.style.height="auto";let Ce=pe.getBoundingClientRect().height;pe.style.height=je,st(Ce),k(Fe=>Fe.find(at=>at.toastId===w.id)?Fe.map(at=>at.toastId===w.id?{...at,height:Ce}:at):[{toastId:w.id,height:Ce,position:w.position},...Fe])},[ge,w.title,w.description,k,w.id]);let Ve=V.useCallback(()=>{Ae(!0),lt(yr.current),k(pe=>pe.filter(je=>je.toastId!==w.id)),setTimeout(()=>{z(w)},B0)},[w,z,k,yr]);V.useEffect(()=>{if(w.promise&&Ye==="loading"||w.duration===1/0||w.type==="loading")return;let pe;return $||S||D&&hn?(()=>{if(cn.current<ln.current){let je=new Date().getTime()-ln.current;ct.current=ct.current-je}cn.current=new Date().getTime()})():ct.current!==1/0&&(ln.current=new Date().getTime(),pe=setTimeout(()=>{var je;(je=w.onAutoClose)==null||je.call(w,w),Ve()},ct.current)),()=>clearTimeout(pe)},[$,S,w,Ye,D,hn,Ve]),V.useEffect(()=>{w.delete&&Ve()},[Ve,w.delete]);function xt(){var pe,je,Ce;return W!=null&&W.loading?V.createElement("div",{className:jr(B==null?void 0:B.loader,(pe=w==null?void 0:w.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":Ye==="loading"},W.loading):Q?V.createElement("div",{className:jr(B==null?void 0:B.loader,(je=w==null?void 0:w.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":Ye==="loading"},Q):V.createElement(b0,{className:jr(B==null?void 0:B.loader,(Ce=w==null?void 0:w.classNames)==null?void 0:Ce.loader),visible:Ye==="loading"})}return V.createElement("li",{tabIndex:0,ref:Et,className:jr(J,Yt,B==null?void 0:B.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[Ye],(n=w==null?void 0:w.classNames)==null?void 0:n[Ye]),"data-sonner-toast":"","data-rich-colors":(a=w.richColors)!=null?a:U,"data-styled":!(w.jsx||w.unstyled||j),"data-mounted":ge,"data-promise":!!w.promise,"data-swiped":te,"data-removed":Pe,"data-visible":Wr,"data-y-position":Fn,"data-x-position":un,"data-index":P,"data-front":on,"data-swiping":Rt,"data-dismissible":ut,"data-type":Ye,"data-invert":Ir,"data-swipe-out":or,"data-swipe-direction":he,"data-expanded":!!($||F&&ge),style:{"--index":P,"--toasts-before":P,"--z-index":M.length-P,"--offset":`${Pe?Be:yr.current}px`,"--initial-height":F?"auto":`${Pt}px`,...Z,...w.style},onDragEnd:()=>{wt(!1),ee(null),Xt.current=null},onPointerDown:pe=>{ze||!ut||(lr.current=new Date,lt(yr.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(wt(!0),Xt.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,je,Ce,Fe;if(or||!ut)return;Xt.current=null;let at=Number(((pe=Et.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),De=Number(((je=Et.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((Ce=lr.current)==null?void 0:Ce.getTime()),$e=X==="x"?at:De,ht=Math.abs($e)/dt;if(Math.abs($e)>=U0||ht>.11){lt(yr.current),(Fe=w.onDismiss)==null||Fe.call(w,w),fe(X==="x"?at>0?"right":"left":De>0?"down":"up"),Ve(),Ot(!0),Se(!1);return}wt(!1),ee(null)},onPointerMove:pe=>{var je,Ce,Fe,at;if(!Xt.current||!ut||((je=window.getSelection())==null?void 0:je.toString().length)>0)return;let De=pe.clientY-Xt.current.y,dt=pe.clientX-Xt.current.x,$e=(Ce=r.swipeDirections)!=null?Ce:F0(ue);!X&&(Math.abs(dt)>1||Math.abs(De)>1)&&ee(Math.abs(dt)>Math.abs(De)?"x":"y");let ht={x:0,y:0};X==="y"?($e.includes("top")||$e.includes("bottom"))&&($e.includes("top")&&De<0||$e.includes("bottom")&&De>0)&&(ht.y=De):X==="x"&&($e.includes("left")||$e.includes("right"))&&($e.includes("left")&&dt<0||$e.includes("right")&&dt>0)&&(ht.x=dt),(Math.abs(ht.x)>0||Math.abs(ht.y)>0)&&Se(!0),(Fe=Et.current)==null||Fe.style.setProperty("--swipe-amount-x",`${ht.x}px`),(at=Et.current)==null||at.style.setProperty("--swipe-amount-y",`${ht.y}px`)}},At&&!w.jsx?V.createElement("button",{"aria-label":R,"data-disabled":ze,"data-close-button":!0,onClick:ze||!ut?()=>{}:()=>{var pe;Ve(),(pe=w.onDismiss)==null||pe.call(w,w)},className:jr(B==null?void 0:B.closeButton,(o=w==null?void 0:w.classNames)==null?void 0:o.closeButton)},(l=W==null?void 0:W.close)!=null?l:j0):null,w.jsx||b.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:V.createElement(V.Fragment,null,Ye||w.icon||w.promise?V.createElement("div",{"data-icon":"",className:jr(B==null?void 0:B.icon,(u=w==null?void 0:w.classNames)==null?void 0:u.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||xt():null,w.type!=="loading"?w.icon||(W==null?void 0:W[Ye])||w0(Ye):null):null,V.createElement("div",{"data-content":"",className:jr(B==null?void 0:B.content,(f=w==null?void 0:w.classNames)==null?void 0:f.content)},V.createElement("div",{"data-title":"",className:jr(B==null?void 0:B.title,(p=w==null?void 0:w.classNames)==null?void 0:p.title)},typeof w.title=="function"?w.title():w.title),w.description?V.createElement("div",{"data-description":"",className:jr(ce,Ar,B==null?void 0:B.description,(g=w==null?void 0:w.classNames)==null?void 0:g.description)},typeof w.description=="function"?w.description():w.description):null),b.isValidElement(w.cancel)?w.cancel:w.cancel&&So(w.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||xe,onClick:pe=>{var je,Ce;So(w.cancel)&&ut&&((Ce=(je=w.cancel).onClick)==null||Ce.call(je,pe),Ve())},className:jr(B==null?void 0:B.cancelButton,(y=w==null?void 0:w.classNames)==null?void 0:y.cancelButton)},w.cancel.label):null,b.isValidElement(w.action)?w.action:w.action&&So(w.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||oe,onClick:pe=>{var je,Ce;So(w.action)&&((Ce=(je=w.action).onClick)==null||Ce.call(je,pe),!pe.defaultPrevented&&Ve())},className:jr(B==null?void 0:B.actionButton,(x=w==null?void 0:w.classNames)==null?void 0:x.actionButton)},w.action.label):null))};function Zf(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function q0(r,e){let n={};return[r,e].forEach((a,o)=>{let l=o===1,u=l?"--mobile-offset":"--offset",f=l?M0:L0;function p(g){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof g=="number"?`${g}px`:g})}typeof a=="number"||typeof a=="string"?p(a):typeof a=="object"?["top","right","bottom","left"].forEach(g=>{a[g]===void 0?n[`${u}-${g}`]=f:n[`${u}-${g}`]=typeof a[g]=="number"?`${a[g]}px`:a[g]}):p(f)}),n}var V0=b.forwardRef(function(r,e){let{invert:n,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:f,offset:p,mobileOffset:g,theme:y="light",richColors:x,duration:_,style:w,visibleToasts:j=D0,toastOptions:S,dir:k=Zf(),gap:C=z0,loadingIcon:T,icons:P,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:$}=r,[z,U]=V.useState([]),K=V.useMemo(()=>Array.from(new Set([a].concat(z.filter(D=>D.position).map(D=>D.position)))),[z,a]),[Z,xe]=V.useState([]),[oe,J]=V.useState(!1),[ce,me]=V.useState(!1),[ue,ne]=V.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=V.useRef(null),F=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=V.useRef(null),W=V.useRef(!1),R=V.useCallback(D=>{U(X=>{var ee;return(ee=X.find(he=>he.id===D.id))!=null&&ee.delete||Jt.dismiss(D.id),X.filter(({id:he})=>he!==D.id)})},[]);return V.useEffect(()=>Jt.subscribe(D=>{if(D.dismiss){U(X=>X.map(ee=>ee.id===D.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{uv.flushSync(()=>{U(X=>{let ee=X.findIndex(he=>he.id===D.id);return ee!==-1?[...X.slice(0,ee),{...X[ee],...D},...X.slice(ee+1)]:[D,...X]})})})}),[]),V.useEffect(()=>{if(y!=="system"){ne(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:X})=>{ne(X?"dark":"light")})}catch{D.addListener(({matches:ee})=>{try{ne(ee?"dark":"light")}catch(he){console.error(he)}})}},[y]),V.useEffect(()=>{z.length<=1&&J(!1)},[z]),V.useEffect(()=>{let D=X=>{var ee,he;o.every(fe=>X[fe]||X.code===fe)&&(J(!0),(ee=Q.current)==null||ee.focus()),X.code==="Escape"&&(document.activeElement===Q.current||(he=Q.current)!=null&&he.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[o]),V.useEffect(()=>{if(Q.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,W.current=!1)}},[Q.current]),V.createElement("section",{ref:e,"aria-label":`${M} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((D,X)=>{var ee;let[he,fe]=D.split("-");return z.length?V.createElement("ol",{key:D,dir:k==="auto"?Zf():k,tabIndex:-1,ref:Q,className:f,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":he,"data-lifted":oe&&z.length>1&&!l,"data-x-position":fe,style:{"--front-toast-height":`${((ee=Z[0])==null?void 0:ee.height)||0}px`,"--width":`${$0}px`,"--gap":`${C}px`,...w,...q0(p,g)},onBlur:ge=>{W.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(W.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||W.current||(W.current=!0,B.current=ge.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{ce||J(!1)},onDragEnd:()=>J(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},z.filter(ge=>!ge.position&&X===0||ge.position===D).map((ge,Re)=>{var Pe,Ae;return V.createElement(W0,{key:ge.id,icons:P,index:Re,toast:ge,defaultRichColors:x,duration:(Pe=S==null?void 0:S.duration)!=null?Pe:_,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:n,visibleToasts:j,closeButton:(Ae=S==null?void 0:S.closeButton)!=null?Ae:u,interacting:ce,position:D,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,removeToast:R,toasts:z.filter(Rt=>Rt.position==ge.position),heights:Z.filter(Rt=>Rt.position==ge.position),setHeights:xe,expandByDefault:l,gap:C,loadingIcon:T,expanded:oe,pauseWhenPageIsHidden:$,swipeDirections:r.swipeDirections})})):null}))});const ep=r=>{let e;const n=new Set,a=(g,y)=>{const x=typeof g=="function"?g(e):g;if(!Object.is(x,e)){const _=e;e=y??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(w=>w(e,_))}},o=()=>e,f={setState:a,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=r(a,o,f);return f},H0=(r=>r?ep(r):ep),K0=r=>r;function G0(r,e=K0){const n=V.useSyncExternalStore(r.subscribe,V.useCallback(()=>e(r.getState()),[r,e]),V.useCallback(()=>e(r.getInitialState()),[r,e]));return V.useDebugValue(n),n}const J0=r=>{const e=H0(r),n=a=>G0(e,a);return Object.assign(n,e),n},om=(r=>J0);function Zo(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function Y0(r,e,n,a){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{g(a.next(y))}catch(x){u(x)}}function p(y){try{g(a.throw(y))}catch(x){u(x)}}function g(y){y.done?l(y.value):o(y.value).then(f,p)}g((a=a.apply(r,e||[])).next())})}const Q0=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class $u extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class X0 extends $u{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tp extends $u{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rp extends $u{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(yu||(yu={}));class Z0{constructor(e,{headers:n={},customFetch:a,region:o=yu.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Q0(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Y0(this,arguments,void 0,function*(n,a={}){var o;let l,u;try{const{headers:f,method:p,body:g,signal:y,timeout:x}=a;let _={},{region:w}=a;w||(w=this.region);const j=new URL(`${this.url}/${n}`);w&&w!=="any"&&(_["x-region"]=w,j.searchParams.set("forceFunctionRegion",w));let S;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",S=g):typeof g=="string"?(_["Content-Type"]="text/plain",S=g):typeof FormData<"u"&&g instanceof FormData?S=g:(_["Content-Type"]="application/json",S=JSON.stringify(g)):S=g;let k=y;x&&(u=new AbortController,l=setTimeout(()=>u.abort(),x),y?(k=u.signal,y.addEventListener("abort",()=>u.abort())):k=u.signal);const C=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:S,signal:k}).catch($=>{throw new X0($)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new tp(C);if(!C.ok)throw new rp(C);let P=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return P==="application/json"?M=yield C.json():P==="application/octet-stream"||P==="application/pdf"?M=yield C.blob():P==="text/event-stream"?M=C:P==="multipart/form-data"?M=yield C.formData():M=yield C.text(),{data:M,error:null,response:C}}catch(f){return{data:null,error:f,response:f instanceof rp||f instanceof tp?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var ew=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},tw=class{constructor(r){var e,n;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(n=r.isMaybeSingle)!==null&&n!==void 0?n:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,f=null,p=null,g=l.status,y=l.statusText;if(l.ok){var x,_;if(n.method!=="HEAD"){var w;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?f=C:f=JSON.parse(C))}const S=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),k=(_=l.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");S&&k&&k.length>1&&(p=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var j;const S=await l.text();try{u=JSON.parse(S),Array.isArray(u)&&l.status===404&&(f=[],u=null,g=200,y="OK")}catch{l.status===404&&S===""?(g=204,y="No Content"):u={message:S}}if(u&&n.isMaybeSingle&&(!(u==null||(j=u.details)===null||j===void 0)&&j.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&n.shouldThrowOnError)throw new ew(u)}return{error:u,data:f,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let f="";const p=l==null?void 0:l.cause;if(p){var g,y,x,_;const j=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",S=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";f=`${(x=l==null?void 0:l.name)!==null&&x!==void 0?x:"FetchError"}: ${l==null?void 0:l.message}`,f+=`

Caused by: ${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"Error"}: ${j}`,S&&(f+=` (${S})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var w;f=(w=l==null?void 0:l.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,e)}returns(){return this}overrideTypes(){return this}},rw=class extends tw{select(r){let e=!1;const n=(r??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,e,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(l,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:l="text"}={}){var u;const f=[r?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const np=new RegExp("[,()]");var zs=class extends rw{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&np.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${n})`),this}notIn(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&np.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`not.in.(${n})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(r,`${o}fts${l}.${e}`),this}match(r){return Object.entries(r).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(r,e,n){return this.url.searchParams.append(r,`not.${e}.${n}`),this}or(r,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,e,n){return this.url.searchParams.append(r,`${e}.${n}`),this}},nw=class{constructor(r,{headers:e={},schema:n,fetch:a}){this.url=r,this.headers=new Headers(e),this.schema=n,this.fetch=a}select(r,e){const{head:n=!1,count:a}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new zs({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:n=!0}={}){var a;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new zs({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new zs({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:e}={}){var n;const a="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new zs({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:r}={}){var e;const n="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new zs({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},sw=class lm{constructor(e,{headers:n={},schema:a,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:o=!1,count:l}={}){var u;let f;const p=new URL(`${this.url}/rpc/${e}`);let g;a||o?(f=a?"HEAD":"GET",Object.entries(n).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{p.searchParams.append(x,_)})):(f="POST",g=n);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new zs({method:f,url:p,headers:y,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class aw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iw="2.88.0",ow=`realtime-js/${iw}`,cm="1.0.0",lw="2.0.0",sp=cm,vu=1e4,cw=1e3,uw=100;var In;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(In||(In={}));var yt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(yt||(yt={}));var Rr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Rr||(Rr={}));var wu;(function(r){r.websocket="websocket"})(wu||(wu={}));var as;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(as||(as={}));class dw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,a){var o,l;const u=e.topic,f=(o=e.ref)!==null&&o!==void 0?o:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",g=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+u.length+g.length+x.length,w=new ArrayBuffer(this.HEADER_LENGTH+_);let j=new DataView(w),S=0;j.setUint8(S++,this.KINDS.userBroadcastPush),j.setUint8(S++,p.length),j.setUint8(S++,f.length),j.setUint8(S++,u.length),j.setUint8(S++,g.length),j.setUint8(S++,x.length),j.setUint8(S++,n),Array.from(p,C=>j.setUint8(S++,C.charCodeAt(0))),Array.from(f,C=>j.setUint8(S++,C.charCodeAt(0))),Array.from(u,C=>j.setUint8(S++,C.charCodeAt(0))),Array.from(g,C=>j.setUint8(S++,C.charCodeAt(0))),Array.from(x,C=>j.setUint8(S++,C.charCodeAt(0)));var k=new Uint8Array(w.byteLength+a.byteLength);return k.set(new Uint8Array(w),0),k.set(new Uint8Array(a),w.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,l,u,f,p]=a;return n({join_ref:o,ref:l,topic:u,event:f,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,a){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=a.decode(e.slice(p,p+o));p=p+o;const y=a.decode(e.slice(p,p+l));p=p+l;const x=a.decode(e.slice(p,p+u));p=p+u;const _=e.slice(p,e.byteLength),w=f===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,j={type:this.BROADCAST_EVENT,event:y,payload:w};return u>0&&(j.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class um{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(qe||(qe={}));const ap=(r,e,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=hw(u,r,e,o),l),{}):{}},hw=(r,e,n,a)=>{const o=e.find(f=>f.name===r),l=o==null?void 0:o.type,u=n[r];return l&&!a.includes(l)?dm(l,u):xu(u)},dm=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return gw(e,n)}switch(r){case qe.bool:return fw(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return pw(e);case qe.json:case qe.jsonb:return mw(e);case qe.timestamp:return yw(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return xu(e);default:return xu(e)}},xu=r=>r,fw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},pw=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},mw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},gw=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,a=r[n];if(r[0]==="{"&&a==="}"){let l;const u=r.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>dm(e,f))}return r},yw=r=>typeof r=="string"?r.replace(" ","T"):r,hm=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Gc{constructor(e,n,a={},o=vu){this.channel=e,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ip;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ip||(ip={}));class Ga{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ga.syncState(this.state,o,l,u),this.pendingDiffs.forEach(p=>{this.state=Ga.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ga.syncDiff(this.state,o,l,u),f())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,o){const l=this.cloneDeep(e),u=this.transformState(n),f={},p={};return this.map(l,(g,y)=>{u[g]||(p[g]=y)}),this.map(u,(g,y)=>{const x=l[g];if(x){const _=y.map(k=>k.presence_ref),w=x.map(k=>k.presence_ref),j=y.filter(k=>w.indexOf(k.presence_ref)<0),S=x.filter(k=>_.indexOf(k.presence_ref)<0);j.length>0&&(f[g]=j),S.length>0&&(p[g]=S)}else f[g]=y}),this.syncDiff(l,{joins:f,leaves:p},a,o)}static syncDiff(e,n,a,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(f,p)=>{var g;const y=(g=e[f])!==null&&g!==void 0?g:[];if(e[f]=this.cloneDeep(p),y.length>0){const x=e[f].map(w=>w.presence_ref),_=y.filter(w=>x.indexOf(w.presence_ref)<0);e[f].unshift(..._)}a(f,y,p)}),this.map(u,(f,p)=>{let g=e[f];if(!g)return;const y=p.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),e[f]=g,o(f,g,p),g.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const o=e[a];return"metas"in o?n[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var op;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(op||(op={}));var Ja;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ja||(Ja={}));var en;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class Ws{constructor(e,n={config:{}},a){var o,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gc(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new um(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Ga(this),this.broadcastEndpointURL=hm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params,g=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Ja.PRESENCE]&&this.bindings[Ja.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(en.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(en.CLOSED)),this.updateJoinPayload(Object.assign({config:_},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e==null||e(en.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(j=S==null?void 0:S.length)!==null&&j!==void 0?j:0,C=[];for(let T=0;T<k;T++){const P=S[T],{filter:{event:M,schema:$,table:z,filter:U}}=P,K=w&&w[T];if(K&&K.event===M&&Ws.isFilterValueEqual(K.schema,$)&&Ws.isFilterValueEqual(K.table,z)&&Ws.isFilterValueEqual(K.filter,U))C.push(Object.assign(Object.assign({},P),{id:K.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(en.SUBSCRIBED);return}}).receive("error",w=>{this.state=yt.errored,e==null||e(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===yt.joined&&e===Ja.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,p;const g=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Gc(this,Rr.leave,{},e),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Gc(this,e,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var o,l;const u=e.toLocaleLowerCase(),{close:f,error:p,leave:g,join:y}=Rr;if(a&&[f,p,g,y].indexOf(u)>=0&&a!==this._joinRef())return;let _=this._onMessage(u,n,a);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var j,S,k;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(S=w.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(w=>w.callback(_,a)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var j,S,k,C,T,P;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const M=w.id,$=(j=w.filter)===null||j===void 0?void 0:j.event;return M&&((S=n.ids)===null||S===void 0?void 0:S.includes(M))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const M=(T=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:S,table:k,commit_timestamp:C,type:T,errors:P}=j;_=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:C,eventType:T,new:{},old:{},errors:P}),this._getPayloadRecords(j))}w.callback(_,a)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Ws.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rr.close,{},e)}_onError(e){this._on(Rr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ap(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ap(e.columns,e.old_record)),n}}const Jc=()=>{},Eo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vw=[1e3,2e3,5e3,1e4],ww=1e4,xw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bw{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vu,this.transport=null,this.heartbeatIntervalMs=Eo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jc,this.ref=0,this.reconnectTimer=null,this.vsn=sp,this.logger=Jc,this.conn=null,this.sendBuffer=[],this.serializer=new dw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${wu.websocket}`,this.httpEndpoint=hm(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case In.connecting:return as.Connecting;case In.open:return as.Open;case In.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new Ws(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:o,ref:l}=e,u=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${a} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Eo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:l,ref:u}=n,f=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${a} ${o} ${f}`.trim(),l),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===In.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===In.open||this.conn.readyState===In.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${a}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([xw],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:ow};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Rr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new um(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Eo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,o,l,u,f,p,g,y,x,_,w;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:vu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Eo.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:Jc,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:sp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(j=>vw[j-1]||ww),this.vsn){case cm:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((j,S)=>S(JSON.stringify(j))),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:((j,S)=>S(JSON.parse(j)));break;case lw:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ti=class extends Error{constructor(r,e){var n;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _w(r,e,n){const a=new URL(e,r);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&a.searchParams.set(o,l);return a.toString()}async function kw(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Sw(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:l,headers:u}){const f=_w(r.baseUrl,a,o),p=await kw(r.auth),g=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),y=await g.text(),x=(g.headers.get("content-type")||"").includes("application/json"),_=x&&y?JSON.parse(y):y;if(!g.ok){const w=x?_:void 0,j=w==null?void 0:w.error;throw new ti((j==null?void 0:j.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:w})}return{status:g.status,headers:g.headers,data:_}}}}function jo(r){return r.join("")}var Ew=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:jo(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,e){const n={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(r.namespace)}`}),!0}catch(e){if(e instanceof ti&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(n){if(n instanceof ti&&n.status===409)return;throw n}}};function Ps(r){return r.join("")}var jw=class{constructor(r,e="",n){this.client=r,this.prefix=e,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(r.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(r,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ps(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ps(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(n){if(n instanceof ti&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(n){if(n instanceof ti&&n.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw n}}},Cw=class{constructor(r){var a;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Sw({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(a=r.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new Ew(this.client,e),this.tableOps=new jw(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},el=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function et(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Nw=class extends el{constructor(r,e,n){super(r),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bu=class extends el{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const zu=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Tw=()=>Response,_u=r=>{if(Array.isArray(r))return r.map(n=>_u(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=_u(a)}),e},Rw=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ow=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ri(r){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(r)}function Pw(r,e){if(ri(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ri(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Aw(r){var e=Pw(r,"string");return ri(e)=="symbol"?e:e+""}function Iw(r,e,n){return(e=Aw(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function lp(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function ke(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lp(Object(n),!0).forEach(function(a){Iw(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const Yc=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},Dw=async(r,e,n)=>{r instanceof await Tw()&&!(n!=null&&n.noResolveJson)?r.json().then(a=>{const o=r.status||500,l=(a==null?void 0:a.statusCode)||o+"";e(new Nw(Yc(a),o,l))}).catch(a=>{e(new bu(Yc(a),a))}):e(new bu(Yc(r),r))},Lw=(r,e,n,a)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!a?o:(Rw(a)?(o.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(a)):o.body=a,e!=null&&e.duplex&&(o.duplex=e.duplex),ke(ke({},o),n))};async function hi(r,e,n,a,o,l){return new Promise((u,f)=>{r(n,Lw(e,a,o,l)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>Dw(p,f,a))})}async function ni(r,e,n,a){return hi(r,"GET",e,n,a)}async function Tr(r,e,n,a,o){return hi(r,"POST",e,a,o,n)}async function ku(r,e,n,a,o){return hi(r,"PUT",e,a,o,n)}async function Mw(r,e,n,a){return hi(r,"HEAD",e,ke(ke({},n),{},{noResolveJson:!0}),a)}async function Uu(r,e,n,a,o){return hi(r,"DELETE",e,a,o,n)}var $w=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}}};let fm;fm=Symbol.toStringTag;var zw=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[fm]="BlobDownloadBuilder",this.promise=null}asStream(){return new $w(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}}};const Uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Bw=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=n,this.fetch=zu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,n,a){var o=this;try{let l;const u=ke(ke({},cp),a);let f=ke(ke({},o.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",o.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(p))):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,p&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(f=ke(ke({},f),a.headers));const g=o._removeEmptyFolders(e),y=o._getFinalPath(g),x=await(r=="PUT"?ku:Tr)(o.fetch,`${o.url}/object/${y}`,l,ke({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async upload(r,e,n){return this.uploadOrUpdate("POST",r,e,n)}async uploadToSignedUrl(r,e,n,a){var o=this;const l=o._removeEmptyFolders(r),u=o._getFinalPath(l),f=new URL(o.url+`/object/upload/sign/${u}`);f.searchParams.set("token",e);try{let p;const g=ke({upsert:cp.upsert},a),y=ke(ke({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",g.cacheControl)):(p=n,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:l,fullPath:(await ku(o.fetch,f.toString(),p,{headers:y})).Key},error:null}}catch(p){if(o.shouldThrowOnError)throw p;if(et(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,e){var n=this;try{let a=n._getFinalPath(r);const o=ke({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await Tr(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(n.url+l.url),f=u.searchParams.get("token");if(!f)throw new el("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:f},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async update(r,e,n){return this.uploadOrUpdate("PUT",r,e,n)}async move(r,e,n){var a=this;try{return{data:await Tr(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async copy(r,e,n){var a=this;try{return{data:{path:(await Tr(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async createSignedUrl(r,e,n){var a=this;try{let o=a._getFinalPath(r),l=await Tr(a.fetch,`${a.url}/object/sign/${o}`,ke({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${a.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async createSignedUrls(r,e,n){var a=this;try{const o=await Tr(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:r},{headers:a.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ke(ke({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}download(r,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(r),u=()=>ni(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new zw(u,this.shouldThrowOnError)}async info(r){var e=this;const n=e._getFinalPath(r);try{return{data:_u(await ni(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async exists(r){var e=this;const n=e._getFinalPath(r);try{return await Mw(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(et(a)&&a instanceof bu){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}}getPublicUrl(r,e){const n=this._getFinalPath(r),a=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&a.push(u);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(r){var e=this;try{return{data:await Uu(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async list(r,e,n){var a=this;try{const o=ke(ke(ke({},Uw),e),{},{prefix:r||""});return{data:await Tr(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},n),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async listV2(r,e){var n=this;try{const a=ke({},r);return{data:await Tr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const pm="2.88.0",mm={"X-Client-Info":`storage-js/${pm}`};var Fw=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1;const o=new URL(r);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ke(ke({},mm),e),this.fetch=zu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const n=e.listBucketOptionsToQueryString(r);return{data:await ni(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await ni(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async createBucket(r,e={public:!1}){var n=this;try{return{data:await Tr(n.fetch,`${n.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async updateBucket(r,e){var n=this;try{return{data:await ku(n.fetch,`${n.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}}async emptyBucket(r){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await Uu(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ww=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ke(ke({},mm),e),this.fetch=zu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async listBuckets(r){var e=this;try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const a=n.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await ni(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await Uu(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}from(r){var e=this;if(!Ow(r))throw new el("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Cw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(o,f),error:null}}catch(p){if(a)throw p;return{data:null,error:p}}}}})}};const Bu={"X-Client-Info":`storage-js/${pm}`,"Content-Type":"application/json"};var gm=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ar(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Qc=class extends gm{constructor(r,e,n){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qw=class extends gm{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const Fu=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Vw=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},up=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Hw=async(r,e,n)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(n!=null&&n.noResolveJson)){const a=r.status||500,o=r;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";e(new Qc(up(l),a,u))}).catch(()=>{const l=a+"";e(new Qc(o.statusText||`HTTP ${a} error`,a,l))});else{const l=a+"";e(new Qc(o.statusText||`HTTP ${a} error`,a,l))}}else e(new qw(up(r),r))},Kw=(r,e,n,a)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return a?(Vw(a)?(o.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(a)):o.body=a,ke(ke({},o),n)):o};async function Gw(r,e,n,a,o,l){return new Promise((u,f)=>{r(n,Kw(e,a,o,l)).then(p=>{if(!p.ok)throw p;if(a!=null&&a.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>Hw(p,f,a))})}async function ir(r,e,n,a,o){return Gw(r,"POST",e,a,o,n)}var Jw=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ke(ke({},Bu),e),this.fetch=Fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await ir(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async getIndex(r,e){var n=this;try{return{data:await ir(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}async listIndexes(r){var e=this;try{return{data:await ir(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async deleteIndex(r,e){var n=this;try{return{data:await ir(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}},Yw=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ke(ke({},Bu),e),this.fetch=Fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ir(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async getVectors(r){var e=this;try{return{data:await ir(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await ir(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async queryVectors(r){var e=this;try{return{data:await ir(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ir(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}},Qw=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ke(ke({},Bu),e),this.fetch=Fu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await ir(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await ir(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async listBuckets(r={}){var e=this;try{return{data:await ir(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await ir(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}},Xw=class extends Qw{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new Zw(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,n=this;return e().call(n,r)}async getBucket(r){var e=()=>super.getBucket,n=this;return e().call(n,r)}async listBuckets(r={}){var e=()=>super.listBuckets,n=this;return e().call(n,r)}async deleteBucket(r){var e=()=>super.deleteBucket,n=this;return e().call(n,r)}},Zw=class extends Jw{constructor(r,e,n,a){super(r,e,a),this.vectorBucketName=n}async createIndex(r){var e=()=>super.createIndex,n=this;return e().call(n,ke(ke({},r),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,n=this;return e().call(n,ke(ke({},r),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,r)}index(r){return new ex(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},ex=class extends Yw{constructor(r,e,n,a,o){super(r,e,o),this.vectorBucketName=n,this.indexName=a}async putVectors(r){var e=()=>super.putVectors,n=this;return e().call(n,ke(ke({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(r){var e=()=>super.getVectors,n=this;return e().call(n,ke(ke({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,n=this;return e().call(n,ke(ke({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,n=this;return e().call(n,ke(ke({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,n=this;return e().call(n,ke(ke({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},tx=class extends Fw{constructor(r,e={},n,a){super(r,e,n,a)}from(r){return new Bw(this.url,this.headers,r,this.fetch)}get vectors(){return new Xw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ww(this.url+"/iceberg",this.headers,this.fetch)}};const ym="2.88.0",Us=30*1e3,Su=3,Xc=Su*Us,rx="http://localhost:9999",nx="supabase.auth.token",sx={"X-Client-Info":`gotrue-js/${ym}`},Eu="X-Supabase-Api-Version",vm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ax=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ix=600*1e3;class si extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function de(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ox extends si{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function lx(r){return de(r)&&r.name==="AuthApiError"}class is extends si{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class sn extends si{constructor(e,n,a,o){super(e,a,o),this.name=n,this.status=a}}class sr extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cx(r){return de(r)&&r.name==="AuthSessionMissingError"}class As extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Co extends sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class No extends sn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ux(r){return de(r)&&r.name==="AuthImplicitGrantRedirectError"}class dp extends sn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dx extends sn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ju extends sn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Zc(r){return de(r)&&r.name==="AuthRetryableFetchError"}class hp extends sn{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Cu extends sn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fp=` 	
\r=`.split(""),hx=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<fp.length;e+=1)r[fp[e].charCodeAt(0)]=-2;for(let e=0;e<$o.length;e+=1)r[$o[e].charCodeAt(0)]=e;return r})();function pp(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n($o[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n($o[a]),e.queuedBits-=6}}function wm(r,e,n){const a=hx[r];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function mp(r){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{mx(u,a,n)};for(let u=0;u<r.length;u+=1)wm(r.charCodeAt(u),o,l);return e.join("")}function fx(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function px(r,e){for(let n=0;n<r.length;n+=1){let a=r.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(r.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}fx(a,e)}}function mx(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function qs(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)wm(r.charCodeAt(o),n,a);return new Uint8Array(e)}function gx(r){const e=[];return px(r,n=>e.push(n)),new Uint8Array(e)}function os(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};return r.forEach(o=>pp(o,n,a)),pp(null,n,a),e.join("")}function yx(r){return Math.round(Date.now()/1e3)+r}function vx(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},xm=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function wx(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((a,o)=>{e[o]=a}),e}const bm=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),xx=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Bs=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},ns=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nt=async(r,e)=>{await r.removeItem(e)};class tl{constructor(){this.promise=new tl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}tl.promiseConstructor=Promise;function eu(r){const e=r.split(".");if(e.length!==3)throw new Cu("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!ax.test(e[a]))throw new Cu("JWT not in base64url format");return{header:JSON.parse(mp(e[0])),payload:JSON.parse(mp(e[1])),signature:qs(e[2]),raw:{header:e[0],payload:e[1]}}}async function bx(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function _x(r,e){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function kx(r){return("0"+r.toString(16)).substr(-2)}function Sx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,kx).join("")}async function Ex(r){const n=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function jx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await Ex(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Is(r,e,n=!1){const a=Sx();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await Bs(r,`${e}-code-verifier`,o);const l=await jx(a);return[l,a===l?"plain":"s256"]}const Cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nx(r){const e=r.headers.get(Eu);if(!e||!e.match(Cx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Tx(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Rx(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ox=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(r){if(!Ox.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tu(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Px(r,e){return new Proxy(r,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,o)}})}function gp(r){return JSON.parse(JSON.stringify(r))}const ss=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ax=[502,503,504];async function yp(r){var e;if(!xx(r))throw new ju(ss(r),0);if(Ax.includes(r.status))throw new ju(ss(r),r.status);let n;try{n=await r.json()}catch(l){throw new is(ss(l),l)}let a;const o=Nx(r);if(o&&o.getTime()>=vm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new hp(ss(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new sr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new hp(ss(n),r.status,n.weak_password.reasons);throw new ox(ss(n),r.status||500,a)}const Ix=(r,e,n,a)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function _e(r,e,n,a){var o;const l=Object.assign({},a==null?void 0:a.headers);l[Eu]||(l[Eu]=vm["2024-01-01"].name),a!=null&&a.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await Dx(r,e,n+f,{headers:l,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function Dx(r,e,n,a,o,l){const u=Ix(e,a,o,l);let f;try{f=await r(n,Object.assign({},u))}catch(p){throw console.error(p),new ju(ss(p),0)}if(f.ok||await yp(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(p){await yp(p)}}function Nr(r){var e;let n=null;$x(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=yx(r.expires_in)));const a=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:a},error:null}}function vp(r){const e=Nr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ln(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Lx(r){return{data:r,error:null}}function Mx(r){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l}=r,u=Zo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l},p=Object.assign({},u);return{data:{properties:f,user:p},error:null}}function wp(r){return r}function $x(r){return r.access_token&&r.refresh_token&&r.expires_in}const ru=["global","local","others"];class zx{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=bm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ru[0]){if(ru.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ru.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ln})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Zo(e,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Mx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ln})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,o,l,u,f,p;try{const g={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:wp});if(y.error)throw y.error;const x=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);g[`${k}Page`]=S}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(de(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Ds(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ln})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ds(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ln})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Ds(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ln})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Ds(e.userId);try{const{data:n,error:a}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ds(e.userId),Ds(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,o,l,u,f,p;try{const g={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:wp});if(y.error)throw y.error;const x=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);g[`${k}Page`]=S}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(de(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(de(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function xp(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const Ls={debug:!!(globalThis&&xm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _m extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ux extends _m{}async function Bx(r,e,n){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await n()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ux(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ls.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Fx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function km(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Wx(r){return parseInt(r,16)}function qx(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function Vx(r){var e;const{chainId:n,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:p,resources:g,scheme:y,uri:x,version:_}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const w=km(r.address),j=y?`${y}://${a}`:a,S=r.statement?`${r.statement}
`:"",k=`${j} wants you to sign in with your Ethereum account:
${w}

${S}`;let C=`URI: ${x}
Version: ${_}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),f&&(C+=`
Not Before: ${f.toISOString()}`),p&&(C+=`
Request ID: ${p}`),g){let T=`
Resources:`;for(const P of g){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);T+=`
- ${P}`}C+=T}return`${k}
${C}`}class pt extends Error{constructor({message:e,code:n,cause:a,name:o}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class zo extends pt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Hx({error:r,options:e}){var n,a,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new pt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(Sm(u)){if(l.rp.id!==u)return new pt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Kx({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new pt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(Sm(a)){if(n.rpId!==a)return new pt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Gx{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Jx=new Gx;function Yx(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:a}=r,o=Zo(r,["challenge","user","excludeCredentials"]),l=qs(e).buffer,u=Object.assign(Object.assign({},n),{id:qs(n.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:u});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const g=a[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:qs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function Qx(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,a=Zo(r,["challenge","allowCredentials"]),o=qs(e).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:qs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Xx(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:os(new Uint8Array(r.response.attestationObject)),clientDataJSON:os(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Zx(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,a=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:os(new Uint8Array(o.authenticatorData)),clientDataJSON:os(new Uint8Array(o.clientDataJSON)),signature:os(new Uint8Array(o.signature)),userHandle:o.userHandle?os(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sm(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function bp(){var r,e;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function eb(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zo("Browser returned unexpected credential type",e)}:{data:null,error:new zo("Empty credential response",e)}}catch(e){return{data:null,error:Hx({error:e,options:r})}}}async function tb(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zo("Browser returned unexpected credential type",e)}:{data:null,error:new zo("Empty credential response",e)}}catch(e){return{data:null,error:Kx({error:e,options:r})}}}const rb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Uo(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of r)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const f=a[l];e(f)?a[l]=Uo(f,u):a[l]=Uo(u)}else a[l]=u}return a}function sb(r,e){return Uo(rb,r,e||{})}function ab(r,e){return Uo(nb,r,e||{})}class ib{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:o},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const p=o??Jx.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${a}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=sb(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:x}=await eb({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const g=ab(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:x}=await tb(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new si("rpId is required for WebAuthn authentication")};try{if(!bp())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:l});if(!u)return{data:null,error:f};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:a,credential_response:p.credential_response}})}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new si("rpId is required for WebAuthn registration")};try{if(!bp())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in register",u)}}}}Fx();const ob={url:rx,storageKey:nx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _p(r,e,n){return await n()}const Ms={};class ai{get jwks(){var e,n;return(n=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},ob),e);if(this.storageKey=l.storageKey,this.instanceID=(n=ai.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ai.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Tt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new zx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=bm(l.fetch),this.lock=l.lock||_p,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Tt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Bx:this.lock=_p,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ib(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:xm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xp(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=xp(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ym}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(Tt()&&(n=wx(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Tt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),ux(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?this._returnResult({error:n}):this._returnResult({error:new is("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,o;try{const l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Nr}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,a,o;try{let l;if("email"in e){const{email:y,password:x,options:_}=e;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await Is(this.storage,this.storageKey)),l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:x,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:w,code_challenge_method:j},xform:Nr})}else if("phone"in e){const{phone:y,password:x,options:_}=e;l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Nr})}else throw new Co("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return await Nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vp})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vp})}else throw new Co("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new As;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,o,l,u,f,p,g,y,x,_;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:S,wallet:k,statement:C,options:T}=e;let P;if(Tt())if(typeof k=="object")P=k;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")P=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const M=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href),$=await P.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=km($[0]);let U=(a=T==null?void 0:T.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!U){const Z=await P.request({method:"eth_chainId"});U=Wx(Z)}const K={domain:M.host,address:z,statement:C,uri:M.href,version:"1",chainId:U,nonce:(o=T==null?void 0:T.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=T==null?void 0:T.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=T==null?void 0:T.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=T==null?void 0:T.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=Vx(K),j=await P.request({method:"personal_sign",params:[qx(w),z]})}try{const{data:S,error:k}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Nr});if(k)throw k;if(!S||!S.session||!S.user){const C=new As;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(de(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var n,a,o,l,u,f,p,g,y,x,_,w;let j,S;if("message"in e)j=e.message,S=e.signature;else{const{chain:k,wallet:C,statement:T,options:P}=e;let M;if(Tt())if(typeof C=="object")M=C;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))M=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const $=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const z=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),T?{statement:T}:null));let U;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")U=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)U=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)j=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),S=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(a=P==null?void 0:P.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((x=(y=P==null?void 0:P.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...P.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const z=await M.signMessage(new TextEncoder().encode(j),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=z}}try{const{data:k,error:C}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:os(S)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Nr});if(C)throw C;if(!k||!k.session||!k.user){const T=new As;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(de(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await ns(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new dx;const{data:l,error:u}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Nr});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new As;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:o,access_token:l,nonce:u}=e,f=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nr}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new As;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,o,l,u;try{if("email"in e){const{email:f,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Is(this.storage,this.storageKey));const{error:x}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:f,options:p}=e,{data:g,error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y})}throw new Co("You must provide either an email or phone number.")}catch(f){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),de(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,a;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Nr});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,a,o,l,u;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Is(this.storage,this.storageKey));const g=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:Lx});return!((l=g.data)===null||l===void 0)&&l.url&&Tt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),de(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new sr;const{error:o}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:l}=e,{error:u}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:l}=e,{data:u,error:f}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new Co("You must provide either an email or phone number and a type")}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Xc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await ns(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=tu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Px(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ln}):await this._useSession(async n=>{var a,o,l;const{data:u,error:f}=n;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sr}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Ln})})}catch(n){if(de(n))return cx(n)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new sr;const u=o.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await Is(this.storage,this.storageKey));const{data:g,error:y}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:u.access_token,xform:Ln});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sr;const n=Date.now()/1e3;let a=n,o=!0,l=null;const{payload:u}=eu(e.access_token);if(u.exp&&(a=u.exp,o=a<=n),o){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new sr;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Tt())throw new No("No browser detected.");if(e.error||e.error_description||e.error_code)throw new No(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new No("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dp("No code detected.");const{data:T,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:f,expires_at:p,token_type:g}=e;if(!l||!f||!u||!g)throw new No("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(f);let _=y+x;p&&(_=parseInt(p));const w=_-y;w*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const j=_-x;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,y);const{data:S,error:k}=await this._getUser(l);if(k)throw k;const C={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:x,expires_at:_,refresh_token:u,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(a){if(de(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ns(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(lx(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=vx(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Is(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:o}=await this._useSession(async l=>{var u,f,p,g,y;const{data:x,error:_}=l;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Tt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:e.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(de(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:f,token:p,access_token:g,nonce:y}=e,x=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l==null?void 0:l.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nr}),{data:_,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new As}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:w}))}catch(o){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)throw u;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await _x(async o=>(o>0&&await bx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nr})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Zc(l)&&Date.now()+u-a<Us})}catch(a){if(this._debug(n,"error",a),de(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),Tt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await ns(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Bs(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:tu()}else if(o&&!o.user&&!o.user){const u=await ns(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Nt(this.storage,this.storageKey+"-user"),await Bs(this.storage,this.storageKey,o)):o.user=tu()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Xc;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Xc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Zc(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(o.access_token);!f&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new tl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new sr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),de(l)){const u={data:null,error:l};return Zc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Bs(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=gp(o);await Bs(this.storage,this.storageKey,l)}else{const o=gp(n);await Bs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Us}ms, refresh threshold is ${Su} ticks`),o<=Su&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _m)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await Is(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(f.toString())}if(a!=null&&a.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Xx(e.webauthn.credential_response):Zx(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Yx(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Qx(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=eu(a.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new sr})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new sr});const u=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Tt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(a){if(de(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new sr});const u=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Tt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(a){if(de(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new sr})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sr})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(f=>f.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+ix>o)return a;const{data:l,error:u}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:w,error:j}=await this.getSession();if(j||!w.session)return this._returnResult({data:null,error:j});a=w.session.access_token}const{header:o,payload:l,signature:u,raw:{header:f,payload:p}}=eu(a);n!=null&&n.allowExpired||Tx(l.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:l,header:o,signature:u},error:null}}const y=Rx(o.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,u,gx(`${f}.${p}`)))throw new Cu("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(a){if(de(a))return this._returnResult({data:null,error:a});throw a}}}ai.nextInstanceID={};const lb=ai,cb="2.88.0";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const ub={"X-Client-Info":`supabase-js-${Ka}/${cb}`},db={headers:ub},hb={schema:"public"},fb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pb={};function ii(r){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(r)}function mb(r,e){if(ii(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ii(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gb(r){var e=mb(r,"string");return ii(e)=="symbol"?e:e+""}function yb(r,e,n){return(e=gb(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function kp(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function nt(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kp(Object(n),!0).forEach(function(a){yb(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):kp(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const vb=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),wb=()=>Headers,xb=(r,e,n)=>{const a=vb(n),o=wb();return async(l,u)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:r;let g=new o(u==null?void 0:u.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),a(l,nt(nt({},u),{},{headers:g}))}};function bb(r){return r.endsWith("/")?r:r+"/"}function _b(r,e){var n,a;const{db:o,auth:l,realtime:u,global:f}=r,{db:p,auth:g,realtime:y,global:x}=e,_={db:nt(nt({},p),o),auth:nt(nt({},g),l),realtime:nt(nt({},y),u),storage:{},global:nt(nt(nt({},x),f),{},{headers:nt(nt({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function kb(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Sb=class extends lb{constructor(r){super(r)}},Eb=class{constructor(r,e,n){var a,o;this.supabaseUrl=r,this.supabaseKey=e;const l=kb(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:hb,realtime:pb,auth:nt(nt({},fb),{},{storageKey:u}),global:db},p=_b(n??{},f);if(this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=xb(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new sw(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new tx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Z0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,n)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,n;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:l,flowType:u,lock:f,debug:p,throwOnError:g},y,x){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sb({url:this.authUrl.href,headers:nt(nt({},_),y),storageKey:l,autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,flowType:u,lock:f,debug:p,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new bw(this.realtimeUrl.href,nt(nt({},r),{},{params:nt(nt({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,n){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jb=(r,e,n)=>new Eb(r,e,n);function Cb(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Cb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nb="https://ltbdzqpcyjtgfzlsnvlw.supabase.co",Tb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx0YmR6cXBjeWp0Z2Z6bHNudmx3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwMDY0MjgsImV4cCI6MjA4MTU4MjQyOH0.cqenURINJJTuLngSn6JfAKmaRctRQMaZkTGkwTHt230",ye=jb(Nb,Tb,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Rb="00000000-0000-0000-0000-000000000001";async function qa(r,e,n){try{const{data:a,error:o}=await ye.from("profiles").select("*").eq("id",r).single();if(a)return console.log(" Profile found:",a.full_name),a;if(o&&o.code!=="PGRST116")return console.error("Error fetching profile:",o),null;console.log(" Profile not found, creating fallback profile...");const{data:l,error:u}=await ye.from("profiles").insert({id:r,organization_id:Rb,email:e,full_name:n||e.split("@")[0],role:"member",team:"egremy_digital"}).select().single();return u?(console.error("Error creating fallback profile:",u),null):(console.log(" Profile created:",l.full_name),l)}catch(a){return console.error(" fetchOrCreateProfile error:",a),null}}const an=om()((r,e)=>({user:null,profile:null,session:null,isLoading:!0,isInitialized:!1,profileError:null,initialize:async()=>{var n;console.log(" Initializing auth...");try{const{data:{session:a},error:o}=await ye.auth.getSession();if(o&&console.error("Error getting session:",o),a!=null&&a.user){console.log(" Session found for:",a.user.email);const u=await qa(a.user.id,a.user.email||"",(n=a.user.user_metadata)==null?void 0:n.full_name);r({user:a.user,session:a,profile:u,isLoading:!1,isInitialized:!0,profileError:u?null:"No se pudo cargar el perfil"})}else console.log(" No session found"),r({user:null,session:null,profile:null,isLoading:!1,isInitialized:!0,profileError:null});const{data:{subscription:l}}=ye.auth.onAuthStateChange(async(u,f)=>{var p;if(console.log(" Auth event:",u),u==="SIGNED_IN"&&(f!=null&&f.user)){console.log(" User signed in:",f.user.email);const g=await qa(f.user.id,f.user.email||"",(p=f.user.user_metadata)==null?void 0:p.full_name);r({user:f.user,session:f,profile:g,isLoading:!1,profileError:g?null:"No se pudo cargar el perfil"})}else u==="SIGNED_OUT"?(console.log(" User signed out"),r({user:null,session:null,profile:null,profileError:null})):u==="TOKEN_REFRESHED"&&f&&(console.log(" Token refreshed"),r({session:f,user:f.user}))});return()=>l.unsubscribe()}catch(a){console.error(" Auth initialization error:",a),r({isLoading:!1,isInitialized:!0,profileError:"Error al inicializar autenticacin"})}},ensureProfile:async()=>{var l;const{user:n,profile:a}=e();if(a)return a;if(!n)return null;r({isLoading:!0});const o=await qa(n.id,n.email||"",(l=n.user_metadata)==null?void 0:l.full_name);return r({profile:o,isLoading:!1,profileError:o?null:"No se pudo crear el perfil"}),o},login:async(n,a)=>{console.log(" Attempting login for:",n),r({isLoading:!0,profileError:null});try{const{data:o,error:l}=await ye.auth.signInWithPassword({email:n,password:a});if(l)throw console.error(" Login error:",l.message),l;if(console.log(" Login successful"),o.user){const u=await qa(o.user.id,n);r({user:o.user,session:o.session,profile:u,isLoading:!1,profileError:u?null:"No se pudo cargar el perfil"})}return{error:null}}catch(o){return r({isLoading:!1}),{error:o instanceof Error?o:new Error(String(o))}}},register:async(n,a,o)=>{console.log(" Attempting register for:",n),r({isLoading:!0,profileError:null});try{const{data:l,error:u}=await ye.auth.signUp({email:n,password:a,options:{data:{full_name:o}}});if(u)throw console.error(" Register error:",u.message),u;if(console.log(" Register successful"),l.user){await new Promise(p=>setTimeout(p,1500));const f=await qa(l.user.id,n,o);r({user:l.user,session:l.session,profile:f,isLoading:!1,profileError:f?null:"No se pudo crear el perfil"})}return{error:null}}catch(l){return r({isLoading:!1}),{error:l instanceof Error?l:new Error(String(l))}}},logout:async()=>{console.log(" Logging out..."),await ye.auth.signOut(),r({user:null,session:null,profile:null,profileError:null})},updateProfile:async n=>{const{profile:a}=e();if(!a)return{error:new Error("No profile")};try{const{error:o}=await ye.from("profiles").update(n).eq("id",a.id);if(o)throw o;return r({profile:{...a,...n}}),{error:null}}catch(o){return{error:o instanceof Error?o:new Error(String(o))}}}}));function Em(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=Em(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Ob(){for(var r,e,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=Em(r))&&(a&&(a+=" "),a+=e);return a}const Wu="-",Pb=r=>{const e=Ib(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=r;return{getClassGroupId:u=>{const f=u.split(Wu);return f[0]===""&&f.length!==1&&f.shift(),jm(f,e)||Ab(u)},getConflictingClassGroupIds:(u,f)=>{const p=n[u]||[];return f&&a[u]?[...p,...a[u]]:p}}},jm=(r,e)=>{var u;if(r.length===0)return e.classGroupId;const n=r[0],a=e.nextPart.get(n),o=a?jm(r.slice(1),a):void 0;if(o)return o;if(e.validators.length===0)return;const l=r.join(Wu);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},Sp=/^\[(.+)\]$/,Ab=r=>{if(Sp.test(r)){const e=Sp.exec(r)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Ib=r=>{const{theme:e,prefix:n}=r,a={nextPart:new Map,validators:[]};return Lb(Object.entries(r.classGroups),n).forEach(([l,u])=>{Nu(u,a,l,e)}),a},Nu=(r,e,n,a)=>{r.forEach(o=>{if(typeof o=="string"){const l=o===""?e:Ep(e,o);l.classGroupId=n;return}if(typeof o=="function"){if(Db(o)){Nu(o(a),e,n,a);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,u])=>{Nu(u,Ep(e,l),n,a)})})},Ep=(r,e)=>{let n=r;return e.split(Wu).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},Db=r=>r.isThemeGetter,Lb=(r,e)=>e?r.map(([n,a])=>{const o=a.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,f])=>[e+u,f])):l);return[n,o]}):r,Mb=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,a=new Map;const o=(l,u)=>{n.set(l,u),e++,e>r&&(e=0,a=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=a.get(l))!==void 0)return o(l,u),u},set(l,u){n.has(l)?n.set(l,u):o(l,u)}}},Cm="!",$b=r=>{const{separator:e,experimentalParseClassName:n}=r,a=e.length===1,o=e[0],l=e.length,u=f=>{const p=[];let g=0,y=0,x;for(let k=0;k<f.length;k++){let C=f[k];if(g===0){if(C===o&&(a||f.slice(k,k+l)===e)){p.push(f.slice(y,k)),y=k+l;continue}if(C==="/"){x=k;continue}}C==="["?g++:C==="]"&&g--}const _=p.length===0?f:f.substring(y),w=_.startsWith(Cm),j=w?_.substring(1):_,S=x&&x>y?x-y:void 0;return{modifiers:p,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:S}};return n?f=>n({className:f,parseClassName:u}):u},zb=r=>{if(r.length<=1)return r;const e=[];let n=[];return r.forEach(a=>{a[0]==="["?(e.push(...n.sort(),a),n=[]):n.push(a)}),e.push(...n.sort()),e},Ub=r=>({cache:Mb(r.cacheSize),parseClassName:$b(r),...Pb(r)}),Bb=/\s+/,Fb=(r,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:o}=e,l=[],u=r.trim().split(Bb);let f="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{modifiers:y,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:w}=n(g);let j=!!w,S=a(j?_.substring(0,w):_);if(!S){if(!j){f=g+(f.length>0?" "+f:f);continue}if(S=a(_),!S){f=g+(f.length>0?" "+f:f);continue}j=!1}const k=zb(y).join(":"),C=x?k+Cm:k,T=C+S;if(l.includes(T))continue;l.push(T);const P=o(S,j);for(let M=0;M<P.length;++M){const $=P[M];l.push(C+$)}f=g+(f.length>0?" "+f:f)}return f};function Wb(){let r=0,e,n,a="";for(;r<arguments.length;)(e=arguments[r++])&&(n=Nm(e))&&(a&&(a+=" "),a+=n);return a}const Nm=r=>{if(typeof r=="string")return r;let e,n="";for(let a=0;a<r.length;a++)r[a]&&(e=Nm(r[a]))&&(n&&(n+=" "),n+=e);return n};function qb(r,...e){let n,a,o,l=u;function u(p){const g=e.reduce((y,x)=>x(y),r());return n=Ub(g),a=n.cache.get,o=n.cache.set,l=f,f(p)}function f(p){const g=a(p);if(g)return g;const y=Fb(p,n);return o(p,y),y}return function(){return l(Wb.apply(null,arguments))}}const Ge=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},Tm=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vb=/^\d+\/\d+$/,Hb=new Set(["px","full","screen"]),Kb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zr=r=>Vs(r)||Hb.has(r)||Vb.test(r),Pn=r=>sa(r,"length",a_),Vs=r=>!!r&&!Number.isNaN(Number(r)),nu=r=>sa(r,"number",Vs),Va=r=>!!r&&Number.isInteger(Number(r)),Xb=r=>r.endsWith("%")&&Vs(r.slice(0,-1)),Ne=r=>Tm.test(r),An=r=>Kb.test(r),Zb=new Set(["length","size","percentage"]),e_=r=>sa(r,Zb,Rm),t_=r=>sa(r,"position",Rm),r_=new Set(["image","url"]),n_=r=>sa(r,r_,o_),s_=r=>sa(r,"",i_),Ha=()=>!0,sa=(r,e,n)=>{const a=Tm.exec(r);return a?a[1]?typeof e=="string"?a[1]===e:e.has(a[1]):n(a[2]):!1},a_=r=>Gb.test(r)&&!Jb.test(r),Rm=()=>!1,i_=r=>Yb.test(r),o_=r=>Qb.test(r),l_=()=>{const r=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),a=Ge("brightness"),o=Ge("borderColor"),l=Ge("borderRadius"),u=Ge("borderSpacing"),f=Ge("borderWidth"),p=Ge("contrast"),g=Ge("grayscale"),y=Ge("hueRotate"),x=Ge("invert"),_=Ge("gap"),w=Ge("gradientColorStops"),j=Ge("gradientColorStopPositions"),S=Ge("inset"),k=Ge("margin"),C=Ge("opacity"),T=Ge("padding"),P=Ge("saturate"),M=Ge("scale"),$=Ge("sepia"),z=Ge("skew"),U=Ge("space"),K=Ge("translate"),Z=()=>["auto","contain","none"],xe=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",Ne,e],J=()=>[Ne,e],ce=()=>["",Zr,Pn],me=()=>["auto",Vs,Ne],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ne],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[Vs,Ne];return{cacheSize:500,separator:":",theme:{colors:[Ha],spacing:[Zr,Pn],blur:["none","",An,Ne],brightness:R(),borderColor:[r],borderRadius:["none","","full",An,Ne],borderSpacing:J(),borderWidth:ce(),contrast:R(),grayscale:B(),hueRotate:R(),invert:B(),gap:J(),gradientColorStops:[r],gradientColorStopPositions:[Xb,Pn],inset:oe(),margin:oe(),opacity:R(),padding:J(),saturate:R(),scale:R(),sepia:B(),skew:R(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[An]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Ne]}],overflow:[{overflow:xe()}],"overflow-x":[{"overflow-x":xe()}],"overflow-y":[{"overflow-y":xe()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Va,Ne]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Va,Ne]}],"grid-cols":[{"grid-cols":[Ha]}],"col-start-end":[{col:["auto",{span:["full",Va,Ne]},Ne]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Ha]}],"row-start-end":[{row:["auto",{span:[Va,Ne]},Ne]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[An]},An]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",An,Pn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nu]}],"font-family":[{font:[Ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Vs,nu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zr,Pn]}],"underline-offset":[{"underline-offset":["auto",Zr,Ne]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),t_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n_]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ne()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Zr,Ne]}],"outline-w":[{outline:[Zr,Pn]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Zr,Pn]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",An,s_]}],"shadow-color":[{shadow:[Ha]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",An,Ne]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[P]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Va,Ne]}],"translate-x":[{"translate-x":[K]}],"translate-y":[{"translate-y":[K]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Zr,Pn,nu]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c_=qb(l_);function be(...r){return c_(Ob(r))}function Bo(r,e){return(typeof r=="string"?new Date(r):r).toLocaleDateString("es-MX",{day:"numeric",month:"short",year:"numeric",...e})}function To(r){const e=typeof r=="string"?new Date(r):r,a=new Date().getTime()-e.getTime(),o=Math.floor(a/6e4),l=Math.floor(o/60),u=Math.floor(l/24);return o<1?"Ahora":o<60?`Hace ${o} min`:l<24?`Hace ${l}h`:u<7?`Hace ${u}d`:Bo(e)}const aa={discovery:{label:"Discovery",color:"#3B82F6",bgClass:"bg-status-discovery/20",textClass:"text-status-discovery"},design:{label:"Diseo",color:"#A855F7",bgClass:"bg-status-design/20",textClass:"text-status-design"},build:{label:"Build",color:"#F59E0B",bgClass:"bg-status-build/20",textClass:"text-status-build"},qa:{label:"QA",color:"#22C55E",bgClass:"bg-status-qa/20",textClass:"text-status-qa"},deploy:{label:"Deploy",color:"#6366F1",bgClass:"bg-status-deploy/20",textClass:"text-status-deploy"},live:{label:"Live",color:"#10B981",bgClass:"bg-status-live/20",textClass:"text-status-live"},optimization:{label:"Optimizacin",color:"#6B7280",bgClass:"bg-status-optimization/20",textClass:"text-status-optimization"},blocked:{label:"Bloqueado",color:"#EF4444",bgClass:"bg-status-blocked/20",textClass:"text-status-blocked"},needs_client_approval:{label:"Esperando Cliente",color:"#F59E0B",bgClass:"bg-status-approval/20",textClass:"text-status-approval"},bug:{label:"Bug",color:"#EF4444",bgClass:"bg-status-bug/20",textClass:"text-status-bug"},hotfix:{label:"Hotfix",color:"#DC2626",bgClass:"bg-status-hotfix/20",textClass:"text-status-hotfix"}};function u_(r){return r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}function d_(r){const e=["bg-accent-primary","bg-status-design","bg-status-build","bg-status-qa","bg-status-live"],n=r.charCodeAt(0)%e.length;return e[n]}const Ro=["discovery","design","build","qa","deploy","live","optimization"],Om={discovery:" Discovery",design:" Diseo",build:" Build",qa:" QA",deploy:" Deploy",live:" Live",optimization:" Optimizacin",blocked:" Bloqueada",needs_client_approval:" Aprobacin Cliente",bug:" Bug",hotfix:" Hotfix"},h_=typeof window<"u"&&window.innerWidth<1024,Fr=om()(r=>({sidebarOpen:!h_,sidebarCollapsed:!1,selectedTask:null,taskDrawerOpen:!1,createProjectModalOpen:!1,createTaskModalOpen:!1,approvalModalOpen:!1,approvalTaskId:null,toggleSidebar:()=>r(e=>({sidebarOpen:!e.sidebarOpen})),setSidebarOpen:e=>r({sidebarOpen:e}),setSidebarCollapsed:e=>r({sidebarCollapsed:e}),openTaskDrawer:e=>r({selectedTask:e,taskDrawerOpen:!0}),closeTaskDrawer:()=>r({selectedTask:null,taskDrawerOpen:!1}),openCreateProjectModal:()=>r({createProjectModalOpen:!0}),closeCreateProjectModal:()=>r({createProjectModalOpen:!1}),openCreateTaskModal:()=>r({createTaskModalOpen:!0}),closeCreateTaskModal:()=>r({createTaskModalOpen:!1}),openApprovalModal:e=>r({approvalModalOpen:!0,approvalTaskId:e}),closeApprovalModal:()=>r({approvalModalOpen:!1,approvalTaskId:null})}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pm=(...r)=>r.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=b.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:u,...f},p)=>b.createElement("svg",{ref:p,...p_,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:Pm("lucide",o),...f},[...u.map(([g,y])=>b.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(r,e)=>{const n=b.forwardRef(({className:a,...o},l)=>b.createElement(m_,{ref:l,iconNode:e,className:Pm(`lucide-${f_(r)}`,a),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Te("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Te("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Te("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Te("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Te("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Te("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Je=b.forwardRef(({className:r,variant:e="primary",size:n="md",isLoading:a,children:o,disabled:l,...u},f)=>{const p="inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2 focus:ring-offset-bg-primary",g={primary:"bg-accent-primary text-white hover:bg-accent-primary/90",secondary:"bg-bg-tertiary text-text-primary hover:bg-bg-tertiary/80",ghost:"bg-transparent text-text-secondary hover:bg-bg-tertiary hover:text-text-primary",danger:"bg-accent-danger text-white hover:bg-accent-danger/90",success:"bg-accent-success text-white hover:bg-accent-success/90",outline:"border border-bg-tertiary bg-transparent text-text-primary hover:bg-bg-tertiary"},y={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"};return h.jsxs("button",{ref:f,className:be(p,g[e],y[n],r),disabled:l||a,...u,children:[a&&h.jsx(Vu,{className:"w-4 h-4 animate-spin"}),o]})});Je.displayName="Button";const zn=b.forwardRef(({className:r,label:e,error:n,hint:a,type:o="text",id:l,...u},f)=>{const p=l||b.useId();return h.jsxs("div",{className:"w-full",children:[e&&h.jsx("label",{htmlFor:p,className:"block text-sm font-medium text-text-primary mb-1.5",children:e}),h.jsx("input",{id:p,type:o,ref:f,className:be("w-full px-3 py-2 bg-bg-tertiary border rounded-lg","text-text-primary placeholder:text-text-secondary","transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",n?"border-accent-danger focus:ring-accent-danger":"border-bg-tertiary",r),...u}),n&&h.jsx("p",{className:"mt-1.5 text-sm text-accent-danger",children:n}),a&&!n&&h.jsx("p",{className:"mt-1.5 text-sm text-text-secondary",children:a})]})});zn.displayName="Input";const Hu=b.forwardRef(({className:r,label:e,error:n,hint:a,id:o,...l},u)=>{const f=o||b.useId();return h.jsxs("div",{className:"w-full",children:[e&&h.jsx("label",{htmlFor:f,className:"block text-sm font-medium text-text-primary mb-1.5",children:e}),h.jsx("textarea",{id:f,ref:u,className:be("w-full px-3 py-2 bg-bg-tertiary border rounded-lg","text-text-primary placeholder:text-text-secondary","transition-colors duration-200 resize-none","focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",n?"border-accent-danger focus:ring-accent-danger":"border-bg-tertiary",r),...l}),n&&h.jsx("p",{className:"mt-1.5 text-sm text-accent-danger",children:n}),a&&!n&&h.jsx("p",{className:"mt-1.5 text-sm text-text-secondary",children:a})]})});Hu.displayName="Textarea";const $t=b.forwardRef(({className:r,variant:e="default",...n},a)=>h.jsx("div",{ref:a,className:be("bg-bg-secondary border border-bg-tertiary rounded-lg",e==="interactive"&&"hover:border-text-secondary/30 transition-colors cursor-pointer",r),...n}));$t.displayName="Card";const Fo=b.forwardRef(({className:r,...e},n)=>h.jsx("div",{ref:n,className:be("flex flex-col space-y-1.5 p-4",r),...e}));Fo.displayName="CardHeader";const Wo=b.forwardRef(({className:r,...e},n)=>h.jsx("h3",{ref:n,className:be("text-lg font-semibold text-text-primary",r),...e}));Wo.displayName="CardTitle";const Mm=b.forwardRef(({className:r,...e},n)=>h.jsx("p",{ref:n,className:be("text-sm text-text-secondary",r),...e}));Mm.displayName="CardDescription";const Un=b.forwardRef(({className:r,...e},n)=>h.jsx("div",{ref:n,className:be("p-4 pt-0",r),...e}));Un.displayName="CardContent";const $m=b.forwardRef(({className:r,...e},n)=>h.jsx("div",{ref:n,className:be("flex items-center p-4 pt-0",r),...e}));$m.displayName="CardFooter";const ia=b.forwardRef(({className:r,variant:e="default",status:n,children:a,...o},l)=>{if(n){const f=aa[n];return h.jsx("span",{ref:l,className:be("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",f.bgClass,f.textClass,r),...o,children:a||f.label})}const u={default:"bg-bg-tertiary text-text-secondary",success:"bg-accent-success/20 text-accent-success",warning:"bg-accent-warning/20 text-accent-warning",danger:"bg-accent-danger/20 text-accent-danger",info:"bg-accent-primary/20 text-accent-primary"};return h.jsx("span",{ref:l,className:be("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",u[e],r),...o,children:a})});ia.displayName="Badge";const Xs=b.forwardRef(({className:r,src:e,name:n,size:a="md",...o},l)=>{const[u,f]=b.useState(!1),p={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},g=!e||u;return h.jsx("div",{ref:l,className:be("relative rounded-full overflow-hidden flex items-center justify-center font-medium",p[a],g&&d_(n),r),...o,children:g?h.jsx("span",{className:"text-white",children:u_(n)}):h.jsx("img",{src:e,alt:n,className:"w-full h-full object-cover",onError:()=>f(!0)})})});Xs.displayName="Avatar";const L_=b.forwardRef(({status:r,className:e,...n},a)=>{const o={online:"bg-accent-success",offline:"bg-text-secondary",busy:"bg-accent-danger"};return h.jsxs("div",{className:"relative",ref:a,children:[h.jsx(Xs,{className:e,...n}),r&&h.jsx("span",{className:be("absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-bg-secondary",o[r])})]})});L_.displayName="AvatarWithStatus";const Or=b.forwardRef(({className:r,size:e="md",...n},a)=>{const o={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return h.jsx("div",{ref:a,className:be("text-accent-primary",r),...n,children:h.jsx(Vu,{className:be("animate-spin",o[e])})})});Or.displayName="Spinner";const Ku=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg-primary",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx(Or,{size:"lg"}),h.jsx("p",{className:"text-text-secondary text-sm",children:"Cargando..."})]})}),Zs=b.forwardRef(({className:r,icon:e,title:n,description:a,action:o,...l},u)=>h.jsxs("div",{ref:u,className:be("flex flex-col items-center justify-center py-12 px-4 text-center",r),...l,children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-bg-tertiary flex items-center justify-center mb-4",children:e||h.jsx(__,{className:"w-6 h-6 text-text-secondary"})}),h.jsx("h3",{className:"text-lg font-medium text-text-primary mb-1",children:n}),a&&h.jsx("p",{className:"text-sm text-text-secondary max-w-sm mb-4",children:a}),o]}));Zs.displayName="EmptyState";const Oo=b.forwardRef(({className:r,label:e,error:n,children:a,...o},l)=>h.jsxs("div",{className:"space-y-1.5",children:[e&&h.jsxs("label",{className:"text-sm font-medium text-text-primary",children:[e,o.required&&h.jsx("span",{className:"text-accent-danger ml-1",children:"*"})]}),h.jsx("select",{ref:l,className:be("w-full px-3 py-2 rounded-lg","bg-bg-secondary border border-bg-tertiary","text-text-primary text-sm","focus:outline-none focus:ring-2 focus:ring-accent-primary/50","disabled:opacity-50 disabled:cursor-not-allowed",n&&"border-accent-danger focus:ring-accent-danger/50",r),...o,children:a}),n&&h.jsx("p",{className:"text-xs text-accent-danger",children:n})]}));Oo.displayName="Select";b.createContext(null);let $s=null;function Bt(r,e,n=4e3){$s||($s=document.createElement("div"),$s.id="toast-standalone",$s.className="fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm",document.body.appendChild($s));const a=document.createElement("div");a.className=be("flex items-start gap-3 p-4 rounded-lg border shadow-lg","bg-[#1a1a2e] backdrop-blur-sm","animate-in slide-in-from-right-5 fade-in duration-300",r==="success"&&"border-green-500/30 text-green-400",r==="error"&&"border-red-500/30 text-red-400",r==="warning"&&"border-yellow-500/30 text-yellow-400",r==="info"&&"border-blue-500/30 text-blue-400");const o={success:'<svg class="w-5 h-5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',error:'<svg class="w-5 h-5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',warning:'<svg class="w-5 h-5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>',info:'<svg class="w-5 h-5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'};a.innerHTML=`
    ${o[r]}
    <p class="flex-1 text-sm text-gray-100">${e}</p>
  `,$s.appendChild(a),setTimeout(()=>{a.classList.add("opacity-0","translate-x-4"),setTimeout(()=>{a.remove()},300)},n)}Bt.success=(r,e)=>Bt("success",r,e);Bt.error=(r,e)=>Bt("error",r,e??6e3);Bt.warning=(r,e)=>Bt("warning",r,e);Bt.info=(r,e)=>Bt("info",r,e);const M_=[{title:"Dashboard",href:"/app/dashboard",icon:k_},{title:"Inbox",href:"/app/inbox",icon:Im,badge:3},{title:"Mis Tareas",href:"/app/my-tasks",icon:Lm},{title:"Proyectos",href:"/app/projects",icon:Ks}];function $_(){const r=gr(),{profile:e,logout:n}=an(),{sidebarOpen:a,setSidebarOpen:o,toggleSidebar:l}=Fr(),[u,f]=b.useState(!1),p=async()=>{await n()},g=()=>{window.innerWidth<1024&&o(!1)};return b.useEffect(()=>{f(!1)},[r.pathname]),h.jsxs(h.Fragment,{children:[a&&h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>o(!1)}),h.jsxs("aside",{className:be("fixed lg:static inset-y-0 left-0 z-50","w-64 h-screen bg-bg-secondary border-r border-bg-tertiary flex flex-col","transform transition-transform duration-300 ease-in-out",a?"translate-x-0":"-translate-x-full","lg:translate-x-0"),children:[h.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-bg-tertiary",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent-primary flex items-center justify-center",children:h.jsx(Dm,{className:"w-5 h-5 text-white"})}),h.jsx("span",{className:"font-semibold text-lg text-text-primary",children:"Egremy Spaces"})]}),h.jsx("button",{onClick:()=>o(!1),className:"lg:hidden p-2 rounded-lg hover:bg-bg-tertiary text-text-secondary",children:h.jsx(Qs,{className:"w-5 h-5"})})]}),h.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:M_.map(y=>{const x=r.pathname===y.href||y.href==="/app/projects"&&r.pathname.startsWith("/app/projects");return h.jsxs(Yf,{to:y.href,onClick:g,className:be("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",x?"bg-accent-primary/10 text-accent-primary":"text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"),children:[h.jsx(y.icon,{className:"w-5 h-5"}),h.jsx("span",{className:"flex-1",children:y.title}),y.badge&&h.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-accent-primary text-white",children:y.badge})]},y.href)})}),h.jsx("div",{className:"p-4 border-t border-bg-tertiary",children:h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>f(!u),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-bg-tertiary transition-colors",children:[h.jsx(Xs,{name:(e==null?void 0:e.full_name)||"Usuario",src:e==null?void 0:e.avatar_url,size:"sm"}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:(e==null?void 0:e.full_name)||"Usuario"}),h.jsx("p",{className:"text-xs text-text-secondary truncate",children:(e==null?void 0:e.team)==="egremy_digital"?"Egremy Digital":(e==null?void 0:e.team)==="orangutan_n8n"?"Orangutan n8n":"Team"})]}),h.jsx(v_,{className:be("w-4 h-4 text-text-secondary transition-transform",u&&"rotate-180")})]}),u&&h.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 py-1 bg-bg-secondary border border-bg-tertiary rounded-lg shadow-lg",children:[h.jsxs(Yf,{to:"/app/settings",className:"flex items-center gap-2 px-3 py-2 text-sm text-text-secondary hover:bg-bg-tertiary hover:text-text-primary",onClick:()=>{f(!1),g()},children:[h.jsx(T_,{className:"w-4 h-4"}),"Configuracin"]}),h.jsxs("button",{onClick:p,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-accent-danger hover:bg-bg-tertiary",children:[h.jsx(j_,{className:"w-4 h-4"}),"Cerrar sesin"]})]})]})})]})]})}const Rp={"/app/dashboard":"Dashboard","/app/inbox":"Inbox","/app/my-tasks":"Mis Tareas","/app/projects":"Proyectos","/app/settings":"Configuracin"};function z_(){const r=gr(),{openCreateTaskModal:e,openCreateProjectModal:n,toggleSidebar:a}=Fr(),[o,l]=b.useState(!1),u=()=>Rp[r.pathname]?Rp[r.pathname]:r.pathname.startsWith("/app/projects/")?"Proyecto":"Egremy Spaces",f=r.pathname.startsWith("/app/projects");return h.jsxs("header",{className:"h-16 bg-bg-secondary border-b border-bg-tertiary flex items-center justify-between px-4 md:px-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:a,className:"lg:hidden p-2 -ml-2 rounded-lg hover:bg-bg-tertiary text-text-secondary",children:h.jsx(C_,{className:"w-5 h-5"})}),h.jsx("h1",{className:"text-lg md:text-xl font-semibold text-text-primary",children:u()})]}),h.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[h.jsxs("div",{className:"relative hidden md:block",children:[h.jsx(su,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-secondary"}),h.jsx("input",{type:"text",placeholder:"Buscar... (K)",className:"w-48 lg:w-64 pl-10 pr-4 py-2 bg-bg-tertiary border border-bg-tertiary rounded-lg text-sm text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent"})]}),h.jsx(Je,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>l(!o),children:h.jsx(su,{className:"w-5 h-5"})}),h.jsxs(Je,{variant:"ghost",size:"icon",className:"relative",children:[h.jsx(Am,{className:"w-5 h-5"}),h.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-accent-danger rounded-full"})]}),h.jsxs(Je,{onClick:f?n:e,size:"sm",className:"hidden sm:flex",children:[h.jsx(ci,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden md:inline ml-1",children:f?"Nuevo Proyecto":"Nueva Tarea"})]}),h.jsx(Je,{onClick:f?n:e,size:"icon",className:"sm:hidden",children:h.jsx(ci,{className:"w-5 h-5"})})]}),o&&h.jsx("div",{className:"absolute top-16 left-0 right-0 p-4 bg-bg-secondary border-b border-bg-tertiary md:hidden z-30",children:h.jsxs("div",{className:"relative",children:[h.jsx(su,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-secondary"}),h.jsx("input",{type:"text",placeholder:"Buscar...",autoFocus:!0,className:"w-full pl-10 pr-4 py-2 bg-bg-tertiary border border-bg-tertiary rounded-lg text-sm text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",onBlur:()=>l(!1)})]})})]})}function U_(){const{createProjectModalOpen:r,closeCreateProjectModal:e}=Fr(),[n,a]=b.useState(""),[o,l]=b.useState(""),[u,f]=b.useState(""),[p,g]=b.useState(!1),[y,x]=b.useState(null);if(!r)return null;const _=async w=>{if(w.preventDefault(),!n.trim()){x("El nombre es requerido");return}g(!0),x(null);try{const{data:{user:j}}=await ye.auth.getUser();if(!j)throw new Error("No user");const{data:S}=await ye.from("profiles").select("organization_id").eq("id",j.id).single();if(!S)throw new Error("No profile");const{error:k}=await ye.from("projects").insert({name:n.trim(),description:o.trim()||null,client_name:u.trim()||null,organization_id:S.organization_id,created_by:j.id,color:"#6366f1"});if(k)throw k;a(""),l(""),f(""),e(),window.location.reload()}catch(j){console.error("Error creating project:",j),x(j.message||"Error al crear proyecto")}finally{g(!1)}};return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),h.jsxs("div",{className:"relative bg-bg-primary border border-border-primary rounded-xl w-full max-w-md mx-4 shadow-2xl",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-primary",children:[h.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Nuevo Proyecto"}),h.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-bg-tertiary text-text-secondary",children:h.jsx(Qs,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:_,className:"p-4 space-y-4",children:[y&&h.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:y}),h.jsx(zn,{label:"Nombre del proyecto *",placeholder:"Ej: CRM Automatizacin",value:n,onChange:w=>a(w.target.value),autoFocus:!0}),h.jsx(zn,{label:"Cliente",placeholder:"Nombre del cliente",value:u,onChange:w=>f(w.target.value)}),h.jsx(Hu,{label:"Descripcin",placeholder:"Describe brevemente el proyecto...",value:o,onChange:w=>l(w.target.value),rows:3}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx(Je,{type:"button",variant:"secondary",className:"flex-1",onClick:e,children:"Cancelar"}),h.jsx(Je,{type:"submit",className:"flex-1",disabled:p,children:p?"Creando...":"Crear Proyecto"})]})]})]})]})}function zm({projectId:r,organizationId:e,onSuccess:n}){const{createTaskModalOpen:a,closeCreateTaskModal:o}=Fr(),{profile:l}=an(),[u,f]=b.useState(!1),[p,g]=b.useState(null),[y,x]=b.useState([]),[_,w]=b.useState(!1),[j,S]=b.useState(r||""),[k,C]=b.useState(""),[T,P]=b.useState(""),[M,$]=b.useState("discovery"),[z,U]=b.useState("medium"),[K,Z]=b.useState("");b.useEffect(()=>{(async()=>{if(!(r||!a)){w(!0);try{const{data:ce,error:me}=await ye.from("projects").select("id, name, organization_id").eq("is_archived",!1).order("name");!me&&ce&&(x(ce),ce.length>0&&!j&&S(ce[0].id))}catch(ce){console.error("Error loading projects:",ce)}finally{w(!1)}}})()},[a,r]),b.useEffect(()=>{a||(C(""),P(""),$("discovery"),U("medium"),Z(""),g(null),r||S(""))},[a,r]),b.useEffect(()=>{r&&S(r)},[r]);const xe=async J=>{var ue;if(J.preventDefault(),g(null),!k.trim()){g("El ttulo es obligatorio");return}const ce=r||j;if(!ce){g("Debes seleccionar un proyecto");return}let me=e;if(!me){const ne=y.find(Q=>Q.id===ce);if(me=ne==null?void 0:ne.organization_id,!me){const{data:Q}=await ye.from("projects").select("organization_id").eq("id",ce).single();me=Q==null?void 0:Q.organization_id}}if(!me){g("No se pudo determinar la organizacin");return}f(!0);try{const{data:{user:ne}}=await ye.auth.getUser();if(!ne)throw new Error("No autenticado");const{data:Q}=await ye.from("tasks").select("position").eq("project_id",ce).eq("status",M).order("position",{ascending:!1}).limit(1),B=(((ue=Q==null?void 0:Q[0])==null?void 0:ue.position)||0)+1,W=K?`${K}T12:00:00.000Z`:null,{data:R,error:D}=await ye.from("tasks").insert({project_id:ce,organization_id:me,title:k.trim(),description:T.trim()||null,status:M,priority:z,position:B,created_by:ne.id,assignee_id:ne.id,due_date:W}).select(`
          *,
          assignee:profiles!tasks_assignee_id_fkey(full_name, avatar_url, team),
          project:projects!tasks_project_id_fkey(id, name, slug, client_name, color)
        `).single();if(D)throw D;console.log(" Tarea creada:",R),n&&n(R),o()}catch(ne){console.error(" Error creando tarea:",ne),g(ne.message||"Error al crear la tarea")}finally{f(!1)}};if(!a)return null;const oe=!r;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:o}),h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:h.jsxs($t,{className:"w-full max-w-lg bg-bg-primary",children:[h.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-bg-tertiary",children:[h.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Nueva Tarea"}),h.jsx("button",{onClick:o,className:"p-1 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",children:h.jsx(Qs,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:xe,className:"p-5 space-y-4",children:[p&&h.jsx("div",{className:"p-3 rounded-lg bg-accent-danger/10 border border-accent-danger/20",children:h.jsx("p",{className:"text-sm text-accent-danger",children:p})}),oe&&h.jsxs(Oo,{label:"Proyecto",value:j,onChange:J=>S(J.target.value),disabled:u||_,required:!0,children:[h.jsx("option",{value:"",children:"Selecciona un proyecto"}),y.map(J=>h.jsx("option",{value:J.id,children:J.name},J.id))]}),h.jsx(zn,{label:"Ttulo",placeholder:"Ej: Configurar webhook WhatsApp",value:k,onChange:J=>C(J.target.value),required:!0,disabled:u}),h.jsx(Hu,{label:"Descripcin",placeholder:"Describe la tarea (opcional)",value:T,onChange:J=>P(J.target.value),rows:3,disabled:u}),h.jsx(Oo,{label:"Estado",value:M,onChange:J=>$(J.target.value),disabled:u,children:Ro.map(J=>h.jsx("option",{value:J,children:Om[J]||J},J))}),h.jsxs(Oo,{label:"Prioridad",value:z,onChange:J=>U(J.target.value),disabled:u,children:[h.jsx("option",{value:"low",children:"Baja"}),h.jsx("option",{value:"medium",children:"Media"}),h.jsx("option",{value:"high",children:"Alta"}),h.jsx("option",{value:"urgent",children:"Urgente"})]}),h.jsx(zn,{label:"Fecha lmite",type:"date",value:K,onChange:J=>Z(J.target.value),disabled:u}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx(Je,{type:"button",variant:"secondary",onClick:o,disabled:u,className:"flex-1",children:"Cancelar"}),h.jsx(Je,{type:"submit",disabled:u||oe&&!j,className:"flex-1",children:u?h.jsxs(h.Fragment,{children:[h.jsx(Or,{size:"sm"}),"Creando..."]}):"Crear Tarea"})]})]})]})})]})}async function rl({eventType:r,taskId:e,projectId:n,organizationId:a,actorType:o="user",actorId:l,actorName:u,meta:f={}}){var p;try{let g=a,y=n;if(e&&(!g||!y)){const{data:j}=await ye.from("tasks").select("project_id, project:projects!tasks_project_id_fkey(organization_id)").eq("id",e).single();j&&(y=y||j.project_id,g=g||((p=j.project)==null?void 0:p.organization_id))}let x=l,_=u;if(o==="user"&&!l){const{data:{user:j}}=await ye.auth.getUser();if(j&&(x=j.id,!u)){const{data:S}=await ye.from("profiles").select("full_name").eq("id",j.id).single();_=(S==null?void 0:S.full_name)||j.email||"Usuario"}}const{error:w}=await ye.from("activity_logs").insert({event_type:r,task_id:e||null,project_id:y||null,organization_id:g||null,actor_type:o,actor_id:x||null,actor_name:_||null,meta:f});return w?(console.error(" Error logging activity:",w),{success:!1,error:w.message}):(console.log(` Activity logged: ${r}`,f),{success:!0})}catch(g){return console.error(" Error in logActivity:",g),{success:!1,error:String(g)}}}async function B_(r,e,n,a){return rl({eventType:"task_status_changed",taskId:r,meta:{prev_status:e,new_status:n,task_title:a}})}async function F_(r,e,n,a,o){return rl({eventType:"approval_link_sent",taskId:r,meta:{token_id:e,client_name:n,channel:a,expires_at:o}})}async function W_(r,e,n,a,o){return rl({eventType:"client_approved",taskId:r,actorType:"client",actorName:n,meta:{token_id:e,ip_address:a,user_agent:o}})}async function q_(r,e,n,a,o){return rl({eventType:"client_requested_changes",taskId:r,actorType:"client",actorName:n,meta:{token_id:e,feedback:a,ip_address:o}})}const V_="https://curso-orangutan-n8n.crkear.easypanel.host/webhook/egremy/approval-requested",H_="EgremySpaces2024SecretKey!";function Um({onTaskUpdated:r,onRefreshTasks:e}){var Ot;const{selectedTask:n,taskDrawerOpen:a,closeTaskDrawer:o}=Fr(),[l,u]=b.useState(!1),[f,p]=b.useState([]),[g,y]=b.useState(""),[x,_]=b.useState(!1),[w,j]=b.useState("discovery"),[S,k]=b.useState(""),[C,T]=b.useState(!1),[P,M]=b.useState(!1),[$,z]=b.useState(""),[U,K]=b.useState(""),[Z,xe]=b.useState(!1),[oe,J]=b.useState(null),[ce,me]=b.useState(!1),[ue,ne]=b.useState(!1),[Q,F]=b.useState(null),[B,W]=b.useState(!1),[R,D]=b.useState(!1);b.useEffect(()=>{if(n&&a){if(j(n.status),n.due_date){const te=n.due_date.split("T")[0];k(te)}else k("");X()}},[n,a]),b.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),b.useEffect(()=>{const te=Se=>{Se.key==="Escape"&&(B?W(!1):P?oe?fe():Ae():o())};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[o,P,B,oe]);const X=async()=>{if(n)try{const{data:te,error:Se}=await ye.from("comments").select(`
          *,
          author:profiles!comments_author_id_fkey(full_name, avatar_url)
        `).eq("task_id",n.id).order("created_at",{ascending:!0});if(Se)throw Se;p(te||[])}catch(te){console.error("Error loading comments:",te)}},ee=async te=>{if(console.log(" handleStatusChange llamado:",te),console.log("selectedTask:",n),!n||te===n.status){console.log(" No hay cambio de estado");return}console.log(" Enviando actualizacin a Supabase..."),u(!0);try{const{data:Se,error:Be}=await ye.from("tasks").update({status:te,previous_status:n.status,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(Be)throw Be;j(te),r&&Se&&r({...n,...Se}),console.log(" Estado actualizado:",te)}catch(Se){console.error("Error updating status:",Se),j(n.status)}finally{u(!1)}},he=async te=>{if(console.log(" handleDueDateChange llamado:",te),!n)return;const Se=n.due_date?n.due_date.split("T")[0]:"";if(te===Se){console.log(" No hay cambio de fecha");return}T(!0),k(te);try{const Be=te?`${te}T12:00:00.000Z`:null,{data:lt,error:Pt}=await ye.from("tasks").update({due_date:Be,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(Pt)throw Pt;r&&lt&&r({...n,...lt}),e&&setTimeout(()=>e(),100),console.log(" Fecha actualizada:",te||"Sin fecha")}catch(Be){console.error("Error updating due date:",Be),n.due_date?k(n.due_date.split("T")[0]):k("")}finally{T(!1)}},fe=()=>{console.log(" Cerrando todo..."),M(!1),z(""),K(""),J(null),me(!1),ne(!1),F(null),o(),e&&(console.log(" Refrescando Kanban..."),setTimeout(()=>e(),0))},ge=async()=>{if(n){D(!0);try{const{error:te}=await ye.from("tasks").delete().eq("id",n.id);if(te)throw te;console.log(" Tarea eliminada:",n.title),W(!1),o(),e&&setTimeout(()=>e(),0)}catch(te){console.error(" Error eliminando tarea:",te),alert(`Error al eliminar: ${te.message}`)}finally{D(!1)}}},Re=async()=>{var te;if(console.log(" handleRequestApproval iniciado"),!n){console.log(" No hay tarea seleccionada"),alert("Error: No hay tarea seleccionada");return}if(!$.trim()){alert("Por favor ingresa el nombre del cliente");return}if(!U.trim()){alert("Por favor ingresa el telfono del cliente");return}xe(!0),ne(!1);try{const Se=`${n.id.slice(0,8)}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`;console.log(" Token generado:",Se);const Be=new Date;Be.setHours(Be.getHours()+48);const lt=Be.toLocaleString("es-MX",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),Pt={task_id:n.id,token:Se,client_name:$.trim(),client_phone:U.trim(),expires_at:Be.toISOString(),status:"pending"},{error:st}=await ye.from("approval_tokens").insert(Pt).select().single();if(st)throw console.error(" Error en INSERT:",st),st;console.log(" Token insertado en Supabase");const{error:ct}=await ye.from("tasks").update({status:"needs_client_approval",previous_status:n.status,updated_at:new Date().toISOString()}).eq("id",n.id);ct?console.error(" Error actualizando tarea:",ct):(j("needs_client_approval"),r&&r({...n,status:"needs_client_approval"}));const Et=`${window.location.origin}/approval/${Se}`;J(Et),console.log(" Link generado:",Et),console.log(" Enviando notificacin a n8n...");const Wr={client_phone:U.replace(/\D/g,""),approval_url:Et,task_title:n.title,project_name:((te=n.project)==null?void 0:te.name)||"Proyecto",expires_at:lt};console.log(" Payload:",Wr);try{const Ye=await fetch(V_,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H_}`},body:JSON.stringify(Wr)}),ut=await Ye.json();Ye.ok?(console.log(" n8n notificado exitosamente:",ut),ne(!0)):console.error(" n8n respondi con error:",ut)}catch(Ye){console.error(" Error llamando webhook n8n:",Ye)}try{await F_(n.id,Se,$.trim(),"telegram",Be.toISOString()),console.log(" Activity log: approval_link_sent registrado")}catch(Ye){console.error(" Error registrando activity log:",Ye)}console.log(" Proceso completado"),console.log(" Iniciando auto-cierre en 3 segundos..."),F(3),setTimeout(()=>F(2),1e3),setTimeout(()=>F(1),2e3),setTimeout(()=>{console.log(" Auto-cerrando..."),M(!1),z(""),K(""),J(null),me(!1),ne(!1),F(null),o(),e&&(console.log(" Refrescando Kanban..."),setTimeout(()=>e(),0))},3e3)}catch(Se){console.error(" Error completo:",Se),alert(`Error al generar el link: ${(Se==null?void 0:Se.message)||"Error desconocido"}`)}finally{xe(!1)}},Pe=async()=>{if(oe)try{await navigator.clipboard.writeText(oe),me(!0),setTimeout(()=>me(!1),2e3)}catch(te){console.error("Error copiando link:",te)}},Ae=()=>{M(!1),z(""),K(""),J(null),me(!1),ne(!1),F(null)},Rt=async te=>{if(te.preventDefault(),console.log(" Iniciando envo de comentario..."),console.log("selectedTask:",n),console.log("newComment:",g),!n||!g.trim()){console.log(" No hay tarea o comentario vaco");return}_(!0);try{console.log(" Obteniendo usuario...");const{data:{user:Se}}=await ye.auth.getUser();if(console.log(" Usuario:",Se),!Se)throw new Error("No autenticado");console.log(" Insertando comentario...");const{data:Be,error:lt}=await ye.from("comments").insert({task_id:n.id,organization_id:n.organization_id,content:g.trim(),author_id:Se.id,is_client_comment:!1,mentions:[]}).select(`
          *,
          author:profiles!comments_author_id_fkey(full_name, avatar_url)
        `).single();if(lt)throw lt;p(Pt=>[...Pt,Be]),y(""),console.log(" Comentario agregado")}catch(Se){console.error("Error adding comment:",Se)}finally{_(!1)}};if(!a||!n)return null;const wt=aa[n.status],or=["blocked","needs_client_approval","bug","hotfix"].includes(n.status);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 hidden md:block",onClick:o}),h.jsxs("div",{className:be("fixed z-50 bg-bg-primary flex flex-col","inset-0 w-full h-full","md:inset-auto md:right-0 md:top-0 md:h-full md:w-full md:max-w-lg md:border-l md:border-bg-tertiary","animate-in slide-in-from-right duration-300"),children:[h.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-4 border-b border-bg-tertiary shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:o,className:"md:hidden p-2 -ml-2 rounded-lg hover:bg-bg-tertiary text-text-secondary",children:h.jsx(Tu,{className:"w-5 h-5"})}),h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(wt==null?void 0:wt.color)||"#6366f1"}}),h.jsx("span",{className:"text-sm text-text-secondary truncate",children:((Ot=n.project)==null?void 0:Ot.name)||"Proyecto"})]}),h.jsx("button",{onClick:o,className:"hidden md:block p-2 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",children:h.jsx(Qs,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[h.jsxs("div",{className:"px-4 md:px-6 py-4 md:py-5 border-b border-bg-tertiary",children:[h.jsx("h2",{className:"text-lg md:text-xl font-semibold text-text-primary mb-2 md:mb-3",children:n.title}),n.description?h.jsx("p",{className:"text-text-secondary text-sm leading-relaxed",children:n.description}):h.jsx("p",{className:"text-text-secondary/50 text-sm italic",children:"Sin descripcin"})]}),or&&h.jsxs("div",{className:"mx-4 md:mx-6 mt-4 p-3 rounded-lg bg-accent-warning/10 border border-accent-warning/20",children:[h.jsxs("div",{className:"flex items-center gap-2 text-accent-warning",children:[h.jsx(tn,{className:"w-4 h-4 shrink-0"}),h.jsxs("span",{className:"text-sm font-medium",children:[n.status==="blocked"&&"Esta tarea est bloqueada",n.status==="needs_client_approval"&&"Esperando aprobacin del cliente",n.status==="bug"&&"Bug reportado",n.status==="hotfix"&&"Hotfix urgente"]})]}),n.blocked_reason&&h.jsx("p",{className:"mt-2 text-sm text-text-secondary",children:n.blocked_reason})]}),h.jsx("div",{className:"px-4 md:px-6 py-4 border-b border-bg-tertiary",children:h.jsxs(Je,{onClick:()=>M(!0),variant:"outline",className:"w-full justify-center gap-2 border-accent-primary/50 text-accent-primary hover:bg-accent-primary/10",children:[h.jsx(au,{className:"w-4 h-4"}),"Solicitar Aprobacin del Cliente"]})}),h.jsx("div",{className:"px-4 md:px-6 py-4 border-b border-bg-tertiary",children:h.jsxs(Je,{onClick:()=>W(!0),variant:"outline",className:"w-full justify-center gap-2 border-accent-danger/50 text-accent-danger hover:bg-accent-danger/10",children:[h.jsx(Np,{className:"w-4 h-4"}),"Eliminar Tarea"]})}),h.jsxs("div",{className:"px-4 md:px-6 py-4 md:py-5 space-y-4 border-b border-bg-tertiary",children:[h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("span",{className:"text-sm text-text-secondary flex items-center gap-2 shrink-0",children:[h.jsx(Hs,{className:"w-4 h-4"}),"Estado"]}),h.jsx("select",{value:w,onChange:te=>ee(te.target.value),disabled:l,className:"text-sm bg-bg-secondary border border-bg-tertiary rounded-lg px-3 py-1.5 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-primary/50 max-w-[180px]",children:Object.entries(Om).map(([te,Se])=>h.jsx("option",{value:te,children:Se},te))})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-sm text-text-secondary flex items-center gap-2",children:[h.jsx(tn,{className:"w-4 h-4"}),"Prioridad"]}),h.jsxs(ia,{className:be("text-xs",n.priority==="urgent"&&"bg-red-500/20 text-red-400",n.priority==="high"&&"bg-orange-500/20 text-orange-400",n.priority==="medium"&&"bg-yellow-500/20 text-yellow-400",n.priority==="low"&&"bg-green-500/20 text-green-400"),children:[n.priority==="urgent"&&" Urgente",n.priority==="high"&&" Alta",n.priority==="medium"&&" Media",n.priority==="low"&&" Baja"]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-sm text-text-secondary flex items-center gap-2",children:[h.jsx(P_,{className:"w-4 h-4"}),"Asignado"]}),n.assignee?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Xs,{name:n.assignee.full_name,src:n.assignee.avatar_url,size:"sm"}),h.jsx("span",{className:"text-sm text-text-primary truncate max-w-[120px]",children:n.assignee.full_name})]}):h.jsx("span",{className:"text-sm text-text-secondary/50",children:"Sin asignar"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-sm text-text-secondary flex items-center gap-2",children:[h.jsx(Ys,{className:"w-4 h-4"}),"Fecha lmite",C&&h.jsx(Or,{size:"sm",className:"ml-1"})]}),h.jsx("input",{type:"date",value:S,onChange:te=>he(te.target.value),disabled:C,className:be("text-sm bg-bg-secondary border border-bg-tertiary rounded-lg px-3 py-1.5 text-text-primary","focus:outline-none focus:ring-2 focus:ring-accent-primary/50","cursor-pointer hover:border-accent-primary/50 transition-colors",S&&new Date(S)<new Date(new Date().toDateString())?"text-accent-danger border-accent-danger/50":"",!S&&"text-text-secondary/50")})]}),n.complexity&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-sm text-text-secondary flex items-center gap-2",children:[h.jsx(qu,{className:"w-4 h-4"}),"Complejidad"]}),h.jsxs("div",{className:"flex items-center gap-1",children:[["low","medium","high"].map((te,Se)=>h.jsx("div",{className:be("w-2 h-4 rounded-full",Se<["low","medium","high"].indexOf(n.complexity)+1?n.complexity==="high"?"bg-accent-danger":n.complexity==="medium"?"bg-accent-warning":"bg-accent-success":"bg-bg-tertiary")},te)),h.jsxs("span",{className:"ml-2 text-sm text-text-primary capitalize",children:[n.complexity==="low"&&"Baja",n.complexity==="medium"&&"Media",n.complexity==="high"&&"Alta"]})]})]})]}),(n.notion_page_url||n.google_doc_url)&&h.jsxs("div",{className:"px-4 md:px-6 py-4 border-b border-bg-tertiary",children:[h.jsxs("h3",{className:"text-sm font-medium text-text-primary mb-3 flex items-center gap-2",children:[h.jsx(S_,{className:"w-4 h-4"}),"Enlaces"]}),h.jsxs("div",{className:"space-y-2",children:[n.notion_page_url&&h.jsxs("a",{href:n.notion_page_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-accent-primary hover:underline",children:[h.jsx(oi,{className:"w-3 h-3"}),"Notion"]}),n.google_doc_url&&h.jsxs("a",{href:n.google_doc_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-accent-primary hover:underline",children:[h.jsx(oi,{className:"w-3 h-3"}),"Google Doc"]})]})]}),h.jsxs("div",{className:"px-4 md:px-6 py-4",children:[h.jsxs("h3",{className:"text-sm font-medium text-text-primary mb-4 flex items-center gap-2",children:[h.jsx(li,{className:"w-4 h-4"}),"Comentarios (",f.length,")"]}),h.jsx("div",{className:"space-y-4 mb-4",children:f.length===0?h.jsx("p",{className:"text-sm text-text-secondary/50 text-center py-4",children:"No hay comentarios an"}):f.map(te=>{var Se,Be,lt;return h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Xs,{name:((Se=te.author)==null?void 0:Se.full_name)||"Usuario",src:(Be=te.author)==null?void 0:Be.avatar_url,size:"sm"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[h.jsx("span",{className:"text-sm font-medium text-text-primary",children:((lt=te.author)==null?void 0:lt.full_name)||"Usuario"}),h.jsx("span",{className:"text-xs text-text-secondary",children:To(te.created_at)})]}),h.jsx("p",{className:"text-sm text-text-secondary break-words",children:te.content})]})]},te.id)})}),h.jsxs("form",{onSubmit:Rt,className:"flex gap-2",children:[h.jsx("input",{type:"text",value:g,onChange:te=>y(te.target.value),placeholder:"Escribe un comentario...",className:"flex-1 px-3 py-2 text-sm bg-bg-secondary border border-bg-tertiary rounded-lg text-text-primary placeholder:text-text-secondary/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50",disabled:x}),h.jsx(Je,{type:"submit",size:"sm",disabled:!g.trim()||x,children:x?h.jsx(Or,{size:"sm"}):h.jsx(N_,{className:"w-4 h-4"})})]})]})]}),h.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-t border-bg-tertiary bg-bg-secondary/50 shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[h.jsxs("span",{children:["Creada ",To(n.created_at)]}),h.jsxs("span",{children:["Actualizada ",To(n.updated_at)]})]})})]}),P&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:()=>oe?fe():Ae()}),h.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:h.jsxs("div",{className:be("w-full max-w-md bg-bg-primary rounded-xl border border-bg-tertiary shadow-2xl","animate-in zoom-in-95 duration-200","max-h-[90vh] overflow-y-auto"),onClick:te=>te.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-4 border-b border-bg-tertiary sticky top-0 bg-bg-primary",children:[h.jsxs("h3",{className:"text-base md:text-lg font-semibold text-text-primary flex items-center gap-2",children:[h.jsx(au,{className:"w-5 h-5 text-accent-primary"}),"Solicitar Aprobacin"]}),h.jsx("button",{onClick:()=>oe?fe():Ae(),className:"p-2 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",children:h.jsx(Qs,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"px-4 md:px-6 py-5",children:oe?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-center w-14 h-14 md:w-16 md:h-16 mx-auto rounded-full bg-accent-success/20",children:h.jsx(Hs,{className:"w-7 h-7 md:w-8 md:h-8 text-accent-success"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h4",{className:"text-base md:text-lg font-semibold text-text-primary mb-1",children:"Link generado!"}),h.jsxs("p",{className:"text-sm text-text-secondary",children:["Comparte este link con ",h.jsx("strong",{children:$})]})]}),ue&&h.jsx("div",{className:"p-3 rounded-lg bg-accent-success/10 border border-accent-success/20",children:h.jsxs("p",{className:"text-xs text-accent-success flex items-center gap-2",children:[h.jsx(Hs,{className:"w-4 h-4"})," Notificacin enviada a Telegram"]})}),h.jsxs("div",{className:"p-3 rounded-lg bg-bg-secondary border border-bg-tertiary",children:[h.jsx("p",{className:"text-xs text-text-secondary mb-2",children:"Link de aprobacin:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:oe,readOnly:!0,className:"flex-1 px-2 py-1 text-xs bg-bg-tertiary rounded text-text-primary font-mono truncate"}),h.jsx(Je,{size:"sm",variant:ce?"primary":"outline",onClick:Pe,className:"shrink-0",children:ce?h.jsxs(h.Fragment,{children:[h.jsx(y_,{className:"w-4 h-4 mr-1"}),h.jsx("span",{className:"hidden sm:inline",children:"Copiado"})]}):h.jsxs(h.Fragment,{children:[h.jsx(b_,{className:"w-4 h-4 mr-1"}),h.jsx("span",{className:"hidden sm:inline",children:"Copiar"})]})})]})]}),h.jsx("div",{className:"p-3 rounded-lg bg-accent-warning/10 border border-accent-warning/20",children:h.jsxs("p",{className:"text-xs text-accent-warning",children:[" Enva este link por ",h.jsx("strong",{children:"WhatsApp"})," al nmero: ",h.jsx("strong",{children:U})]})}),Q!==null&&h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-xs text-text-secondary",children:["Cerrando automticamente en ",h.jsx("strong",{className:"text-accent-primary",children:Q})," segundos..."]})})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-text-secondary",children:"Se generar un link nico para que el cliente pueda aprobar o solicitar cambios en esta tarea."}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1.5",children:"Nombre del cliente"}),h.jsx("input",{type:"text",value:$,onChange:te=>z(te.target.value),placeholder:"Ej: Juan Prez",className:"w-full px-3 py-2 text-sm bg-bg-secondary border border-bg-tertiary rounded-lg text-text-primary placeholder:text-text-secondary/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50",disabled:Z})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1.5",children:"Telfono (WhatsApp)"}),h.jsx("input",{type:"tel",value:U,onChange:te=>K(te.target.value),placeholder:"Ej: +52 999 123 4567",className:"w-full px-3 py-2 text-sm bg-bg-secondary border border-bg-tertiary rounded-lg text-text-primary placeholder:text-text-secondary/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50",disabled:Z})]}),h.jsx("div",{className:"p-3 rounded-lg bg-accent-primary/10 border border-accent-primary/20",children:h.jsxs("p",{className:"text-xs text-accent-primary",children:[" El link expirar en ",h.jsx("strong",{children:"48 horas"}),". El cliente podr aprobar o solicitar cambios sin necesidad de crear una cuenta."]})})]})}),h.jsx("div",{className:"flex items-center justify-end gap-3 px-4 md:px-6 py-4 border-t border-bg-tertiary bg-bg-secondary/50 rounded-b-xl sticky bottom-0",children:oe?h.jsx(Je,{onClick:fe,children:"Cerrar"}):h.jsxs(h.Fragment,{children:[h.jsx(Je,{variant:"ghost",onClick:Ae,disabled:Z,children:"Cancelar"}),h.jsx(Je,{onClick:Re,disabled:!$.trim()||!U.trim()||Z,children:Z?h.jsxs(h.Fragment,{children:[h.jsx(Or,{size:"sm",className:"mr-2"}),"Generando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(au,{className:"w-4 h-4 mr-2"}),"Generar Link"]})})]})})]})})]}),B&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:()=>W(!1)}),h.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:h.jsx("div",{className:"w-full max-w-sm bg-bg-primary rounded-xl border border-bg-tertiary shadow-2xl animate-in zoom-in-95 duration-200",onClick:te=>te.stopPropagation(),children:h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 rounded-full bg-accent-danger/20",children:h.jsx(Np,{className:"w-6 h-6 text-accent-danger"})}),h.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Eliminar tarea?"}),h.jsxs("p",{className:"text-sm text-text-secondary mb-6",children:['Esta accin no se puede deshacer. La tarea "',n==null?void 0:n.title,'" ser eliminada permanentemente.']}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Je,{variant:"secondary",onClick:()=>W(!1),disabled:R,className:"flex-1",children:"Cancelar"}),h.jsx(Je,{onClick:ge,disabled:R,className:"flex-1 bg-accent-danger hover:bg-accent-danger/90",children:R?h.jsxs(h.Fragment,{children:[h.jsx(Or,{size:"sm",className:"mr-2"}),"Eliminando..."]}):"Eliminar"})]})]})})})]})]})}function K_(){return h.jsxs("div",{className:"flex h-screen bg-bg-primary",children:[h.jsx($_,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden w-full lg:w-auto",children:[h.jsx(z_,{}),h.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6",children:h.jsx(t0,{})})]}),h.jsx(U_,{}),h.jsx(zm,{}),h.jsx(Um,{})]})}function G_({children:r}){const{user:e,isLoading:n,isInitialized:a}=an(),o=gr();return!a||n?h.jsx(Ku,{}):e?h.jsx(h.Fragment,{children:r}):h.jsx(Do,{to:"/login",state:{from:o},replace:!0})}function J_({children:r}){var l,u;const{user:e,isLoading:n,isInitialized:a}=an(),o=gr();if(!a||n)return h.jsx(Ku,{});if(e){const f=((u=(l=o.state)==null?void 0:l.from)==null?void 0:u.pathname)||"/app/dashboard";return h.jsx(Do,{to:f,replace:!0})}return h.jsx(h.Fragment,{children:r})}function Y_(){const{login:r,register:e}=an(),[n,a]=b.useState(!0),[o,l]=b.useState(!1),[u,f]=b.useState({email:"",password:"",fullName:""}),p=async g=>{g.preventDefault(),l(!0);try{if(n){const{error:y}=await r(u.email,u.password);y?Os.error(y.message||"Error al iniciar sesin"):Os.success("Bienvenido de vuelta!")}else{if(!u.fullName){Os.error("El nombre es requerido"),l(!1);return}const{error:y}=await e(u.email,u.password,u.fullName);y?Os.error(y.message||"Error al registrarse"):Os.success("Cuenta creada exitosamente!")}}catch{Os.error("Error inesperado")}finally{l(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg-primary p-4",children:h.jsxs($t,{className:"w-full max-w-md",children:[h.jsxs(Fo,{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 rounded-xl bg-accent-primary flex items-center justify-center mb-4",children:h.jsx(Dm,{className:"w-7 h-7 text-white"})}),h.jsx(Wo,{className:"text-2xl",children:n?"Iniciar sesin":"Crear cuenta"}),h.jsx(Mm,{children:n?"Ingresa tus credenciales para continuar":"Completa tus datos para crear tu cuenta"})]}),h.jsxs("form",{onSubmit:p,children:[h.jsxs(Un,{className:"space-y-4",children:[!n&&h.jsx(zn,{label:"Nombre completo",type:"text",placeholder:"Juan Prez",value:u.fullName,onChange:g=>f({...u,fullName:g.target.value}),required:!n}),h.jsx(zn,{label:"Correo electrnico",type:"email",placeholder:"tu@email.com",value:u.email,onChange:g=>f({...u,email:g.target.value}),required:!0}),h.jsx(zn,{label:"Contrasea",type:"password",placeholder:"",value:u.password,onChange:g=>f({...u,password:g.target.value}),required:!0})]}),h.jsxs($m,{className:"flex flex-col gap-4",children:[h.jsx(Je,{type:"submit",className:"w-full",isLoading:o,children:n?"Iniciar sesin":"Crear cuenta"}),h.jsxs("p",{className:"text-sm text-text-secondary text-center",children:[n?"No tienes cuenta?":"Ya tienes cuenta?"," ",h.jsx("button",{type:"button",onClick:()=>a(!n),className:"text-accent-primary hover:underline",children:n?"Crear una":"Iniciar sesin"})]})]})]})]})})}function Q_(){var k;const r=na(),{profile:e}=an(),{openTaskDrawer:n}=Fr(),[a,o]=b.useState({activeTasks:0,completedThisMonth:0,blocked:0,waitingClient:0}),[l,u]=b.useState([]),[f,p]=b.useState([]),[g,y]=b.useState(!0);b.useEffect(()=>{(async()=>{if(!(e!=null&&e.id)){y(!1);return}try{const{data:T}=await ye.from("tasks").select("id, status, updated_at").eq("assignee_id",e.id);if(T){const $=new Date,z=new Date($.getFullYear(),$.getMonth(),1);o({activeTasks:T.filter(U=>!["live","optimization"].includes(U.status)).length,completedThisMonth:T.filter(U=>["live","optimization"].includes(U.status)&&new Date(U.updated_at)>=z).length,blocked:T.filter(U=>["blocked","bug","hotfix"].includes(U.status)).length,waitingClient:T.filter(U=>U.status==="needs_client_approval").length})}const{data:P}=await ye.from("projects").select(`
            id,
            name,
            color,
            tasks:tasks(id, status)
          `).eq("is_archived",!1).limit(5);if(P){const $=P.map(z=>{var U,K;return{id:z.id,name:z.name,color:z.color||"#6366f1",totalTasks:((U=z.tasks)==null?void 0:U.length)||0,completedTasks:((K=z.tasks)==null?void 0:K.filter(Z=>["live","optimization"].includes(Z.status)).length)||0}});u($)}const{data:M}=await ye.from("notifications").select(`
            id,
            type,
            title,
            message,
            task_id,
            created_at
          `).eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(M){const $=M.filter(U=>U.task_id).map(U=>U.task_id);let z={};if($.length>0){const{data:U}=await ye.from("tasks").select("id, title, status").in("id",$);U&&(z=U.reduce((K,Z)=>(K[Z.id]=Z,K),{}))}p(M.map(U=>({...U,task:U.task_id?z[U.task_id]:null})))}}catch(T){console.error("Error loading dashboard:",T)}finally{y(!1)}})()},[e==null?void 0:e.id]);const x=C=>{r(`/app/my-tasks?filter=${C}`)},_=C=>{r(`/app/projects/${C}`)},w=async C=>{if(C.task_id){const{data:T}=await ye.from("tasks").select(`
          *,
          assignee:profiles!tasks_assignee_id_fkey(full_name, avatar_url, team),
          project:projects!tasks_project_id_fkey(id, name, slug, client_name, color)
        `).eq("id",C.task_id).single();T&&n(T)}},j=C=>{const T=new Date(C),M=new Date().getTime()-T.getTime(),$=Math.floor(M/6e4),z=Math.floor($/60),U=Math.floor(z/24);return $<60?`${$}m`:z<24?`${z}h`:`${U}d`},S=[{key:"active",title:"Activas",fullTitle:"Tareas Activas",value:a.activeTasks,icon:qu,color:"text-accent-primary",hoverBg:"hover:bg-accent-primary/10",filter:"active"},{key:"completed",title:"Completadas",fullTitle:"Completadas (mes)",value:a.completedThisMonth,icon:Hs,color:"text-accent-success",hoverBg:"hover:bg-accent-success/10",filter:"completed"},{key:"blocked",title:"Bloqueadas",fullTitle:"Bloqueadas",value:a.blocked,icon:tn,color:"text-accent-danger",hoverBg:"hover:bg-accent-danger/10",filter:"blocked"},{key:"waiting",title:"Cliente",fullTitle:"Esperando Cliente",value:a.waitingClient,icon:A_,color:"text-accent-warning",hoverBg:"hover:bg-accent-warning/10",filter:"waiting"}];return g?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx(Vu,{className:"w-8 h-8 animate-spin text-accent-primary"})}):h.jsxs("div",{className:"space-y-4 md:space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-text-primary",children:["Hola, ",((k=e==null?void 0:e.full_name)==null?void 0:k.split(" ")[0])||"Usuario"," "]}),h.jsx("p",{className:"text-sm md:text-base text-text-secondary",children:"Aqu est el resumen de tu trabajo"})]}),h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:S.map(C=>h.jsx($t,{className:be("cursor-pointer transition-all duration-200",C.hoverBg,"hover:border-bg-tertiary hover:shadow-lg"),onClick:()=>x(C.filter),children:h.jsx(Un,{className:"p-3 md:p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-xs md:text-sm text-text-secondary",children:[h.jsx("span",{className:"md:hidden",children:C.title}),h.jsx("span",{className:"hidden md:inline",children:C.fullTitle})]}),h.jsx("p",{className:"text-2xl md:text-3xl font-bold text-text-primary mt-1",children:C.value})]}),h.jsx("div",{className:be("p-2 md:p-3 rounded-lg bg-bg-tertiary",C.color),children:h.jsx(C.icon,{className:"w-4 h-4 md:w-6 md:h-6"})})]})})},C.key))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[h.jsxs($t,{className:"lg:col-span-2",children:[h.jsx(Fo,{className:"pb-3",children:h.jsxs(Wo,{className:"flex items-center gap-2 text-base md:text-lg",children:[h.jsx(O_,{className:"w-4 h-4 md:w-5 md:h-5"}),"Actividad Reciente"]})}),h.jsx(Un,{children:f.length===0?h.jsx("p",{className:"text-sm text-text-secondary text-center py-6 md:py-8",children:"No hay actividad reciente"}):h.jsx("div",{className:"space-y-3 md:space-y-4",children:f.map(C=>{var T;return h.jsxs("div",{onClick:()=>w(C),className:be("flex items-start md:items-center justify-between py-2 md:py-3 border-b border-bg-tertiary last:border-0 gap-2",C.task_id&&"cursor-pointer hover:bg-bg-tertiary/50 -mx-2 px-2 rounded-lg transition-colors"),children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:C.title}),h.jsx("p",{className:"text-xs md:text-sm text-text-secondary truncate",children:C.message})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[((T=C.task)==null?void 0:T.status)&&h.jsx(ia,{status:C.task.status,className:"hidden sm:flex"}),h.jsx("span",{className:"text-xs text-text-secondary",children:j(C.created_at)})]})]},C.id)})})})]}),h.jsxs($t,{children:[h.jsx(Fo,{className:"pb-3",children:h.jsxs(Wo,{className:"flex items-center gap-2 text-base md:text-lg",children:[h.jsx(Ks,{className:"w-4 h-4 md:w-5 md:h-5"}),"Proyectos Activos"]})}),h.jsx(Un,{children:l.length===0?h.jsx("p",{className:"text-sm text-text-secondary text-center py-6 md:py-8",children:"No hay proyectos activos"}):h.jsx("div",{className:"space-y-3",children:l.map(C=>{const T=C.totalTasks>0?C.completedTasks/C.totalTasks*100:0;return h.jsxs("div",{onClick:()=>_(C.id),className:"p-3 rounded-lg bg-bg-tertiary hover:bg-bg-tertiary/80 cursor-pointer transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:C.color}}),h.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:C.name})]}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("div",{className:"flex-1 h-1.5 bg-bg-secondary rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${T}%`,backgroundColor:C.color}})}),h.jsxs("span",{className:"text-xs text-text-secondary shrink-0",children:[C.completedTasks,"/",C.totalTasks]})]})]},C.id)})})})]})]})]})}function X_(){const r=na(),e=gr(),{openCreateProjectModal:n}=Fr(),[a,o]=b.useState([]),[l,u]=b.useState(!0),[f,p]=b.useState(null);b.useEffect(()=>{let y=!0;return(async()=>{u(!0),p(null);try{const{data:_,error:w}=await ye.from("projects").select("*").eq("is_archived",!1).order("updated_at",{ascending:!1});if(w)throw w;y&&o(_||[])}catch(_){console.error("Error loading projects:",_),y&&p((_==null?void 0:_.message)||"Error cargando proyectos")}finally{y&&u(!1)}})(),()=>{y=!1}},[e.pathname]);const g=()=>{u(!0),p(null),o([]),setTimeout(()=>{window.location.reload()},100)};return l?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-pulse text-text-secondary",children:"Cargando proyectos..."})}):f?h.jsx(Zs,{icon:h.jsx(Ks,{className:"w-6 h-6 text-text-secondary"}),title:"No se pudieron cargar los proyectos",description:String(f),action:h.jsx(Je,{onClick:g,children:"Reintentar"})}):a.length===0?h.jsx(Zs,{icon:h.jsx(Ks,{className:"w-6 h-6 text-text-secondary"}),title:"No hay proyectos",description:"Crea tu primer proyecto para comenzar a organizar el trabajo",action:h.jsxs(Je,{onClick:n,children:[h.jsx(ci,{className:"w-4 h-4"}),"Nuevo Proyecto"]})}):h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.map(y=>h.jsx($t,{variant:"interactive",className:"h-full cursor-pointer",onClick:()=>r(`/app/projects/${y.id}`),role:"link",children:h.jsxs(Un,{className:"p-5",children:[h.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:(y.color||"#6366f1")+"20"},children:h.jsx(Ks,{className:"w-5 h-5",style:{color:y.color||"#6366f1"}})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-text-primary truncate",children:y.name}),y.client_name&&h.jsx("p",{className:"text-sm text-text-secondary truncate",children:y.client_name})]})]}),y.description&&h.jsx("p",{className:"text-sm text-text-secondary line-clamp-2 mb-4",children:y.description}),h.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-bg-tertiary",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[h.jsx(Ys,{className:"w-3.5 h-3.5"}),Bo(y.updated_at)]}),y.notion_url&&h.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),window.open(y.notion_url,"_blank","noopener,noreferrer")},className:"text-text-secondary hover:text-text-primary","aria-label":"Abrir en Notion",children:h.jsx(oi,{className:"w-4 h-4"})})]})]})},y.id)),h.jsx($t,{variant:"interactive",className:"h-full border-dashed border-2 flex items-center justify-center min-h-[200px] cursor-pointer",onClick:n,children:h.jsxs(Un,{className:"p-5 text-center",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-bg-tertiary flex items-center justify-center mx-auto mb-3",children:h.jsx(ci,{className:"w-6 h-6 text-text-secondary"})}),h.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Nuevo Proyecto"})]})})]})})}const nl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oa(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function Gu(r){return"nodeType"in r}function Ft(r){var e,n;return r?oa(r)?r:Gu(r)&&(e=(n=r.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Ju(r){const{Document:e}=Ft(r);return r instanceof e}function fi(r){return oa(r)?!1:r instanceof Ft(r).HTMLElement}function Bm(r){return r instanceof Ft(r).SVGElement}function la(r){return r?oa(r)?r.document:Gu(r)?Ju(r)?r:fi(r)||Bm(r)?r.ownerDocument:document:document:document}const rn=nl?b.useLayoutEffect:b.useEffect;function sl(r){const e=b.useRef(r);return rn(()=>{e.current=r}),b.useCallback(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e.current==null?void 0:e.current(...a)},[])}function Z_(){const r=b.useRef(null),e=b.useCallback((a,o)=>{r.current=setInterval(a,o)},[]),n=b.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,n]}function ui(r,e){e===void 0&&(e=[r]);const n=b.useRef(r);return rn(()=>{n.current!==r&&(n.current=r)},e),n}function pi(r,e){const n=b.useRef();return b.useMemo(()=>{const a=r(n.current);return n.current=a,a},[...e])}function qo(r){const e=sl(r),n=b.useRef(null),a=b.useCallback(o=>{o!==n.current&&(e==null||e(o,n.current)),n.current=o},[]);return[n,a]}function Vo(r){const e=b.useRef();return b.useEffect(()=>{e.current=r},[r]),e.current}let iu={};function al(r,e){return b.useMemo(()=>{if(e)return e;const n=iu[r]==null?0:iu[r]+1;return iu[r]=n,r+"-"+n},[r,e])}function Fm(r){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.reduce((l,u)=>{const f=Object.entries(u);for(const[p,g]of f){const y=l[p];y!=null&&(l[p]=y+r*g)}return l},{...e})}}const Gs=Fm(1),Ho=Fm(-1);function e1(r){return"clientX"in r&&"clientY"in r}function Yu(r){if(!r)return!1;const{KeyboardEvent:e}=Ft(r.target);return e&&r instanceof e}function t1(r){if(!r)return!1;const{TouchEvent:e}=Ft(r.target);return e&&r instanceof e}function Ko(r){if(t1(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:n}=r.touches[0];return{x:e,y:n}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:n}=r.changedTouches[0];return{x:e,y:n}}}return e1(r)?{x:r.clientX,y:r.clientY}:null}const ea=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:n}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:n}=r;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(r){if(r)return[ea.Translate.toString(r),ea.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:n,easing:a}=r;return e+" "+n+"ms "+a}}}),Op="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function r1(r){return r.matches(Op)?r:r.querySelector(Op)}const n1={display:"none"};function s1(r){let{id:e,value:n}=r;return V.createElement("div",{id:e,style:n1},n)}function a1(r){let{id:e,announcement:n,ariaLiveType:a="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return V.createElement("div",{id:e,style:o,role:"status","aria-live":a,"aria-atomic":!0},n)}function i1(){const[r,e]=b.useState("");return{announce:b.useCallback(a=>{a!=null&&e(a)},[]),announcement:r}}const Wm=b.createContext(null);function o1(r){const e=b.useContext(Wm);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function l1(){const[r]=b.useState(()=>new Set),e=b.useCallback(a=>(r.add(a),()=>r.delete(a)),[r]);return[b.useCallback(a=>{let{type:o,event:l}=a;r.forEach(u=>{var f;return(f=u[o])==null?void 0:f.call(u,l)})},[r]),e]}const c1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},u1={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function d1(r){let{announcements:e=u1,container:n,hiddenTextDescribedById:a,screenReaderInstructions:o=c1}=r;const{announce:l,announcement:u}=i1(),f=al("DndLiveRegion"),[p,g]=b.useState(!1);if(b.useEffect(()=>{g(!0)},[]),o1(b.useMemo(()=>({onDragStart(x){let{active:_}=x;l(e.onDragStart({active:_}))},onDragMove(x){let{active:_,over:w}=x;e.onDragMove&&l(e.onDragMove({active:_,over:w}))},onDragOver(x){let{active:_,over:w}=x;l(e.onDragOver({active:_,over:w}))},onDragEnd(x){let{active:_,over:w}=x;l(e.onDragEnd({active:_,over:w}))},onDragCancel(x){let{active:_,over:w}=x;l(e.onDragCancel({active:_,over:w}))}}),[l,e])),!p)return null;const y=V.createElement(V.Fragment,null,V.createElement(s1,{id:a,value:o.draggable}),V.createElement(a1,{id:f,announcement:u}));return n?Fs.createPortal(y,n):y}var vt;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(vt||(vt={}));function Go(){}function h1(r,e){return b.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function f1(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Pr=Object.freeze({x:0,y:0});function p1(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function m1(r,e){const n=Ko(r);if(!n)return"0 0";const a={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return a.x+"% "+a.y+"%"}function g1(r,e){let{data:{value:n}}=r,{data:{value:a}}=e;return n-a}function y1(r,e){let{data:{value:n}}=r,{data:{value:a}}=e;return a-n}function v1(r,e){if(!r||r.length===0)return null;const[n]=r;return n[e]}function Pp(r,e,n){return e===void 0&&(e=r.left),n===void 0&&(n=r.top),{x:e+r.width*.5,y:n+r.height*.5}}const w1=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=r;const o=Pp(e,e.left,e.top),l=[];for(const u of a){const{id:f}=u,p=n.get(f);if(p){const g=p1(Pp(p),o);l.push({id:f,data:{droppableContainer:u,value:g}})}}return l.sort(g1)};function x1(r,e){const n=Math.max(e.top,r.top),a=Math.max(e.left,r.left),o=Math.min(e.left+e.width,r.left+r.width),l=Math.min(e.top+e.height,r.top+r.height),u=o-a,f=l-n;if(a<o&&n<l){const p=e.width*e.height,g=r.width*r.height,y=u*f,x=y/(p+g-y);return Number(x.toFixed(4))}return 0}const b1=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=r;const o=[];for(const l of a){const{id:u}=l,f=n.get(u);if(f){const p=x1(f,e);p>0&&o.push({id:u,data:{droppableContainer:l,value:p}})}}return o.sort(y1)};function _1(r,e,n){return{...r,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function qm(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:Pr}function k1(r){return function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return o.reduce((u,f)=>({...u,top:u.top+r*f.y,bottom:u.bottom+r*f.y,left:u.left+r*f.x,right:u.right+r*f.x}),{...n})}}const S1=k1(1);function Vm(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function E1(r,e,n){const a=Vm(e);if(!a)return r;const{scaleX:o,scaleY:l,x:u,y:f}=a,p=r.left-u-(1-o)*parseFloat(n),g=r.top-f-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),y=o?r.width/o:r.width,x=l?r.height/l:r.height;return{width:y,height:x,top:g,right:p+y,bottom:g+x,left:p}}const j1={ignoreTransform:!1};function mi(r,e){e===void 0&&(e=j1);let n=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:y}=Ft(r).getComputedStyle(r);g&&(n=E1(n,g,y))}const{top:a,left:o,width:l,height:u,bottom:f,right:p}=n;return{top:a,left:o,width:l,height:u,bottom:f,right:p}}function Ap(r){return mi(r,{ignoreTransform:!0})}function C1(r){const e=r.innerWidth,n=r.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function N1(r,e){return e===void 0&&(e=Ft(r).getComputedStyle(r)),e.position==="fixed"}function T1(r,e){e===void 0&&(e=Ft(r).getComputedStyle(r));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=e[o];return typeof l=="string"?n.test(l):!1})}function Qu(r,e){const n=[];function a(o){if(e!=null&&n.length>=e||!o)return n;if(Ju(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!fi(o)||Bm(o)||n.includes(o))return n;const l=Ft(r).getComputedStyle(o);return o!==r&&T1(o,l)&&n.push(o),N1(o,l)?n:a(o.parentNode)}return r?a(r):n}function Hm(r){const[e]=Qu(r,1);return e??null}function ou(r){return!nl||!r?null:oa(r)?r:Gu(r)?Ju(r)||r===la(r).scrollingElement?window:fi(r)?r:null:null}function Km(r){return oa(r)?r.scrollX:r.scrollLeft}function Gm(r){return oa(r)?r.scrollY:r.scrollTop}function Ru(r){return{x:Km(r),y:Gm(r)}}var St;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(St||(St={}));function Jm(r){return!nl||!r?!1:r===document.scrollingElement}function Ym(r){const e={x:0,y:0},n=Jm(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},a={x:r.scrollWidth-n.width,y:r.scrollHeight-n.height},o=r.scrollTop<=e.y,l=r.scrollLeft<=e.x,u=r.scrollTop>=a.y,f=r.scrollLeft>=a.x;return{isTop:o,isLeft:l,isBottom:u,isRight:f,maxScroll:a,minScroll:e}}const R1={x:.2,y:.2};function O1(r,e,n,a,o){let{top:l,left:u,right:f,bottom:p}=n;a===void 0&&(a=10),o===void 0&&(o=R1);const{isTop:g,isBottom:y,isLeft:x,isRight:_}=Ym(r),w={x:0,y:0},j={x:0,y:0},S={height:e.height*o.y,width:e.width*o.x};return!g&&l<=e.top+S.height?(w.y=St.Backward,j.y=a*Math.abs((e.top+S.height-l)/S.height)):!y&&p>=e.bottom-S.height&&(w.y=St.Forward,j.y=a*Math.abs((e.bottom-S.height-p)/S.height)),!_&&f>=e.right-S.width?(w.x=St.Forward,j.x=a*Math.abs((e.right-S.width-f)/S.width)):!x&&u<=e.left+S.width&&(w.x=St.Backward,j.x=a*Math.abs((e.left+S.width-u)/S.width)),{direction:w,speed:j}}function P1(r){if(r===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:n,right:a,bottom:o}=r.getBoundingClientRect();return{top:e,left:n,right:a,bottom:o,width:r.clientWidth,height:r.clientHeight}}function Qm(r){return r.reduce((e,n)=>Gs(e,Ru(n)),Pr)}function A1(r){return r.reduce((e,n)=>e+Km(n),0)}function I1(r){return r.reduce((e,n)=>e+Gm(n),0)}function Xm(r,e){if(e===void 0&&(e=mi),!r)return;const{top:n,left:a,bottom:o,right:l}=e(r);Hm(r)&&(o<=0||l<=0||n>=window.innerHeight||a>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const D1=[["x",["left","right"],A1],["y",["top","bottom"],I1]];class Xu{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Qu(n),o=Qm(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,f]of D1)for(const p of u)Object.defineProperty(this,p,{get:()=>{const g=f(a),y=o[l]-g;return this.rect[p]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ya{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var o;(o=this.target)==null||o.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function L1(r){const{EventTarget:e}=Ft(r);return r instanceof e?r:la(r)}function lu(r,e){const n=Math.abs(r.x),a=Math.abs(r.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var mr;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(mr||(mr={}));function Ip(r){r.preventDefault()}function M1(r){r.stopPropagation()}var Ue;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ue||(Ue={}));const Zm={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},$1=(r,e)=>{let{currentCoordinates:n}=e;switch(r.code){case Ue.Right:return{...n,x:n.x+25};case Ue.Left:return{...n,x:n.x-25};case Ue.Down:return{...n,y:n.y+25};case Ue.Up:return{...n,y:n.y-25}}};class eg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ya(la(n)),this.windowListeners=new Ya(Ft(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mr.Resize,this.handleCancel),this.windowListeners.add(mr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&Xm(a),n(Pr)}handleKeyDown(e){if(Yu(e)){const{active:n,context:a,options:o}=this.props,{keyboardCodes:l=Zm,coordinateGetter:u=$1,scrollBehavior:f="smooth"}=o,{code:p}=e;if(l.end.includes(p)){this.handleEnd(e);return}if(l.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:g}=a.current,y=g?{x:g.left,y:g.top}:Pr;this.referenceCoordinates||(this.referenceCoordinates=y);const x=u(e,{active:n,context:a.current,currentCoordinates:y});if(x){const _=Ho(x,y),w={x:0,y:0},{scrollableAncestors:j}=a.current;for(const S of j){const k=e.code,{isTop:C,isRight:T,isLeft:P,isBottom:M,maxScroll:$,minScroll:z}=Ym(S),U=P1(S),K={x:Math.min(k===Ue.Right?U.right-U.width/2:U.right,Math.max(k===Ue.Right?U.left:U.left+U.width/2,x.x)),y:Math.min(k===Ue.Down?U.bottom-U.height/2:U.bottom,Math.max(k===Ue.Down?U.top:U.top+U.height/2,x.y))},Z=k===Ue.Right&&!T||k===Ue.Left&&!P,xe=k===Ue.Down&&!M||k===Ue.Up&&!C;if(Z&&K.x!==x.x){const oe=S.scrollLeft+_.x,J=k===Ue.Right&&oe<=$.x||k===Ue.Left&&oe>=z.x;if(J&&!_.y){S.scrollTo({left:oe,behavior:f});return}J?w.x=S.scrollLeft-oe:w.x=k===Ue.Right?S.scrollLeft-$.x:S.scrollLeft-z.x,w.x&&S.scrollBy({left:-w.x,behavior:f});break}else if(xe&&K.y!==x.y){const oe=S.scrollTop+_.y,J=k===Ue.Down&&oe<=$.y||k===Ue.Up&&oe>=z.y;if(J&&!_.x){S.scrollTo({top:oe,behavior:f});return}J?w.y=S.scrollTop-oe:w.y=k===Ue.Down?S.scrollTop-$.y:S.scrollTop-z.y,w.y&&S.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(e,Gs(Ho(x,this.referenceCoordinates),w))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}eg.activators=[{eventName:"onKeyDown",handler:(r,e,n)=>{let{keyboardCodes:a=Zm,onActivation:o}=e,{active:l}=n;const{code:u}=r.nativeEvent;if(a.start.includes(u)){const f=l.activatorNode.current;return f&&r.target!==f?!1:(r.preventDefault(),o==null||o({event:r.nativeEvent}),!0)}return!1}}];function Dp(r){return!!(r&&"distance"in r)}function Lp(r){return!!(r&&"delay"in r)}class Zu{constructor(e,n,a){var o;a===void 0&&(a=L1(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:u}=l;this.props=e,this.events=n,this.document=la(u),this.documentListeners=new Ya(this.document),this.listeners=new Ya(a),this.windowListeners=new Ya(Ft(u)),this.initialCoordinates=(o=Ko(l))!=null?o:Pr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(mr.Resize,this.handleCancel),this.windowListeners.add(mr.DragStart,Ip),this.windowListeners.add(mr.VisibilityChange,this.handleCancel),this.windowListeners.add(mr.ContextMenu,Ip),this.documentListeners.add(mr.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Lp(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Dp(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:o}=this.props;o(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(mr.Click,M1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:o,props:l}=this,{onMove:u,options:{activationConstraint:f}}=l;if(!o)return;const p=(n=Ko(e))!=null?n:Pr,g=Ho(o,p);if(!a&&f){if(Dp(f)){if(f.tolerance!=null&&lu(g,f.tolerance))return this.handleCancel();if(lu(g,f.distance))return this.handleStart()}if(Lp(f)&&lu(g,f.tolerance))return this.handleCancel();this.handlePending(f,g);return}e.cancelable&&e.preventDefault(),u(p)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const z1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ed extends Zu{constructor(e){const{event:n}=e,a=la(n.target);super(e,z1,a)}}ed.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const U1={move:{name:"mousemove"},end:{name:"mouseup"}};var Ou;(function(r){r[r.RightClick=2]="RightClick"})(Ou||(Ou={}));class B1 extends Zu{constructor(e){super(e,U1,la(e.event.target))}}B1.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:a}=e;return n.button===Ou.RightClick?!1:(a==null||a({event:n}),!0)}}];const cu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class F1 extends Zu{constructor(e){super(e,cu)}static setup(){return window.addEventListener(cu.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(cu.move.name,e)};function e(){}}}F1.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:a}=e;const{touches:o}=n;return o.length>1?!1:(a==null||a({event:n}),!0)}}];var Qa;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Qa||(Qa={}));var Jo;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Jo||(Jo={}));function W1(r){let{acceleration:e,activator:n=Qa.Pointer,canScroll:a,draggingRect:o,enabled:l,interval:u=5,order:f=Jo.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:y,delta:x,threshold:_}=r;const w=V1({delta:x,disabled:!l}),[j,S]=Z_(),k=b.useRef({x:0,y:0}),C=b.useRef({x:0,y:0}),T=b.useMemo(()=>{switch(n){case Qa.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Qa.DraggableRect:return o}},[n,o,p]),P=b.useRef(null),M=b.useCallback(()=>{const z=P.current;if(!z)return;const U=k.current.x*C.current.x,K=k.current.y*C.current.y;z.scrollBy(U,K)},[]),$=b.useMemo(()=>f===Jo.TreeOrder?[...g].reverse():g,[f,g]);b.useEffect(()=>{if(!l||!g.length||!T){S();return}for(const z of $){if((a==null?void 0:a(z))===!1)continue;const U=g.indexOf(z),K=y[U];if(!K)continue;const{direction:Z,speed:xe}=O1(z,K,T,e,_);for(const oe of["x","y"])w[oe][Z[oe]]||(xe[oe]=0,Z[oe]=0);if(xe.x>0||xe.y>0){S(),P.current=z,j(M,u),k.current=xe,C.current=Z;return}}k.current={x:0,y:0},C.current={x:0,y:0},S()},[e,M,a,S,l,u,JSON.stringify(T),JSON.stringify(w),j,g,$,y,JSON.stringify(_)])}const q1={x:{[St.Backward]:!1,[St.Forward]:!1},y:{[St.Backward]:!1,[St.Forward]:!1}};function V1(r){let{delta:e,disabled:n}=r;const a=Vo(e);return pi(o=>{if(n||!a||!o)return q1;const l={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[St.Backward]:o.x[St.Backward]||l.x===-1,[St.Forward]:o.x[St.Forward]||l.x===1},y:{[St.Backward]:o.y[St.Backward]||l.y===-1,[St.Forward]:o.y[St.Forward]||l.y===1}}},[n,e,a])}function H1(r,e){const n=e!=null?r.get(e):void 0,a=n?n.node.current:null;return pi(o=>{var l;return e==null?null:(l=a??o)!=null?l:null},[a,e])}function K1(r,e){return b.useMemo(()=>r.reduce((n,a)=>{const{sensor:o}=a,l=o.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,a)}));return[...n,...l]},[]),[r,e])}var di;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(di||(di={}));var Pu;(function(r){r.Optimized="optimized"})(Pu||(Pu={}));const Mp=new Map;function G1(r,e){let{dragging:n,dependencies:a,config:o}=e;const[l,u]=b.useState(null),{frequency:f,measure:p,strategy:g}=o,y=b.useRef(r),x=k(),_=ui(x),w=b.useCallback(function(C){C===void 0&&(C=[]),!_.current&&u(T=>T===null?C:T.concat(C.filter(P=>!T.includes(P))))},[_]),j=b.useRef(null),S=pi(C=>{if(x&&!n)return Mp;if(!C||C===Mp||y.current!==r||l!=null){const T=new Map;for(let P of r){if(!P)continue;if(l&&l.length>0&&!l.includes(P.id)&&P.rect.current){T.set(P.id,P.rect.current);continue}const M=P.node.current,$=M?new Xu(p(M),M):null;P.rect.current=$,$&&T.set(P.id,$)}return T}return C},[r,l,n,x,p]);return b.useEffect(()=>{y.current=r},[r]),b.useEffect(()=>{x||w()},[n,x]),b.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),b.useEffect(()=>{x||typeof f!="number"||j.current!==null||(j.current=setTimeout(()=>{w(),j.current=null},f))},[f,x,w,...a]),{droppableRects:S,measureDroppableContainers:w,measuringScheduled:l!=null};function k(){switch(g){case di.Always:return!1;case di.BeforeDragging:return n;default:return!n}}}function td(r,e){return pi(n=>r?n||(typeof e=="function"?e(r):r):null,[e,r])}function J1(r,e){return td(r,e)}function Y1(r){let{callback:e,disabled:n}=r;const a=sl(e),o=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(a)},[a,n]);return b.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function il(r){let{callback:e,disabled:n}=r;const a=sl(e),o=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(a)},[n]);return b.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Q1(r){return new Xu(mi(r),r)}function $p(r,e,n){e===void 0&&(e=Q1);const[a,o]=b.useState(null);function l(){o(p=>{if(!r)return null;if(r.isConnected===!1){var g;return(g=p??n)!=null?g:null}const y=e(r);return JSON.stringify(p)===JSON.stringify(y)?p:y})}const u=Y1({callback(p){if(r)for(const g of p){const{type:y,target:x}=g;if(y==="childList"&&x instanceof HTMLElement&&x.contains(r)){l();break}}}}),f=il({callback:l});return rn(()=>{l(),r?(f==null||f.observe(r),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),u==null||u.disconnect())},[r]),a}function X1(r){const e=td(r);return qm(r,e)}const zp=[];function Z1(r){const e=b.useRef(r),n=pi(a=>r?a&&a!==zp&&r&&e.current&&r.parentNode===e.current.parentNode?a:Qu(r):zp,[r]);return b.useEffect(()=>{e.current=r},[r]),n}function ek(r){const[e,n]=b.useState(null),a=b.useRef(r),o=b.useCallback(l=>{const u=ou(l.target);u&&n(f=>f?(f.set(u,Ru(u)),new Map(f)):null)},[]);return b.useEffect(()=>{const l=a.current;if(r!==l){u(l);const f=r.map(p=>{const g=ou(p);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,Ru(g)]):null}).filter(p=>p!=null);n(f.length?new Map(f):null),a.current=r}return()=>{u(r),u(l)};function u(f){f.forEach(p=>{const g=ou(p);g==null||g.removeEventListener("scroll",o)})}},[o,r]),b.useMemo(()=>r.length?e?Array.from(e.values()).reduce((l,u)=>Gs(l,u),Pr):Qm(r):Pr,[r,e])}function Up(r,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const a=r!==Pr;a&&!n.current&&(n.current=r),!a&&n.current&&(n.current=null)},[r]),n.current?Ho(r,n.current):Pr}function tk(r){b.useEffect(()=>{if(!nl)return;const e=r.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n==null||n()}},r.map(e=>{let{sensor:n}=e;return n}))}function rk(r,e){return b.useMemo(()=>r.reduce((n,a)=>{let{eventName:o,handler:l}=a;return n[o]=u=>{l(u,e)},n},{}),[r,e])}function tg(r){return b.useMemo(()=>r?C1(r):null,[r])}const Bp=[];function nk(r,e){e===void 0&&(e=mi);const[n]=r,a=tg(n?Ft(n):null),[o,l]=b.useState(Bp);function u(){l(()=>r.length?r.map(p=>Jm(p)?a:new Xu(e(p),p)):Bp)}const f=il({callback:u});return rn(()=>{f==null||f.disconnect(),u(),r.forEach(p=>f==null?void 0:f.observe(p))},[r]),o}function rg(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return fi(e)?e:r}function sk(r){let{measure:e}=r;const[n,a]=b.useState(null),o=b.useCallback(g=>{for(const{target:y}of g)if(fi(y)){a(x=>{const _=e(y);return x?{...x,width:_.width,height:_.height}:_});break}},[e]),l=il({callback:o}),u=b.useCallback(g=>{const y=rg(g);l==null||l.disconnect(),y&&(l==null||l.observe(y)),a(y?e(y):null)},[e,l]),[f,p]=qo(u);return b.useMemo(()=>({nodeRef:f,rect:n,setRef:p}),[n,f,p])}const ak=[{sensor:ed,options:{}},{sensor:eg,options:{}}],ik={current:{}},Po={draggable:{measure:Ap},droppable:{measure:Ap,strategy:di.WhileDragging,frequency:Pu.Optimized},dragOverlay:{measure:mi}};class Xa extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const ok={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xa,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Go},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Po,measureDroppableContainers:Go,windowRect:null,measuringScheduled:!1},ng={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Go,draggableNodes:new Map,over:null,measureDroppableContainers:Go},gi=b.createContext(ng),sg=b.createContext(ok);function lk(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xa}}}function ck(r,e){switch(e.type){case vt.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case vt.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case vt.DragEnd:case vt.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vt.RegisterDroppable:{const{element:n}=e,{id:a}=n,o=new Xa(r.droppable.containers);return o.set(a,n),{...r,droppable:{...r.droppable,containers:o}}}case vt.SetDroppableDisabled:{const{id:n,key:a,disabled:o}=e,l=r.droppable.containers.get(n);if(!l||a!==l.key)return r;const u=new Xa(r.droppable.containers);return u.set(n,{...l,disabled:o}),{...r,droppable:{...r.droppable,containers:u}}}case vt.UnregisterDroppable:{const{id:n,key:a}=e,o=r.droppable.containers.get(n);if(!o||a!==o.key)return r;const l=new Xa(r.droppable.containers);return l.delete(n),{...r,droppable:{...r.droppable,containers:l}}}default:return r}}function uk(r){let{disabled:e}=r;const{active:n,activatorEvent:a,draggableNodes:o}=b.useContext(gi),l=Vo(a),u=Vo(n==null?void 0:n.id);return b.useEffect(()=>{if(!e&&!a&&l&&u!=null){if(!Yu(l)||document.activeElement===l.target)return;const f=o.get(u);if(!f)return;const{activatorNode:p,node:g}=f;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const y of[p.current,g.current]){if(!y)continue;const x=r1(y);if(x){x.focus();break}}})}},[a,e,o,u,l]),null}function ag(r,e){let{transform:n,...a}=e;return r!=null&&r.length?r.reduce((o,l)=>l({transform:o,...a}),n):n}function dk(r){return b.useMemo(()=>({draggable:{...Po.draggable,...r==null?void 0:r.draggable},droppable:{...Po.droppable,...r==null?void 0:r.droppable},dragOverlay:{...Po.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function hk(r){let{activeNode:e,measure:n,initialRect:a,config:o=!0}=r;const l=b.useRef(!1),{x:u,y:f}=typeof o=="boolean"?{x:o,y:o}:o;rn(()=>{if(!u&&!f||!e){l.current=!1;return}if(l.current||!a)return;const g=e==null?void 0:e.node.current;if(!g||g.isConnected===!1)return;const y=n(g),x=qm(y,a);if(u||(x.x=0),f||(x.y=0),l.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const _=Hm(g);_&&_.scrollBy({top:x.y,left:x.x})}},[e,u,f,a,n])}const ol=b.createContext({...Pr,scaleX:1,scaleY:1});var Dn;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Dn||(Dn={}));const fk=b.memo(function(e){var n,a,o,l;let{id:u,accessibility:f,autoScroll:p=!0,children:g,sensors:y=ak,collisionDetection:x=b1,measuring:_,modifiers:w,...j}=e;const S=b.useReducer(ck,void 0,lk),[k,C]=S,[T,P]=l1(),[M,$]=b.useState(Dn.Uninitialized),z=M===Dn.Initialized,{draggable:{active:U,nodes:K,translate:Z},droppable:{containers:xe}}=k,oe=U!=null?K.get(U):null,J=b.useRef({initial:null,translated:null}),ce=b.useMemo(()=>{var ze;return U!=null?{id:U,data:(ze=oe==null?void 0:oe.data)!=null?ze:ik,rect:J}:null},[U,oe]),me=b.useRef(null),[ue,ne]=b.useState(null),[Q,F]=b.useState(null),B=ui(j,Object.values(j)),W=al("DndDescribedBy",u),R=b.useMemo(()=>xe.getEnabled(),[xe]),D=dk(_),{droppableRects:X,measureDroppableContainers:ee,measuringScheduled:he}=G1(R,{dragging:z,dependencies:[Z.x,Z.y],config:D.droppable}),fe=H1(K,U),ge=b.useMemo(()=>Q?Ko(Q):null,[Q]),Re=Ir(),Pe=J1(fe,D.draggable.measure);hk({activeNode:U!=null?K.get(U):null,config:Re.layoutShiftCompensation,initialRect:Pe,measure:D.draggable.measure});const Ae=$p(fe,D.draggable.measure,Pe),Rt=$p(fe?fe.parentElement:null),wt=b.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:K,draggingNode:null,draggingNodeRect:null,droppableContainers:xe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),or=xe.getNodeFor((n=wt.current.over)==null?void 0:n.id),Ot=sk({measure:D.dragOverlay.measure}),te=(a=Ot.nodeRef.current)!=null?a:fe,Se=z?(o=Ot.rect)!=null?o:Ae:null,Be=!!(Ot.nodeRef.current&&Ot.rect),lt=X1(Be?null:Ae),Pt=tg(te?Ft(te):null),st=Z1(z?or??fe:null),ct=nk(st),lr=ag(w,{transform:{x:Z.x-lt.x,y:Z.y-lt.y,scaleX:1,scaleY:1},activatorEvent:Q,active:ce,activeNodeRect:Ae,containerNodeRect:Rt,draggingNodeRect:Se,over:wt.current.over,overlayNodeRect:Ot.rect,scrollableAncestors:st,scrollableAncestorRects:ct,windowRect:Pt}),Et=ge?Gs(ge,Z):null,on=ek(st),Wr=Up(on),Ye=Up(on,[Ae]),ut=Gs(lr,Wr),Yt=Se?S1(Se,lr):null,Ar=ce&&Yt?x({active:ce,collisionRect:Yt,droppableRects:X,droppableContainers:R,pointerCoordinates:Et}):null,Qt=v1(Ar,"id"),[At,Bn]=b.useState(null),ln=Be?lr:Gs(lr,Ye),yr=_1(ln,(l=At==null?void 0:At.rect)!=null?l:null,Ae),cn=b.useRef(null),Xt=b.useCallback((ze,Ve)=>{let{sensor:xt,options:pe}=Ve;if(me.current==null)return;const je=K.get(me.current);if(!je)return;const Ce=ze.nativeEvent,Fe=new xt({active:me.current,activeNode:je,event:Ce,options:pe,context:wt,onAbort(De){if(!K.get(De))return;const{onDragAbort:$e}=B.current,ht={id:De};$e==null||$e(ht),T({type:"onDragAbort",event:ht})},onPending(De,dt,$e,ht){if(!K.get(De))return;const{onDragPending:Dr}=B.current,Zt={id:De,constraint:dt,initialCoordinates:$e,offset:ht};Dr==null||Dr(Zt),T({type:"onDragPending",event:Zt})},onStart(De){const dt=me.current;if(dt==null)return;const $e=K.get(dt);if(!$e)return;const{onDragStart:ht}=B.current,vr={activatorEvent:Ce,active:{id:dt,data:$e.data,rect:J}};Fs.unstable_batchedUpdates(()=>{ht==null||ht(vr),$(Dn.Initializing),C({type:vt.DragStart,initialCoordinates:De,active:dt}),T({type:"onDragStart",event:vr}),ne(cn.current),F(Ce)})},onMove(De){C({type:vt.DragMove,coordinates:De})},onEnd:at(vt.DragEnd),onCancel:at(vt.DragCancel)});cn.current=Fe;function at(De){return async function(){const{active:$e,collisions:ht,over:vr,scrollAdjustedTranslate:Dr}=wt.current;let Zt=null;if($e&&Dr){const{cancelDrop:qr}=B.current;Zt={activatorEvent:Ce,active:$e,collisions:ht,delta:Dr,over:vr},De===vt.DragEnd&&typeof qr=="function"&&await Promise.resolve(qr(Zt))&&(De=vt.DragCancel)}me.current=null,Fs.unstable_batchedUpdates(()=>{C({type:De}),$(Dn.Uninitialized),Bn(null),ne(null),F(null),cn.current=null;const qr=De===vt.DragEnd?"onDragEnd":"onDragCancel";if(Zt){const ca=B.current[qr];ca==null||ca(Zt),T({type:qr,event:Zt})}})}}},[K]),Fn=b.useCallback((ze,Ve)=>(xt,pe)=>{const je=xt.nativeEvent,Ce=K.get(pe);if(me.current!==null||!Ce||je.dndKit||je.defaultPrevented)return;const Fe={active:Ce};ze(xt,Ve.options,Fe)===!0&&(je.dndKit={capturedBy:Ve.sensor},me.current=pe,Xt(xt,Ve))},[K,Xt]),un=K1(y,Fn);tk(y),rn(()=>{Ae&&M===Dn.Initializing&&$(Dn.Initialized)},[Ae,M]),b.useEffect(()=>{const{onDragMove:ze}=B.current,{active:Ve,activatorEvent:xt,collisions:pe,over:je}=wt.current;if(!Ve||!xt)return;const Ce={active:Ve,activatorEvent:xt,collisions:pe,delta:{x:ut.x,y:ut.y},over:je};Fs.unstable_batchedUpdates(()=>{ze==null||ze(Ce),T({type:"onDragMove",event:Ce})})},[ut.x,ut.y]),b.useEffect(()=>{const{active:ze,activatorEvent:Ve,collisions:xt,droppableContainers:pe,scrollAdjustedTranslate:je}=wt.current;if(!ze||me.current==null||!Ve||!je)return;const{onDragOver:Ce}=B.current,Fe=pe.get(Qt),at=Fe&&Fe.rect.current?{id:Fe.id,rect:Fe.rect.current,data:Fe.data,disabled:Fe.disabled}:null,De={active:ze,activatorEvent:Ve,collisions:xt,delta:{x:je.x,y:je.y},over:at};Fs.unstable_batchedUpdates(()=>{Bn(at),Ce==null||Ce(De),T({type:"onDragOver",event:De})})},[Qt]),rn(()=>{wt.current={activatorEvent:Q,active:ce,activeNode:fe,collisionRect:Yt,collisions:Ar,droppableRects:X,draggableNodes:K,draggingNode:te,draggingNodeRect:Se,droppableContainers:xe,over:At,scrollableAncestors:st,scrollAdjustedTranslate:ut},J.current={initial:Se,translated:Yt}},[ce,fe,Ar,Yt,K,te,Se,X,xe,At,st,ut]),W1({...Re,delta:Z,draggingRect:Yt,pointerCoordinates:Et,scrollableAncestors:st,scrollableAncestorRects:ct});const dn=b.useMemo(()=>({active:ce,activeNode:fe,activeNodeRect:Ae,activatorEvent:Q,collisions:Ar,containerNodeRect:Rt,dragOverlay:Ot,draggableNodes:K,droppableContainers:xe,droppableRects:X,over:At,measureDroppableContainers:ee,scrollableAncestors:st,scrollableAncestorRects:ct,measuringConfiguration:D,measuringScheduled:he,windowRect:Pt}),[ce,fe,Ae,Q,Ar,Rt,Ot,K,xe,X,At,ee,st,ct,D,he,Pt]),hn=b.useMemo(()=>({activatorEvent:Q,activators:un,active:ce,activeNodeRect:Ae,ariaDescribedById:{draggable:W},dispatch:C,draggableNodes:K,over:At,measureDroppableContainers:ee}),[Q,un,ce,Ae,C,W,K,At,ee]);return V.createElement(Wm.Provider,{value:P},V.createElement(gi.Provider,{value:hn},V.createElement(sg.Provider,{value:dn},V.createElement(ol.Provider,{value:yr},g)),V.createElement(uk,{disabled:(f==null?void 0:f.restoreFocus)===!1})),V.createElement(d1,{...f,hiddenTextDescribedById:W}));function Ir(){const ze=(ue==null?void 0:ue.autoScrollEnabled)===!1,Ve=typeof p=="object"?p.enabled===!1:p===!1,xt=z&&!ze&&!Ve;return typeof p=="object"?{...p,enabled:xt}:{enabled:xt}}}),pk=b.createContext(null),Fp="button",mk="Draggable";function gk(r){let{id:e,data:n,disabled:a=!1,attributes:o}=r;const l=al(mk),{activators:u,activatorEvent:f,active:p,activeNodeRect:g,ariaDescribedById:y,draggableNodes:x,over:_}=b.useContext(gi),{role:w=Fp,roleDescription:j="draggable",tabIndex:S=0}=o??{},k=(p==null?void 0:p.id)===e,C=b.useContext(k?ol:pk),[T,P]=qo(),[M,$]=qo(),z=rk(u,e),U=ui(n);rn(()=>(x.set(e,{id:e,key:l,node:T,activatorNode:M,data:U}),()=>{const Z=x.get(e);Z&&Z.key===l&&x.delete(e)}),[x,e]);const K=b.useMemo(()=>({role:w,tabIndex:S,"aria-disabled":a,"aria-pressed":k&&w===Fp?!0:void 0,"aria-roledescription":j,"aria-describedby":y.draggable}),[a,w,S,k,j,y.draggable]);return{active:p,activatorEvent:f,activeNodeRect:g,attributes:K,isDragging:k,listeners:a?void 0:z,node:T,over:_,setNodeRef:P,setActivatorNodeRef:$,transform:C}}function yk(){return b.useContext(sg)}const vk="Droppable",wk={timeout:25};function xk(r){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:o}=r;const l=al(vk),{active:u,dispatch:f,over:p,measureDroppableContainers:g}=b.useContext(gi),y=b.useRef({disabled:n}),x=b.useRef(!1),_=b.useRef(null),w=b.useRef(null),{disabled:j,updateMeasurementsFor:S,timeout:k}={...wk,...o},C=ui(S??a),T=b.useCallback(()=>{if(!x.current){x.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{g(Array.isArray(C.current)?C.current:[C.current]),w.current=null},k)},[k]),P=il({callback:T,disabled:j||!u}),M=b.useCallback((K,Z)=>{P&&(Z&&(P.unobserve(Z),x.current=!1),K&&P.observe(K))},[P]),[$,z]=qo(M),U=ui(e);return b.useEffect(()=>{!P||!$.current||(P.disconnect(),x.current=!1,P.observe($.current))},[$,P]),b.useEffect(()=>(f({type:vt.RegisterDroppable,element:{id:a,key:l,disabled:n,node:$,rect:_,data:U}}),()=>f({type:vt.UnregisterDroppable,key:l,id:a})),[a]),b.useEffect(()=>{n!==y.current.disabled&&(f({type:vt.SetDroppableDisabled,id:a,key:l,disabled:n}),y.current.disabled=n)},[a,l,n,f]),{active:u,rect:_,isOver:(p==null?void 0:p.id)===a,node:$,over:p,setNodeRef:z}}function bk(r){let{animation:e,children:n}=r;const[a,o]=b.useState(null),[l,u]=b.useState(null),f=Vo(n);return!n&&!a&&f&&o(f),rn(()=>{if(!l)return;const p=a==null?void 0:a.key,g=a==null?void 0:a.props.id;if(p==null||g==null){o(null);return}Promise.resolve(e(g,l)).then(()=>{o(null)})},[e,a,l]),V.createElement(V.Fragment,null,n,a?b.cloneElement(a,{ref:u}):null)}const _k={x:0,y:0,scaleX:1,scaleY:1};function kk(r){let{children:e}=r;return V.createElement(gi.Provider,{value:ng},V.createElement(ol.Provider,{value:_k},e))}const Sk={position:"fixed",touchAction:"none"},Ek=r=>Yu(r)?"transform 250ms ease":void 0,jk=b.forwardRef((r,e)=>{let{as:n,activatorEvent:a,adjustScale:o,children:l,className:u,rect:f,style:p,transform:g,transition:y=Ek}=r;if(!f)return null;const x=o?g:{...g,scaleX:1,scaleY:1},_={...Sk,width:f.width,height:f.height,top:f.top,left:f.left,transform:ea.Transform.toString(x),transformOrigin:o&&a?m1(a,f):void 0,transition:typeof y=="function"?y(a):y,...p};return V.createElement(n,{className:u,style:_,ref:e},l)}),Ck=r=>e=>{let{active:n,dragOverlay:a}=e;const o={},{styles:l,className:u}=r;if(l!=null&&l.active)for(const[f,p]of Object.entries(l.active))p!==void 0&&(o[f]=n.node.style.getPropertyValue(f),n.node.style.setProperty(f,p));if(l!=null&&l.dragOverlay)for(const[f,p]of Object.entries(l.dragOverlay))p!==void 0&&a.node.style.setProperty(f,p);return u!=null&&u.active&&n.node.classList.add(u.active),u!=null&&u.dragOverlay&&a.node.classList.add(u.dragOverlay),function(){for(const[p,g]of Object.entries(o))n.node.style.setProperty(p,g);u!=null&&u.active&&n.node.classList.remove(u.active)}},Nk=r=>{let{transform:{initial:e,final:n}}=r;return[{transform:ea.Transform.toString(e)},{transform:ea.Transform.toString(n)}]},Tk={duration:250,easing:"ease",keyframes:Nk,sideEffects:Ck({styles:{active:{opacity:"0"}}})};function Rk(r){let{config:e,draggableNodes:n,droppableContainers:a,measuringConfiguration:o}=r;return sl((l,u)=>{if(e===null)return;const f=n.get(l);if(!f)return;const p=f.node.current;if(!p)return;const g=rg(u);if(!g)return;const{transform:y}=Ft(u).getComputedStyle(u),x=Vm(y);if(!x)return;const _=typeof e=="function"?e:Ok(e);return Xm(p,o.draggable.measure),_({active:{id:l,data:f.data,node:p,rect:o.draggable.measure(p)},draggableNodes:n,dragOverlay:{node:u,rect:o.dragOverlay.measure(g)},droppableContainers:a,measuringConfiguration:o,transform:x})})}function Ok(r){const{duration:e,easing:n,sideEffects:a,keyframes:o}={...Tk,...r};return l=>{let{active:u,dragOverlay:f,transform:p,...g}=l;if(!e)return;const y={x:f.rect.left-u.rect.left,y:f.rect.top-u.rect.top},x={scaleX:p.scaleX!==1?u.rect.width*p.scaleX/f.rect.width:1,scaleY:p.scaleY!==1?u.rect.height*p.scaleY/f.rect.height:1},_={x:p.x-y.x,y:p.y-y.y,...x},w=o({...g,active:u,dragOverlay:f,transform:{initial:p,final:_}}),[j]=w,S=w[w.length-1];if(JSON.stringify(j)===JSON.stringify(S))return;const k=a==null?void 0:a({active:u,dragOverlay:f,...g}),C=f.node.animate(w,{duration:e,easing:n,fill:"forwards"});return new Promise(T=>{C.onfinish=()=>{k==null||k(),T()}})}}let Wp=0;function Pk(r){return b.useMemo(()=>{if(r!=null)return Wp++,Wp},[r])}const Ak=V.memo(r=>{let{adjustScale:e=!1,children:n,dropAnimation:a,style:o,transition:l,modifiers:u,wrapperElement:f="div",className:p,zIndex:g=999}=r;const{activatorEvent:y,active:x,activeNodeRect:_,containerNodeRect:w,draggableNodes:j,droppableContainers:S,dragOverlay:k,over:C,measuringConfiguration:T,scrollableAncestors:P,scrollableAncestorRects:M,windowRect:$}=yk(),z=b.useContext(ol),U=Pk(x==null?void 0:x.id),K=ag(u,{activatorEvent:y,active:x,activeNodeRect:_,containerNodeRect:w,draggingNodeRect:k.rect,over:C,overlayNodeRect:k.rect,scrollableAncestors:P,scrollableAncestorRects:M,transform:z,windowRect:$}),Z=td(_),xe=Rk({config:a,draggableNodes:j,droppableContainers:S,measuringConfiguration:T}),oe=Z?k.setRef:void 0;return V.createElement(kk,null,V.createElement(bk,{animation:xe},x&&U?V.createElement(jk,{key:U,id:x.id,ref:oe,as:f,activatorEvent:y,adjustScale:e,className:p,transition:l,rect:Z,style:{zIndex:g,...o},transform:K},n):null))}),qp=15e3,Vp=300,Hp=5,Ik=2e3;function Dk(){const{projectId:r}=rm(),{openTaskDrawer:e,openCreateTaskModal:n,createTaskModalOpen:a,taskDrawerOpen:o}=Fr(),[l,u]=b.useState(null),[f,p]=b.useState([]),[g,y]=b.useState(!0),[x,_]=b.useState(null),[w,j]=b.useState(!1),[S,k]=b.useState(!1),[C,T]=b.useState("offline"),P=b.useRef(null),M=b.useRef(0),$=b.useRef(0),z=b.useRef(null),U=f1(h1(ed,{activationConstraint:{distance:8}})),K=b.useCallback(()=>{if(Date.now()-M.current<Vp){console.log(" Refresh debounced, skipping...");return}P.current&&clearTimeout(P.current),P.current=setTimeout(async()=>{M.current=Date.now(),await Z()},Vp)},[r]),Z=b.useCallback(async()=>{if(!(!r||S))try{k(!0),console.log(" Refreshing tasks...");const{data:ue,error:ne}=await ye.from("tasks").select(`
          *,
          assignee:profiles!tasks_assignee_id_fkey(full_name, avatar_url, team),
          project:projects!tasks_project_id_fkey(name, slug, client_name)
        `).eq("project_id",r).is("parent_task_id",null).order("position",{ascending:!0});if(ne)throw ne;p(ue||[]),console.log(" Tasks refreshed:",(ue==null?void 0:ue.length)||0)}catch(ue){console.error(" Error refreshing tasks:",ue),Bt.error("Error al actualizar tareas. Reintentando...")}finally{k(!1)}},[r,S]),xe=b.useCallback(async()=>{if(r)try{y(!0);const{data:ue,error:ne}=await ye.from("projects").select("*").eq("id",r).single();if(ne)throw ne;u(ue);const{data:Q,error:F}=await ye.from("tasks").select(`
          *,
          assignee:profiles!tasks_assignee_id_fkey(full_name, avatar_url, team),
          project:projects!tasks_project_id_fkey(name, slug, client_name)
        `).eq("project_id",r).is("parent_task_id",null).order("position",{ascending:!0});if(F)throw F;p(Q||[])}catch(ue){console.error(" Error loading project:",ue),Bt.error("Error al cargar el proyecto")}finally{y(!1)}},[r]);b.useEffect(()=>{r&&xe()},[r,xe]),b.useEffect(()=>{if(!r)return;const ue=()=>{console.log(" Conectando a Supabase Realtime..."),T("reconnecting");try{const Q=ye.channel(`project-tasks-${r}`).on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`project_id=eq.${r}`},async F=>{console.log(" Realtime event:",F.eventType);try{if(F.eventType==="INSERT"){const B=F.new,{data:W,error:R}=await ye.from("tasks").select(`
                      *,
                      assignee:profiles!tasks_assignee_id_fkey(full_name, avatar_url, team),
                      project:projects!tasks_project_id_fkey(name, slug, client_name)
                    `).eq("id",B.id).single();if(R)throw R;W&&p(D=>D.some(X=>X.id===W.id)?D:(console.log(" Nueva tarea via Realtime:",W.title),[...D,W]))}if(F.eventType==="UPDATE"){const B=F.new;console.log(" Tarea actualizada via Realtime:",B.id),p(W=>W.map(R=>R.id===B.id?{...R,...B}:R))}if(F.eventType==="DELETE"){const B=F.old;console.log(" Tarea eliminada via Realtime:",B.id),p(W=>W.filter(R=>R.id!==B.id))}}catch(B){console.error(" Error procesando evento Realtime:",B),K()}}).subscribe((F,B)=>{console.log(" Realtime status:",F),F==="SUBSCRIBED"?(j(!0),T("connected"),$.current=0,console.log(" Realtime conectado")):F==="CLOSED"?(j(!1),T("offline"),console.warn(" Realtime desconectado"),ne()):F==="CHANNEL_ERROR"&&(j(!1),T("offline"),console.error(" Error en canal Realtime:",B),Bt.warning("Conexin en tiempo real perdida. Usando sincronizacin automtica."),ne())});z.current=Q}catch(Q){console.error(" Error conectando Realtime:",Q),T("offline"),ne()}},ne=()=>{if($.current>=Hp){console.error(" Mximo de intentos de reconexin alcanzado"),Bt.error("No se pudo establecer conexin en tiempo real. Los cambios se sincronizarn cada 15 segundos.");return}$.current++;const Q=Ik*$.current;console.log(` Reintentando conexin en ${Q/1e3}s (intento ${$.current}/${Hp})`),T("reconnecting"),setTimeout(()=>{z.current&&ye.removeChannel(z.current),ue()},Q)};return ue(),()=>{z.current&&(console.log(" Desconectando Realtime..."),ye.removeChannel(z.current)),P.current&&clearTimeout(P.current)}},[r,K]),b.useEffect(()=>{if(!r)return;const ue=w?qp*2:qp,ne=setInterval(()=>{w||(console.log(" Polling backup: refrescando tasks..."),K())},ue),Q=()=>{console.log(" Focus: verificando actualizaciones..."),K()};window.addEventListener("focus",Q);const F=()=>{document.visibilityState==="visible"&&(console.log(" Visibility: verificando actualizaciones..."),K())};return document.addEventListener("visibilitychange",F),()=>{clearInterval(ne),window.removeEventListener("focus",Q),document.removeEventListener("visibilitychange",F)}},[r,w,K]);const oe=b.useCallback(ue=>{p(ne=>ne.map(Q=>Q.id===ue.id?{...Q,...ue}:Q))},[]),J=ue=>{const{active:ne}=ue,Q=f.find(F=>F.id===ne.id);Q&&_(Q)},ce=async ue=>{var D;const{active:ne,over:Q}=ue;if(_(null),!Q)return;const F=ne.id,B=Q.id,W=f.find(X=>X.id===F);if(!W||W.status===B)return;const R=W.status;p(X=>X.map(ee=>ee.id===F?{...ee,status:B}:ee));try{const{error:X}=await ye.from("tasks").update({status:B,previous_status:R,updated_at:new Date().toISOString()}).eq("id",F);if(X)throw X;console.log(" Estado guardado:",W.title,"",B),Bt.success(`Tarea movida a ${((D=aa[B])==null?void 0:D.label)||B}`),B_(F,R,B,W.title)}catch(X){console.error(" Error guardando estado:",X),Bt.error("Error al mover la tarea. Revirtiendo cambio..."),p(ee=>ee.map(he=>he.id===F?{...he,status:R}:he))}},me=b.useMemo(()=>{const ue={};Ro.forEach(Q=>{ue[Q]=f.filter(F=>F.status===Q)});const ne=f.filter(Q=>!Ro.includes(Q.status));return{grouped:ue,specialTasks:ne}},[f]);return g?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx(Or,{size:"lg"})}):l?h.jsxs("div",{className:"h-full flex flex-col -m-6",children:[h.jsx("div",{className:"px-4 md:px-6 py-4 border-b border-bg-tertiary bg-bg-secondary",children:h.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[h.jsx(Mo,{to:"/app/projects",className:"p-2 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",children:h.jsx(Tu,{className:"w-5 h-5"})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[h.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-lg shrink-0",style:{backgroundColor:l.color}}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("h1",{className:"text-base md:text-lg font-semibold text-text-primary truncate",children:l.name}),l.client_name&&h.jsx("p",{className:"text-xs md:text-sm text-text-secondary truncate",children:l.client_name})]})]})}),h.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 text-xs",children:[C==="connected"?h.jsxs(h.Fragment,{children:[h.jsx(D_,{className:"w-3.5 h-3.5 text-accent-success"}),h.jsx("span",{className:"text-accent-success",children:"Live"})]}):C==="reconnecting"?h.jsxs(h.Fragment,{children:[h.jsx(Cp,{className:"w-3.5 h-3.5 text-accent-warning animate-spin"}),h.jsx("span",{className:"text-accent-warning",children:"Reconectando..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(I_,{className:"w-3.5 h-3.5 text-text-secondary"}),h.jsx("span",{className:"text-text-secondary",children:"Sync"})]}),S&&h.jsx(Cp,{className:"w-3 h-3 text-accent-primary animate-spin ml-1"})]}),h.jsxs(Je,{onClick:n,size:"sm",className:"shrink-0",children:[h.jsx(ci,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline ml-1",children:"Nueva Tarea"})]})]})}),me.specialTasks.length>0&&h.jsx("div",{className:"px-4 md:px-6 py-3 bg-accent-warning/10 border-b border-accent-warning/20",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm text-accent-warning",children:[h.jsx(tn,{className:"w-4 h-4"}),h.jsxs("span",{children:[me.specialTasks.length," tarea(s) requieren atencin"]})]})}),h.jsxs(fk,{sensors:U,collisionDetection:w1,onDragStart:J,onDragEnd:ce,children:[h.jsx("div",{className:"flex-1 overflow-x-auto p-4 md:p-6",children:h.jsx("div",{className:"flex gap-3 md:gap-4 h-full min-w-max",children:Ro.map(ue=>h.jsx(Lk,{status:ue,tasks:me.grouped[ue],onTaskClick:e},ue))})}),h.jsx(Ak,{children:x?h.jsx("div",{className:"opacity-80",children:h.jsx(ig,{task:x,onClick:()=>{},isDragging:!0})}):null})]}),a&&l&&h.jsx(zm,{projectId:l.id,organizationId:l.organization_id,onSuccess:ue=>{p(ne=>[...ne,ue]),Bt.success("Tarea creada exitosamente")}}),o&&h.jsx(Um,{onTaskUpdated:oe,onRefreshTasks:K})]}):h.jsx(Zs,{title:"Proyecto no encontrado",description:"El proyecto que buscas no existe o no tienes acceso",action:h.jsx(Mo,{to:"/app/projects",children:h.jsxs(Je,{variant:"secondary",children:[h.jsx(Tu,{className:"w-4 h-4"}),"Volver a Proyectos"]})})})}function Lk({status:r,tasks:e,onTaskClick:n}){const{setNodeRef:a,isOver:o}=xk({id:r}),l=aa[r];return h.jsxs("div",{ref:a,className:be("w-64 md:w-72 flex flex-col bg-bg-secondary/50 rounded-lg shrink-0 transition-colors",o&&"bg-accent-primary/10 ring-2 ring-accent-primary/50"),children:[h.jsx("div",{className:"p-3 border-b border-bg-tertiary",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:l.color}}),h.jsx("span",{className:"font-medium text-sm text-text-primary",children:l.label}),h.jsx("span",{className:"text-xs text-text-secondary bg-bg-tertiary px-1.5 py-0.5 rounded",children:e.length})]})}),h.jsxs("div",{className:"flex-1 p-2 space-y-2 overflow-y-auto min-h-[100px]",children:[e.map(u=>h.jsx(Mk,{task:u,onClick:()=>n(u)},u.id)),e.length===0&&h.jsx("div",{className:be("text-center py-8 text-text-secondary text-sm rounded-lg border-2 border-dashed border-transparent transition-colors",o&&"border-accent-primary/50 bg-accent-primary/5"),children:o?"Soltar aqu":"Sin tareas"})]})]})}function Mk({task:r,onClick:e}){const{attributes:n,listeners:a,setNodeRef:o,transform:l,isDragging:u}=gk({id:r.id}),f={transform:ea.Translate.toString(l)};return h.jsx("div",{ref:o,style:f,...a,...n,className:be("touch-none",u&&"opacity-50"),children:h.jsx(ig,{task:r,onClick:e,isDragging:u})})}function ig({task:r,onClick:e,isDragging:n}){const a=["blocked","needs_client_approval","bug","hotfix"].includes(r.status);return h.jsx($t,{variant:"interactive",className:be("cursor-grab active:cursor-grabbing",a&&"border-accent-warning/50",n&&"shadow-lg ring-2 ring-accent-primary"),onClick:e,children:h.jsxs("div",{className:"p-3 space-y-3",children:[h.jsx("h4",{className:"text-sm font-medium text-text-primary line-clamp-2",children:r.title}),a&&h.jsx(ia,{status:r.status}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[r.due_date&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ys,{className:"w-3 h-3"}),new Date(r.due_date).toLocaleDateString("es-MX",{day:"numeric",month:"short"})]}),r.comment_count&&r.comment_count>0&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(li,{className:"w-3 h-3"}),r.comment_count]})]}),r.assignee&&h.jsx(Xs,{name:r.assignee.full_name,src:r.assignee.avatar_url,size:"sm"})]}),r.complexity&&h.jsx("div",{className:"flex items-center gap-1",children:["low","medium","high"].map((o,l)=>h.jsx("div",{className:be("w-1.5 h-3 rounded-full",l<["low","medium","high"].indexOf(r.complexity)+1?r.complexity==="high"?"bg-accent-danger":r.complexity==="medium"?"bg-accent-warning":"bg-accent-success":"bg-bg-tertiary")},o))})]})})}const Kp={task_assigned:Tp,task_status_changed:jp,approval_requested:qu,approval_completed:jp,comment_mention:li,handoff_received:Tp,deadline_approaching:tn,default:Am},Gp={task_assigned:"text-accent-primary",task_status_changed:"text-accent-success",approval_requested:"text-accent-warning",approval_completed:"text-accent-success",comment_mention:"text-accent-primary",handoff_received:"text-accent-primary",deadline_approaching:"text-accent-warning",default:"text-text-secondary"};function $k(){const r=na(),{profile:e}=an(),{openTaskDrawer:n}=Fr(),[a,o]=b.useState([]),[l,u]=b.useState(!0),[f,p]=b.useState("all");b.useEffect(()=>{(async()=>{if(!(e!=null&&e.id)){u(!1);return}console.log("Inbox: Cargando notificaciones para user:",e.id);const{data:j,error:S}=await ye.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);console.log("Inbox: Resultado:",{data:j,error:S}),S?console.error("Error loading notifications:",S):o(j||[]),u(!1)})()},[e==null?void 0:e.id]);const g=async w=>{if(console.log("Inbox: Click en notificacin:",w),!w.is_read){const{error:j}=await ye.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",w.id);j?console.error("Error marcando como leda:",j):o(S=>S.map(k=>k.id===w.id?{...k,is_read:!0}:k))}if(w.task_id){console.log("Inbox: Cargando tarea:",w.task_id);const{data:j,error:S}=await ye.from("tasks").select(`
          *,
          assignee:profiles!tasks_assignee_id_fkey(full_name, avatar_url, team),
          project:projects!tasks_project_id_fkey(id, name, slug, client_name, color)
        `).eq("id",w.task_id).single();if(console.log("Inbox: Tarea cargada:",{task:j,taskError:S}),j&&!S)console.log("Inbox: Abriendo TaskDrawer"),n(j);else{console.error("Error cargando tarea:",S);const{data:k}=await ye.from("tasks").select("*").eq("id",w.task_id).single();k&&(console.log("Inbox: Abriendo TaskDrawer (simple)"),n(k))}}else w.project_id?(console.log("Inbox: Navegando a proyecto:",w.project_id),r(`/app/projects/${w.project_id}`)):console.log("Inbox: Notificacin sin task_id ni project_id")},y=async()=>{e!=null&&e.id&&(await ye.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",e.id).eq("is_read",!1),o(w=>w.map(j=>({...j,is_read:!0}))))},x=f==="unread"?a.filter(w=>!w.is_read):a,_=a.filter(w=>!w.is_read).length;return l?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-pulse text-text-secondary",children:"Cargando notificaciones..."})}):a.length===0?h.jsx(Zs,{icon:h.jsx(Im,{className:"w-6 h-6 text-text-secondary"}),title:"Inbox vaco",description:"No tienes notificaciones pendientes"}):h.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>p("all"),className:be("px-3 py-1.5 text-sm rounded-lg transition-colors",f==="all"?"bg-accent-primary text-white":"text-text-secondary hover:bg-bg-tertiary"),children:"Todas"}),h.jsxs("button",{onClick:()=>p("unread"),className:be("px-3 py-1.5 text-sm rounded-lg transition-colors flex items-center gap-2",f==="unread"?"bg-accent-primary text-white":"text-text-secondary hover:bg-bg-tertiary"),children:["Sin leer",_>0&&h.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded-full bg-accent-danger text-white",children:_})]})]}),_>0&&h.jsx("button",{onClick:y,className:"text-sm text-accent-primary hover:underline",children:"Marcar todas como ledas"})]}),h.jsx("div",{className:"space-y-2",children:x.length===0?h.jsxs("div",{className:"text-center py-8 text-text-secondary",children:["No hay notificaciones ",f==="unread"?"sin leer":""]}):x.map(w=>{const j=Kp[w.type]||Kp.default,S=Gp[w.type]||Gp.default;return h.jsx("div",{onClick:()=>g(w),className:be("p-4 rounded-lg border border-bg-tertiary bg-bg-secondary cursor-pointer","hover:bg-bg-tertiary hover:border-accent-primary/30 transition-colors",!w.is_read&&"border-l-2 border-l-accent-primary"),children:h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:be("p-2 rounded-lg bg-bg-tertiary shrink-0",S),children:h.jsx(j,{className:"w-5 h-5"})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:be("text-sm",w.is_read?"text-text-secondary":"text-text-primary font-medium"),children:w.title}),h.jsx("p",{className:"text-sm text-text-secondary mt-0.5",children:w.message})]}),h.jsx("span",{className:"text-xs text-text-secondary shrink-0",children:To(w.created_at)})]})})]})},w.id)})})]})}const zk=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],Uk=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];function ls(r,e){return r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate()}function Bk(r,e,n){const a=[],o=new Date,l=new Date(r,e,1),u=new Date(r,e+1,0),f=l.getDay();for(let g=f-1;g>=0;g--){const y=new Date(r,e,-g);a.push({date:y,isCurrentMonth:!1,isToday:ls(y,o),tasks:Ao(n,y)})}for(let g=1;g<=u.getDate();g++){const y=new Date(r,e,g);a.push({date:y,isCurrentMonth:!0,isToday:ls(y,o),tasks:Ao(n,y)})}const p=42-a.length;for(let g=1;g<=p;g++){const y=new Date(r,e+1,g);a.push({date:y,isCurrentMonth:!1,isToday:ls(y,o),tasks:Ao(n,y)})}return a}function Ao(r,e){return r.filter(n=>{if(!n.due_date)return!1;const[a,o,l]=n.due_date.split("T")[0].split("-").map(Number),u=new Date(a,o-1,l);return ls(u,e)})}function Fk({tasks:r,onTaskClick:e}){const n=new Date,[a,o]=b.useState(n.getMonth()),[l,u]=b.useState(n.getFullYear()),[f,p]=b.useState(n),g=b.useMemo(()=>Bk(l,a,r),[l,a,r]),y=b.useMemo(()=>Ao(r,f),[r,f]),x=()=>{a===0?(o(11),u(l-1)):o(a-1)},_=()=>{a===11?(o(0),u(l+1)):o(a+1)},w=()=>{o(n.getMonth()),u(n.getFullYear()),p(n)};return h.jsxs("div",{className:"space-y-4",children:[h.jsxs($t,{className:"p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("button",{onClick:x,className:"p-2 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",children:h.jsx(w_,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("h3",{className:"text-lg font-semibold text-text-primary",children:[Uk[a]," ",l]}),h.jsx("button",{onClick:w,className:"px-2 py-1 text-xs bg-accent-primary/20 text-accent-primary rounded-lg hover:bg-accent-primary/30 transition-colors",children:"Hoy"})]}),h.jsx("button",{onClick:_,className:"p-2 rounded-lg hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",children:h.jsx(x_,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:zk.map(j=>h.jsx("div",{className:"text-center text-xs font-medium text-text-secondary py-2",children:j},j))}),h.jsx("div",{className:"grid grid-cols-7 gap-1",children:g.map((j,S)=>h.jsxs("button",{onClick:()=>p(j.date),className:be("relative p-2 rounded-lg text-sm transition-all min-h-[44px] flex flex-col items-center justify-start",j.isCurrentMonth?"text-text-primary":"text-text-secondary/50","hover:bg-bg-tertiary",ls(j.date,f)&&"bg-accent-primary/20 ring-2 ring-accent-primary",j.isToday&&!ls(j.date,f)&&"bg-bg-tertiary font-bold"),children:[h.jsx("span",{className:be("w-7 h-7 flex items-center justify-center rounded-full",j.isToday&&"bg-accent-primary text-white"),children:j.date.getDate()}),j.tasks.length>0&&h.jsxs("div",{className:"flex gap-0.5 mt-1",children:[j.tasks.slice(0,3).map((k,C)=>h.jsx("div",{className:be("w-1.5 h-1.5 rounded-full",k.priority==="urgent"?"bg-red-500":k.priority==="high"?"bg-orange-500":"bg-accent-primary")},C)),j.tasks.length>3&&h.jsxs("span",{className:"text-[10px] text-text-secondary ml-0.5",children:["+",j.tasks.length-3]})]})]},S))})]}),h.jsxs($t,{className:"p-4",children:[h.jsxs("h4",{className:"text-sm font-medium text-text-secondary mb-3",children:[ls(f,n)?"Hoy":f.toLocaleDateString("es-MX",{weekday:"long",day:"numeric",month:"long"}),y.length>0&&h.jsxs("span",{className:"ml-2 text-text-primary",children:["(",y.length," ",y.length===1?"tarea":"tareas",")"]})]}),y.length===0?h.jsx("p",{className:"text-sm text-text-secondary/50 text-center py-6",children:"No hay tareas para este da"}):h.jsx("div",{className:"space-y-2",children:y.map(j=>{var S;return h.jsx("button",{onClick:()=>e(j),className:"w-full text-left p-3 rounded-lg bg-bg-secondary hover:bg-bg-tertiary transition-colors",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:be("w-2 h-2 rounded-full mt-1.5 shrink-0",j.priority==="urgent"?"bg-red-500":j.priority==="high"?"bg-orange-500":j.priority==="medium"?"bg-yellow-500":"bg-green-500")}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:j.title}),h.jsx("p",{className:"text-xs text-text-secondary truncate",children:((S=j.project)==null?void 0:S.name)||"Sin proyecto"})]})]})},j.id)})})]})]})}const uu={all:{label:"Todas",description:"Todas las tareas pendientes"},active:{label:"Activas",description:"Tareas en progreso"},completed:{label:"Completadas",description:"Tareas completadas este mes"},blocked:{label:"Bloqueadas",description:"Tareas bloqueadas o con problemas"},waiting:{label:"Esperando Cliente",description:"Tareas pendientes de aprobacin"}};function Wk(){const[r,e]=y0(),{profile:n}=an(),{openTaskDrawer:a}=Fr(),[o,l]=b.useState([]),[u,f]=b.useState(!0),[p,g]=b.useState("status"),[y,x]=b.useState("list"),_=r.get("filter")||"all",w=()=>{e({})};b.useEffect(()=>{let k=!0;return(async()=>{if(!(n!=null&&n.id)){f(!1);return}f(!0);try{const{data:T,error:P}=await ye.from("tasks").select(`
            *,
            assignee:profiles!tasks_assignee_id_fkey(id, full_name, avatar_url, team),
            project:projects!tasks_project_id_fkey(id, name, slug, client_name, color)
          `).eq("assignee_id",n.id).order("due_date",{ascending:!0,nullsFirst:!1});if(P)throw P;k&&l(T||[])}catch(T){console.error("Error loading tasks:",T),k&&l([])}finally{k&&f(!1)}})(),()=>{k=!1}},[n==null?void 0:n.id]);const j=b.useMemo(()=>{const k=new Date,C=new Date(k.getFullYear(),k.getMonth(),1);switch(_){case"active":return o.filter(T=>!["live","optimization","blocked","bug","hotfix","needs_client_approval"].includes(T.status));case"completed":return o.filter(T=>["live","optimization"].includes(T.status)&&new Date(T.updated_at)>=C);case"blocked":return o.filter(T=>["blocked","bug","hotfix"].includes(T.status));case"waiting":return o.filter(T=>T.status==="needs_client_approval");case"all":default:return o.filter(T=>!["live","optimization"].includes(T.status))}},[o,_]),S=b.useMemo(()=>{const k={};return j.forEach(C=>{var P;let T;switch(p){case"status":T=C.status;break;case"project":T=((P=C.project)==null?void 0:P.name)||"Sin proyecto";break;case"due_date":if(!C.due_date)T="Sin fecha";else{const M=new Date(C.due_date),$=new Date,z=new Date($);z.setDate(z.getDate()+1);const U=new Date($);U.setDate(U.getDate()+7),M<$?T="Vencidas":M.toDateString()===$.toDateString()?T="Hoy":M.toDateString()===z.toDateString()?T="Maana":M<U?T="Esta semana":T="Prximamente"}break}k[T]||(k[T]=[]),k[T].push(C)}),k},[j,p]);return u?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-pulse text-text-secondary",children:"Cargando tareas..."})}):h.jsxs("div",{className:"space-y-4 md:space-y-6",children:[_!=="all"&&h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent-primary/10 border border-accent-primary/20",children:[h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsxs("span",{className:"text-sm font-medium text-accent-primary",children:["Filtro: ",uu[_].label]}),h.jsx("p",{className:"text-xs text-text-secondary mt-0.5 truncate",children:uu[_].description})]}),h.jsx("button",{onClick:w,className:"p-1.5 rounded-lg hover:bg-accent-primary/20 text-accent-primary transition-colors shrink-0 ml-2",title:"Quitar filtro",children:h.jsx(Qs,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("div",{className:"flex items-center bg-bg-secondary rounded-lg p-1",children:[h.jsxs("button",{onClick:()=>x("list"),className:be("flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-md transition-colors",y==="list"?"bg-accent-primary text-white":"text-text-secondary hover:text-text-primary"),children:[h.jsx(E_,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Lista"})]}),h.jsxs("button",{onClick:()=>x("calendar"),className:be("flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-md transition-colors",y==="calendar"?"bg-accent-primary text-white":"text-text-secondary hover:text-text-primary"),children:[h.jsx(g_,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Calendario"})]})]})}),y==="list"&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs sm:text-sm text-text-secondary whitespace-nowrap",children:"Agrupar:"}),h.jsx("div",{className:"flex items-center gap-1",children:["status","project","due_date"].map(k=>h.jsx("button",{onClick:()=>g(k),className:be("px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm rounded-lg transition-colors",p===k?"bg-accent-primary text-white":"text-text-secondary hover:bg-bg-tertiary"),children:k==="status"?"Estado":k==="project"?"Proyecto":"Fecha"},k))})]}),h.jsxs("div",{className:"text-xs sm:text-sm text-text-secondary",children:[j.length," ",j.length===1?"tarea":"tareas"]})]}),y==="calendar"?h.jsx(Fk,{tasks:o,onTaskClick:k=>a(k)}):h.jsx(h.Fragment,{children:j.length===0?h.jsx(Zs,{icon:h.jsx(Lm,{className:"w-6 h-6 text-text-secondary"}),title:_==="all"?"No tienes tareas pendientes":`No hay tareas ${uu[_].label.toLowerCase()}`,description:_==="all"?"Excelente! Ests al da con tu trabajo":"Prueba con otro filtro o revisa ms tarde",action:_!=="all"?h.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 text-sm bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 transition-colors",children:"Ver todas las tareas"}):void 0}):h.jsx("div",{className:"space-y-6",children:Object.entries(S).map(([k,C])=>{const T=p==="status"?aa[k]:null;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[T?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:T.color}}),h.jsx("h3",{className:"font-medium text-text-primary text-sm sm:text-base",children:T.label})]}):h.jsx("h3",{className:"font-medium text-text-primary text-sm sm:text-base",children:k}),h.jsx("span",{className:"text-xs text-text-secondary bg-bg-tertiary px-2 py-0.5 rounded",children:C.length})]}),h.jsx("div",{className:"space-y-2",children:C.map(P=>h.jsx(qk,{task:P,onClick:()=>a(P),showProject:p!=="project",showStatus:p!=="status"},P.id))})]},k)})})})]})}function qk({task:r,onClick:e,showProject:n=!0,showStatus:a=!0}){var f;const o=r.project,l=r.due_date&&new Date(r.due_date)<new Date,u=["blocked","needs_client_approval","bug","hotfix"].includes(r.status);return h.jsx($t,{variant:"interactive",className:be(u&&"border-l-2 border-l-accent-warning"),onClick:e,children:h.jsx(Un,{className:"p-3 sm:p-4",children:h.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[a&&h.jsx("div",{className:"w-2 h-2 rounded-full shrink-0 mt-1.5 sm:mt-0",style:{backgroundColor:((f=aa[r.status])==null?void 0:f.color)||"#6366f1"}}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start sm:items-center gap-2 flex-wrap",children:[h.jsx("h4",{className:"text-sm font-medium text-text-primary line-clamp-2 sm:truncate",children:r.title}),u&&h.jsx(ia,{status:r.status,className:"shrink-0"})]}),h.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-text-secondary",children:[n&&o&&h.jsxs(Mo,{to:`/app/projects/${o.id}`,className:"flex items-center gap-1 hover:text-text-primary truncate max-w-[150px]",onClick:p=>p.stopPropagation(),children:[h.jsx(Ks,{className:"w-3 h-3 shrink-0"}),h.jsx("span",{className:"truncate",children:o.name})]}),r.due_date&&h.jsxs("span",{className:be("flex items-center gap-1 sm:hidden",l?"text-accent-danger":"text-text-secondary"),children:[l?h.jsx(tn,{className:"w-3 h-3"}):h.jsx(Ys,{className:"w-3 h-3"}),Bo(r.due_date,{day:"numeric",month:"short"})]})]})]}),r.due_date&&h.jsxs("div",{className:be("hidden sm:flex items-center gap-1.5 text-sm shrink-0",l?"text-accent-danger":"text-text-secondary"),children:[l?h.jsx(tn,{className:"w-4 h-4"}):h.jsx(Ys,{className:"w-4 h-4"}),Bo(r.due_date,{day:"numeric",month:"short"})]})]})})})}const Vk="https://curso-orangutan-n8n.crkear.easypanel.host/webhook/egremy/approval-decision",Hk="EgremySpaces2024SecretKey!",Kk={discovery:"design",design:"build",build:"qa",qa:"deploy",deploy:"live",live:"optimization",optimization:"optimization"};function Gk(){const{token:r}=rm(),[e,n]=b.useState(null),[a,o]=b.useState(null),[l,u]=b.useState(null),[f,p]=b.useState(!0),[g,y]=b.useState(null),[x,_]=b.useState(""),[w,j]=b.useState(!1),[S,k]=b.useState(!1),[C,T]=b.useState(null);b.useEffect(()=>{r&&P()},[r]);const P=async()=>{try{console.log(" Buscando token:",r);const{data:$,error:z}=await ye.from("approval_tokens").select("*").eq("token",r).single();if(z){console.error(" Error token:",z),z.code==="PGRST116"?y("El enlace de aprobacin no es vlido o ha expirado."):y("Error al cargar la informacin.");return}if(console.log(" Token cargado:",$),new Date($.expires_at)<new Date){y("Este enlace de aprobacin ha expirado. Por favor, solicita uno nuevo.");return}if($.used_at||$.status!=="pending"){n($),k(!0),T($.status),_($.decision_feedback||""),p(!1);return}n($);const{data:U,error:K}=await ye.from("tasks").select("*").eq("id",$.task_id).single();if(K)console.error(" Error task:",K);else if(console.log(" Task cargada:",U),o(U),U.project_id){const{data:Z,error:xe}=await ye.from("projects").select("id, name, client_name").eq("id",U.project_id).single();!xe&&Z&&(console.log(" Project cargado:",Z),u(Z))}}catch($){console.error(" Error inesperado:",$),y("Ocurri un error inesperado.")}finally{p(!1)}},M=async $=>{if(e){j(!0),T($);try{console.log(" Enviando decisin:",$),console.log(" Token ID:",e.id),console.log(" Task ID:",e.task_id),console.log(" Actualizando approval_token...");const{data:z,error:U}=await ye.from("approval_tokens").update({status:$,decision_feedback:x||null,used_at:new Date().toISOString(),ip_address:"client-ip",user_agent:navigator.userAgent}).eq("id",e.id).select();if(U)throw console.error(" Error actualizando token:",U),U;console.log(" Token actualizado:",z);const K=(a==null?void 0:a.previous_status)||"build";let Z;$==="approved"?(Z=Kk[K]||"deploy",console.log(` Aprobado: ${K}  ${Z}`)):(Z=K,console.log(` Rechazado: volviendo a ${K}`)),console.log(" Actualizando tarea a estado:",Z),console.log(" Estado anterior era:",a==null?void 0:a.status),console.log(" Previous status guardado:",K);const{data:xe,error:oe}=await ye.from("tasks").update({status:Z,previous_status:(a==null?void 0:a.status)||"needs_client_approval",updated_at:new Date().toISOString()}).eq("id",e.task_id).select();if(oe?(console.error(" Error actualizando task:",oe),console.error(" Error code:",oe.code),console.error(" Error message:",oe.message),console.error(" Error details:",oe.details)):console.log(" Task actualizada:",xe),x&&x.trim()&&(a!=null&&a.organization_id)){console.log(" Agregando comentario con feedback...");const{error:ce}=await ye.from("comments").insert({task_id:e.task_id,organization_id:a.organization_id,content:`**Feedback del cliente (${$==="approved"?"Aprobado ":"Cambios solicitados "}):**

${x}`,is_client_comment:!0});ce?console.error(" Error agregando comentario:",ce):console.log(" Comentario agregado")}console.log(" Notificando al equipo va Telegram...");const J={decision:$,project_name:(l==null?void 0:l.name)||"Proyecto",task_title:(a==null?void 0:a.title)||"Tarea",comment:x||"Sin comentarios",client_name:e.client_name,next_status_suggested:Z};console.log(" Payload decisin:",J);try{const ce=await fetch(Vk,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Hk}`},body:JSON.stringify(J)}),me=await ce.json();ce.ok?console.log(" Equipo notificado por Telegram:",me):console.error(" Error notificando al equipo:",me)}catch(ce){console.error(" Error llamando webhook de decisin:",ce)}console.log(" Registrando en activity log...");try{$==="approved"?await W_(e.task_id,e.id,e.client_name,"client-browser",navigator.userAgent):await q_(e.task_id,e.id,e.client_name,x||"Sin comentarios","client-browser"),console.log(" Activity log registrado")}catch(ce){console.error(" Error registrando activity log:",ce)}console.log(" Decisin guardada exitosamente"),k(!0)}catch(z){console.error(" Error guardando decisin:",z),console.error(" Error message:",z==null?void 0:z.message),y("Error al guardar tu decisin. Por favor, intenta de nuevo."),T(null)}finally{j(!1)}}};return f?h.jsx("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Or,{size:"lg"}),h.jsx("p",{className:"mt-4 text-text-secondary",children:"Cargando informacin..."})]})}):g?h.jsx("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:h.jsxs($t,{className:"max-w-md w-full p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-accent-danger/20 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(tn,{className:"w-8 h-8 text-accent-danger"})}),h.jsx("h1",{className:"text-xl font-semibold text-text-primary mb-2",children:"Enlace no vlido"}),h.jsx("p",{className:"text-text-secondary",children:g})]})}):S&&C?h.jsx("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:h.jsxs($t,{className:"max-w-md w-full p-8 text-center",children:[h.jsx("div",{className:be("w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",C==="approved"?"bg-accent-success/20":"bg-accent-warning/20"),children:C==="approved"?h.jsx(Hs,{className:"w-8 h-8 text-accent-success"}):h.jsx(li,{className:"w-8 h-8 text-accent-warning"})}),h.jsx("h1",{className:"text-xl font-semibold text-text-primary mb-2",children:C==="approved"?"Aprobado!":"Cambios solicitados"}),h.jsx("p",{className:"text-text-secondary mb-4",children:C==="approved"?"Gracias por tu aprobacin. El equipo continuar con el proceso.":"Hemos recibido tus comentarios. El equipo revisar los cambios solicitados."}),x&&h.jsxs("div",{className:"mt-4 p-3 bg-bg-secondary rounded-lg text-left",children:[h.jsx("p",{className:"text-xs text-text-secondary mb-1",children:"Tu comentario:"}),h.jsx("p",{className:"text-sm text-text-primary",children:x})]}),h.jsx("p",{className:"text-xs text-text-secondary mt-6",children:"Puedes cerrar esta ventana."})]})}):h.jsxs("div",{className:"min-h-screen bg-bg-primary",children:[h.jsx("div",{className:"bg-bg-secondary border-b border-bg-tertiary",children:h.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-accent-primary/20 rounded-lg flex items-center justify-center",children:h.jsx(R_,{className:"w-5 h-5 text-accent-primary"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-semibold text-text-primary",children:"Solicitud de Aprobacin"}),h.jsx("p",{className:"text-sm text-text-secondary",children:(l==null?void 0:l.name)||"Proyecto"})]})]})})}),h.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("p",{className:"text-text-secondary",children:["Hola ",h.jsx("span",{className:"text-text-primary font-medium",children:e==null?void 0:e.client_name}),","]}),h.jsx("p",{className:"text-text-secondary mt-1",children:"Por favor revisa la siguiente tarea y decide si est lista para continuar."})]}),h.jsx($t,{className:"mb-6",children:h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:(a==null?void 0:a.title)||"Tarea pendiente de aprobacin"}),(a==null?void 0:a.description)&&h.jsx("p",{className:"mt-2 text-text-secondary",children:a.description})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-bg-tertiary",children:[(a==null?void 0:a.status)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-text-secondary",children:"Estado:"}),h.jsx(ia,{status:a.status})]}),(a==null?void 0:a.priority)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(tn,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-sm text-text-secondary",children:"Prioridad:"}),h.jsxs("span",{className:be("text-sm font-medium",a.priority==="urgent"&&"text-red-400",a.priority==="high"&&"text-orange-400",a.priority==="medium"&&"text-yellow-400",a.priority==="low"&&"text-green-400"),children:[a.priority==="urgent"&&" Urgente",a.priority==="high"&&" Alta",a.priority==="medium"&&" Media",a.priority==="low"&&" Baja"]})]}),(a==null?void 0:a.due_date)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ys,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-sm text-text-secondary",children:"Fecha lmite:"}),h.jsx("span",{className:"text-sm text-text-primary",children:new Date(a.due_date).toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"})})]})]}),((a==null?void 0:a.notion_page_url)||(a==null?void 0:a.google_doc_url))&&h.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-bg-tertiary",children:[a.notion_page_url&&h.jsxs("a",{href:a.notion_page_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-accent-primary hover:underline",children:[h.jsx(oi,{className:"w-4 h-4"}),"Ver en Notion"]}),a.google_doc_url&&h.jsxs("a",{href:a.google_doc_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-accent-primary hover:underline",children:[h.jsx(oi,{className:"w-4 h-4"}),"Ver documento"]})]})]})}),h.jsx($t,{className:"mb-6",children:h.jsxs("div",{className:"p-6",children:[h.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Comentarios (opcional)"}),h.jsx("textarea",{value:x,onChange:$=>_($.target.value),placeholder:"Si tienes algn comentario o necesitas cambios, escrbelos aqu...",className:"w-full px-4 py-3 bg-bg-secondary border border-bg-tertiary rounded-lg text-text-primary placeholder:text-text-secondary/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50 resize-none",rows:4,disabled:w})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs(Je,{onClick:()=>M("approved"),disabled:w,className:"flex-1 bg-accent-success hover:bg-accent-success/90",children:[w&&C==="approved"?h.jsx(Or,{size:"sm"}):h.jsx(Hs,{className:"w-5 h-5"}),"Aprobar"]}),h.jsxs(Je,{onClick:()=>M("rejected"),disabled:w,variant:"secondary",className:"flex-1 border-accent-warning text-accent-warning hover:bg-accent-warning/10",children:[w&&C==="rejected"?h.jsx(Or,{size:"sm"}):h.jsx(li,{className:"w-5 h-5"}),"Solicitar Cambios"]})]}),h.jsxs("p",{className:"text-center text-xs text-text-secondary mt-6",children:["Este enlace expira el"," ",(e==null?void 0:e.expires_at)&&new Date(e.expires_at).toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),h.jsx("div",{className:"border-t border-bg-tertiary mt-auto",children:h.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:h.jsxs("p",{className:"text-center text-xs text-text-secondary",children:["Powered by ",h.jsx("span",{className:"text-accent-primary",children:"Egremy Spaces"})]})})})]})}function Jk(){const{initialize:r,isInitialized:e}=an();return b.useEffect(()=>{r()},[r]),e?h.jsxs(n0,{children:[h.jsx(Cr,{path:"/login",element:h.jsx(J_,{children:h.jsx(Y_,{})})}),h.jsx(Cr,{path:"/approval/:token",element:h.jsx(Gk,{})}),h.jsxs(Cr,{path:"/app",element:h.jsx(G_,{children:h.jsx(K_,{})}),children:[h.jsx(Cr,{index:!0,element:h.jsx(Do,{to:"/app/dashboard",replace:!0})}),h.jsx(Cr,{path:"dashboard",element:h.jsx(Q_,{})}),h.jsx(Cr,{path:"inbox",element:h.jsx($k,{})}),h.jsx(Cr,{path:"my-tasks",element:h.jsx(Wk,{})}),h.jsx(Cr,{path:"projects",element:h.jsx(X_,{})}),h.jsx(Cr,{path:"projects/:projectId",element:h.jsx(Dk,{})})]}),h.jsx(Cr,{path:"*",element:h.jsx(Do,{to:"/app",replace:!0})})]}):h.jsx(Ku,{})}cv.createRoot(document.getElementById("root")).render(h.jsx(V.StrictMode,{children:h.jsxs(h0,{children:[h.jsx(Jk,{}),h.jsx(V0,{theme:"dark",position:"bottom-right",toastOptions:{style:{background:"#1A1A1A",border:"1px solid #262626",color:"#FFFFFF"}}})]})}));
